<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>å¬‰æˆå®éªŒå®¤ - Samme</title>
    <meta name="description" content="">
    <meta name="author" content="é»„å¤é›„">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/theme/local.css" rel="stylesheet">
    <link href="/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="/">å¬‰æˆå®éªŒå®¤</a>
        <div class="nav-collapse">
        <ul class="nav">

            <li><a href="http://www.xiiigame.com">XiiiGame</a></li>
           
            <li><a href="/pages/about.html">About</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="/phaser3chang-shi-da-wen-yi.html"><h1>Phaser3å¸¸è¯†ç­”é—®ï¼ˆä¸€ï¼‰</h1></a>
2018-12-04 å‘¨äºŒ

	by 		<a class="url fn" href="/author/samme.html">Samme.</a>
		<a class="url fn" href="/author/huang-fu-xiong.html">é»„å¤é›„.</a>
 


 
        </div>
        
        <div>
<h3 id="_1">æ³¨è¯‘è¯´æ˜</h3>
<p>æ³¨ã€è¯‘è‡ª<a href="https://github.com/samme/phaser3-faq/wiki">Phaser 3 FAQ/å¸¸è¯†ç­”é—®</a>ï¼Œä½œè€…ä¸ºSammeã€‚</p>
<h3 id="how-do-i-learn-phaser">How do I learn Phaser?</h3>
<p>// æ€ä¹ˆå­¦Phaserï¼Ÿ</p>
<ul>
<li><a href="https://phaser.io/learn">Learn Phaser</a> // å®˜ç½‘å­¦ä¹ èµ„æº</li>
<li><a href="https://rexrainbow.github.io/phaser3-rex-notes/docs/site/">Notes of Phaser 3</a> // å¾ˆå¤šæœ‰è¯¦ç»†æ³¨é‡Šçš„å®ä¾‹</li>
<li><a href="https://ourcade.co">Ourcade</a>: <a href="https://blog.ourcade.co/posts/">articles</a>, <a href="https://www.youtube.com/channel/UCJyrgLkI9LcwzUhZXxrwpyA">videos</a></li>
<li><a href="http://labs.phaser.io">Examples</a> //Phaser3å®˜æ–¹å®ä¾‹åº“</li>
<li><a href="https://photonstorm.github.io/phaser3-docs/index.html">API Reference</a> //Phaser3 APIæ–‡æ¡£</li>
</ul>
<p>And see next questions.</p>
<h3 id="im-new-to-web-development">I'm new to web development</h3>
<p>//æˆ‘æ˜¯webå¼€å‘æ–°æ‰‹</p>
<ul>
<li><a href="https://phaser.io/tutorials/getting-started-phaser3">Getting started with Phaser 3</a></li>
</ul>
<h3 id="im-new-to-javascript">I'm new to JavaScript</h3>
<p>// æˆ‘æ˜¯JavaScriptæ–°æ‰‹</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">A re-introduction to JavaScript</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide">JavaScript guide</a></li>
</ul>
<h3 id="i-know-javascript-but-ive-never-made-a-game-before">I know JavaScript but I've never made a game before</h3>
<p>// æˆ‘äº†è§£JavaScriptï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰åšè¿‡æ¸¸æˆ</p>
<ul>
<li><a href="https://phaser.io/tutorials/making-your-first-phaser-3-game">Making your first game</a></li>
</ul>
<h3 id="should-i-use-phaser-3-or-phaser-2ce">Should I use Phaser 3 or Phaser 2/CE?</h3>
<p>// æˆ‘è¯¥ç”¨Phaser3è¿˜æ˜¯Phaser2/CE?</p>
<p>Probably Phaser 3, especially if you're new to both of them.
// å¯èƒ½æ˜¯Phaser3ï¼Œå¦‚æœä½ å¯¹äºŒè€…éƒ½æ˜¯æ–°æ‰‹çš„è¯ï¼Œæ›´æ˜¯å¦‚æ­¤ã€‚</p>
<p>Phaser 3 doesn't have
// Phaser3æ²¡æœ‰ï¼š</p>
<ul>
<li><a href="https://github.com/photonstorm/phaser/issues/3640">Creature animations</a> // CreatureåŠ¨ç”»</li>
<li>Box2D physics // Box2Dç‰©ç†å¼•æ“</li>
<li>P2 physics // P2ç‰©ç†å¼•æ“</li>
<li>Impact physics (soon) // Impactç‰©ç†å¼•æ“</li>
</ul>
<p>See
// å‚è§</p>
<ul>
<li><a href="https://phaser.io/phaser3/devlog">Dev Logs</a> for progress reports // å¼€å‘æ—¥å¿—</li>
<li><a href="https://github.com/photonstorm/phaser/issues?q=is%3Aissue+is%3Aopen+label%3A%22ğŸ’–+Feature+Request%22">feature requests</a> // ç‰¹æ€§éœ€æ±‚</li>
</ul>
<h3 id="will-phaser-2-code-work-in-phaser-3">Will Phaser 2 code work in Phaser 3?</h3>
<p>// Phaser2ä»£ç åœ¨Phaser3ä¸­æœ‰æ•ˆå—ï¼Ÿ</p>
<p>No.</p>
<h3 id="should-i-convert-this-phaser-2-projecttutorial-to-phaser-3">Should I convert this Phaser 2 project/tutorial to Phaser 3?</h3>
<p>// æˆ‘åº”è¯¥æŠŠPhaser2é¡¹ç›®æˆ–æ•™ç¨‹è½¬æˆ3å—ï¼Ÿ</p>
<p>Probably not, especially if you're new to Phaser 3.
// ä¸è¦äº†å§ï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰3æ›´æ²¡å¿…è¦ã€‚</p>
<h3 id="does-phaser-3-use-pixijs">Does Phaser 3 use <a href="http://www.pixijs.com">PixiJS</a>?</h3>
<p>// Phaser3ä½¿ç”¨PixiJSå—ï¼Ÿ</p>
<p>No.</p>
<h3 id="which-phaser-am-i-using">Which Phaser am I using?</h3>
<p>// æˆ‘ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„Phaserå‘€ï¼Ÿ</p>
<p>Look in the browser console after creating a game, or in <code>Phaser.VERSION</code>.</p>
<h3 id="should-i-use-phaserjs-or-phaserminjs">Should I use <em>phaser.js</em> or <em>phaser.min.js</em>?</h3>
<p>// æˆ‘è¯¥ç”¨ <em>phaser.js</em> è¿˜æ˜¯ <em>phaser.min.js</em> ï¼Ÿ</p>
<p>Use <em>phaser.js</em> until your game is done, then switch to <em>phaser.min.js</em>.</p>
<p><em>phaser.min.js</em> is the minified (packed) build.
// æ¸¸æˆåšå®Œå‰ç”¨ <em>phaser.js</em> ï¼Œå‘å¸ƒæ—¶ç”¨å‹ç¼©ã€åŒ…è£…è¿‡çš„ <em>phaser.min.js</em> ã€‚</p>
<h3 id="but-i-switched-and-now-my-game-doesnt-work">But I switched and now my game doesn't work! :(</h3>
<p>//æˆ‘æ¢äº†ä»¥åæ¸¸æˆä¸è¿è¡Œäº†</p>
<p>That is nearly impossible. Make sure you haven't switched Phaser <strong>versions</strong> by accident (look in browser console).
// ä¸å¤§å¯èƒ½ã€‚çœ‹çœ‹æ˜¯ä¸æ˜¯ç‰ˆæœ¬æé”™äº†</p>
<h3 id="which-web-server-should-i-use-on-my-own-computer">Which web server should I use (on my own computer)?</h3>
<p>// æœ¬æœºä¸Šç”¨ä»€ä¹ˆwebæœåŠ¡å™¨</p>
<p>There are <a href="https://gist.github.com/willurd/5720255">many</a> and you may have some already installed.
// æœ‰å¾ˆå¤šé€‰æ‹©ï¼ŒNodeçš„http-serverå°±æŒºå¥½ï¼Œå®‰è£…ã€è¿è¡Œå¦‚ä¸‹ï¼š</p>
<p>If you already have <a href="https://nodejs.org/en/">Node</a>/npm, then <a href="https://www.npmjs.com/package/http-server">http-server</a> is a good choice. Install once with</p>
<div class="highlight"><pre><span></span><code>npm i -g http-server
</code></pre></div>
<p>Then run in your project directory:</p>
<div class="highlight"><pre><span></span><code>http-server . -c-1 --open
</code></pre></div>
<p><code>-c-1</code> means <em>don't cacheï¼ˆä¸ç¼“å­˜ï¼‰</em> and <code>--open</code> means <em>open a browserï¼ˆæ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼‰</em>.</p>
<h3 id="how-should-i-organize-my-project">How should I organize my project?</h3>
<p>// æˆ‘è¯¥æ€ä¹ˆç»„ç»‡å·¥ç¨‹ï¼Ÿ</p>
<p>There's no particular requirement, except one HTML file that loads the Phaser library and your own game script.</p>
<h3 id="how-can-i-code-in-modules">How can I code in modules?</h3>
<p>// æ€ä¹ˆä½¿ç”¨æ¨¡å—åŒ–ç¼–ç¨‹</p>
<p>Use a bundler such as <a href="https://parceljs.org/">parcel</a>, <a href="https://rollupjs.org/guide/en/">rollup</a> or <a href="https://webpack.js.org/">webpack</a>.
// ä½¿ç”¨åŒ…è£…å™¨ï¼Œæ¯”å¦‚â€¦â€¦</p>
<p>You can't use Phaser 3 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">as an ES module</a> (<code>&lt;script type=module&gt;</code>).
// å¯ä»¥æŠŠPhaser3å½“ä½œä¸€ä¸ªESæ¨¡å—</p>
<h3 id="can-i-use-es6-syntax">Can I use ES6 syntax?</h3>
<p>// å¯ä»¥ç”¨ES6è¯­æ³•å—ï¼Ÿ</p>
<p>Yes. If you're publishing a game for general use, you should probably transpile it.</p>
<h3 id="how-do-i-use-phaser-with-typescript">How do I use Phaser with TypeScript?</h3>
<p>// æ€ä¹ˆé…åˆä½¿ç”¨TypeScriptå’ŒPhaserï¼Ÿ</p>
<p>Since v3.17.0, Phaser's declaration file is included.
//å·²ç»å«æœ‰å£°æ˜æ–‡ä»¶</p>
<p>It's usually found automatically, but if it's not, you can add <a href="https://github.com/photonstorm/phaser/blob/master/types/phaser.d.ts">node_modules/phaser/types/phaser.d.ts</a> to the files entry of your project's <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html">tsconfig</a> file.
//å¦‚æœä¸èƒ½è‡ªåŠ¨å‘ç°ï¼Œå¯ä»¥æŠŠå£°æ˜æ–‡ä»¶æ”¾åˆ°å…¥å£æ–‡ä»¶ä¸­</p>
<ul>
<li><a href="https://github.com/photonstorm/phaser3-typescript-project-template">phaser3-typescript-project-template</a>
// TSé¡¹ç›®æ¨¡æ¿</li>
</ul>
<h3 id="can-phaser-do-something-how-can-i-do-something-with-phaser">Can Phaser do (something) / How can I do (something) with Phaser?</h3>
<p>// Phaserèƒ½åš/æ€ä¹ˆåšæŸäº‹ï¼Ÿ</p>
<p>Study the <a href="http://labs.phaser.io">examples</a>.</p>
<h3 id="how-do-i-use-the-api-reference">How do I use the API Reference?</h3>
<p>//æ€ä¹ˆä½¿ç”¨APIå‚è€ƒæ–‡æ¡£ï¼Ÿ</p>
<p>Start at <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Game.html#Game">new Phaser.Game()</a> or the <strong>Scene</strong> menu.
// ä»â€¦â€¦è¿™ä¸¤ä¸ªåœ°æ–¹å¼€å§‹</p>
<h3 id="how-can-i-fix-errors-in-the-api-docs-or-typescript-definitions">How can I fix errors in the <a href="https://photonstorm.github.io/phaser3-docs/index.html">API docs</a> or TypeScript definitions?</h3>
<p>// æ€ä¹ˆä¿®æ­£æ–‡æ¡£æˆ–ç±»å‹å®šä¹‰çš„é”™è¯¯</p>
<p>Make a pull request. Phaser uses the <a href="http://usejsdoc.org">JSDoc</a> format and generates the TypeScript definitions from them for each release.</p>
<ul>
<li><a href="https://github.com/photonstorm/phaser/blob/master/README.md#typescript-definitions">TypeScript definitions</a></li>
</ul>
<h3 id="how-do-i-use-phaser-with-webpack">How do I use Phaser with <a href="https://webpack.js.org">webpack</a>?</h3>
<p>// æ€ä¹ˆä½¿ç”¨webpack</p>
<p><a href="https://github.com/photonstorm/phaser3-project-template">phaser3-project-template</a> is a simple configuration, and there are others.
//è¿™æ˜¯ä¸ªç®€å•é…ç½®æ¨¡æ¿</p>
<h3 id="how-do-i-make-a-custom-build-of-phaser">How do I make a custom build of Phaser?</h3>
<p>// æ€ä¹ˆå®šåˆ¶Phaser</p>
<p>See <a href="https://github.com/photonstorm/phaser3-custom-build">phaser3-custom-build</a>.</p>
<h3 id="i-tried-to-run-my-phaser-game-and-all-i-see-is-a-blank-pageblack-canvas">I tried to run my Phaser game and all I see is a blank page/black canvas.</h3>
<p>//è¿è¡Œæ¸¸æˆæ˜¯å¾—åˆ°ç™½é¡µ/é»‘ç”»é¢</p>
<p>Open the browser console.
//æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°</p>
<h3 id="why-dont-my-assets-load">Why don't my assets load?</h3>
<p>// ä¸ºä»€ä¹ˆæˆ‘çš„èµ„æºæ²¡æœ‰åŠ è½½ï¼Ÿ</p>
<p>Look in your browser's address bar. If you see a file: URL, you need to run a local web server and open the game from there instead. The URL in the address bar should start with http: or https:, like http://localhost or http://127.0.0.1.</p>
<p>Open your browser's console and look for errors.</p>
<p>If you see <em>Not found</em> errors, open the <strong>full URL</strong> and check it for mistakes.</p>
<p>If you see error messages similar to <em>Cross origin requests are only supported for HTTP</em>, you need to run a local web server and open the game from there instead.</p>
<p>If you see errors similar to <em>Origin [origin] is not allowed by Access-Control-Allow-Origin</em>, you can try making cross-origin requests.</p>
<h3 id="how-do-i-load-cross-origin-assets">How do I load cross-origin assets?</h3>
<p>// æ€ä¹ˆåŠ è½½è·¨åŸŸèµ„æºï¼Ÿ</p>
<p>Set loader.crossOrigin to 'anonymous' in your game config, or use this.load.setCORS('anonymous'). But this doesn't guarantee the cross-origin request will succeed; the server hosting the asset also has to agree to share it.</p>
<p>If you're loading assets from the same origin (usually the same domain or server), don't set crossOrigin.
// åŒåŸŸåŠ è½½èµ„æºæ—¶ä¸åº”è®¾ç½® <code>crossOrigin</code>ã€‚ã€æ³¨æ„ï¼Œæœ¬æœºçš„127.0.0.1ã€localhostã€0.0.0.0ä¸‰è€…ä¹‹é—´æ„æˆè·¨åŸŸã€‘</p>
<h3 id="how-can-i-make-a-game-object-stay-the-same-size-when-the-camera-zooms">How can I make a game object stay the same size when the camera zooms?</h3>
<p>// é•œå¤´æ‹‰åŠ¨æ—¶æ€ä¹ˆä¿æŒå¯¹è±¡å°ºå¯¸ä¸å˜ï¼Ÿ</p>
<ul>
<li>Scale the object by the camera zoom; or</li>
<li>Create a second camera and split your game objects between it and the main camera, using <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Cameras.Scene2D.Camera.html#ignore__anchor">ignore</a> (this is a bit of a pain); or</li>
<li>Create a second scene atop the first</li>
</ul>
<h3 id="how-do-i-pauseresume-the-game">How do I pause/resume the game?</h3>
<p>// æ€ä¹ˆæš‚åœã€ç»­æ’­æ¸¸æˆï¼Ÿ</p>
<p>Call <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#pause__anchor">pause</a> or <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#resume__anchor">resume</a> on each scene.</p>
<h3 id="how-do-i-stop-the-game-from-pausing-when-switching-tabsapplications">How do I stop the game from pausing when switching tabs/applications?</h3>
<p>// åˆ‡æ¢tabé”®/åº”ç”¨æ—¶æš‚åœçš„æ¸¸æˆæ€ä¹ˆåœæ­¢ï¼Ÿ</p>
<p>This is not a true game pause but the browser suspending the page, which necessarily halts halt the update loop.
//è¿™ä¸æ˜¯çœŸçš„æš‚åœäº†æ¸¸æˆï¼ŒäºŒåæµè§ˆå™¨é¡µé¢æŒ‚èµ·</p>
<p>Use the game events <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Core.Events.html#event:BLUR">BLUR</a>, <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Core.Events.html#event:FOCUS">FOCUS</a>, <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Core.Events.html#event:HIDDEN">HIDDEN</a>, and <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Core.Events.html#event:VISIBLE">VISIBLE</a> to respond to these changes.
//è¯·ä½¿ç”¨è¿™äº›æ¸¸æˆäº‹ä»¶å’Œå±æ€§</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout">setTimeout</a> calls may run as often as once per second while in the background, depending on the browser. <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> can run more frequently. </p>
<h3 id="how-does-auto-choose-the-renderer">How does AUTO choose the renderer?</h3>
<p>//autoæ˜¯æ€ä¹ˆé€‰æ‹©æ¸²æŸ“å™¨çš„ï¼Ÿ</p>
<p>It chooses WebGL if the device appears to support it and Canvas otherwise.
//ä¼˜å…ˆé€‰æ‹©webgl</p>
<h3 id="how-do-i-make-a-high-resolution-canvas">How do I make a high-resolution canvas?</h3>
<p>// æ€ä¹ˆåšé«˜è§£æåº¦çš„ç”»å¸ƒï¼Ÿ</p>
<p>In v3.15, pass a resolution value larger than 1 in the game config.</p>
<p>Since v3.16, <a href="https://github.com/photonstorm/phaser/issues/4417">resolution is unsupported</a>.</p>
<h3 id="how-do-i-use-high-resolution-text-why-is-my-text-blurry">How do I use high-resolution text / Why is my text blurry?</h3>
<p>// æ€ä¹ˆç”¨é«˜è§£ææ–‡æœ¬/ä¸ºä»€ä¹ˆæˆ‘çš„æ–‡æœ¬æ¨¡ç³Šï¼Ÿ</p>
<h3 id="how-do-i-scaleresize-the-game-canvas">How do I scale/resize the game canvas?</h3>
<p>// æ¸¸æˆç”»å¸ƒæ€ä¹ˆç¼©æ”¾/é‡è®¢å°ºå¯¸ï¼Ÿ</p>
<p>Since v3.16.0, use the <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scale.ScaleManager.html">Scale Manager</a>.
//v3.16.0ç‰ˆä»¥åï¼Œè¯·ä½¿ç”¨<a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scale.ScaleManager.html">å°ºå¯¸ç®¡ç†å™¨/Scale Manager</a>.</p>
<ul>
<li><a href="https://labs.phaser.io/index.html?dir=scalemanager/">Scale Manager examples</a>.
//å°ºå¯¸ç®¡ç†å™¨çš„å®ä¾‹<a href="https://labs.phaser.io/index.html?dir=scalemanager/">å°ºå¯¸ç®¡ç†å™¨çš„å®ä¾‹</a>.</li>
</ul>
<h3 id="why-do-my-sprites-look-blurry">Why do my sprites look blurry?</h3>
<p>// ä¸ºä»€ä¹ˆæˆ‘çš„ç²¾çµçœ‹èµ·æ¥æ¨¡ç³Šï¼Ÿ</p>
<p>Set <code>antialias: false</code> or <code>pixelArt: true</code> in your game config. You don't need to set both.</p>
<ul>
<li><a href="https://github.com/photonstorm/phaser/blob/master/CHANGELOG.md#round-pixels-changes">Round pixels changes</a></li>
</ul>
<h3 id="why-is-my-text-blurry">Why is my text blurry?</h3>
<p>// ä¸ºä»€ä¹ˆæˆ‘çš„æ–‡æœ¬æ¨¡ç³Šï¼Ÿ</p>
<p>Avoid scaling a Text object or the game canvas larger than 100%.</p>
<h3 id="how-do-scenes-work">How do scenes work?</h3>
<p>// åœºæ™¯æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Ÿ</p>
<p>A <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scene.html">scene</a> is like a self-contained "world" within the game. Every game has at least one scene. If you've used <code>preload()</code>, <code>create()</code>, or <code>update()</code>, then you've already used a scene.</p>
<p>In multi-scene games, a scene can be a "screen", a menu, a level, or a window.
// åœ¨å¤šåœºæ™¯æ¸¸æˆä¸­ï¼Œåœºæ™¯å¯ä»¥ç”¨æ¥åšâ€œå±â€ã€èœå•ã€â€œçº§â€ã€çª—å£ã€‚
// ç¼ºçœæƒ…å†µä¸‹ï¼ŒPhaseråŠ å…¥ä½ æŒ‡å®šçš„æ‰€æœ‰åœºæ™¯ï¼Œä½†åªå¯åŠ¨ç¬¬ä¸€ä¸ªã€‚Phaserä¹Ÿèƒ½åŒæ—¶è¿è¡Œã€æ˜¾ç¤ºå¤šä¸ªåœºæ™¯ã€‚ã€å¹¶è¡Œåœºæ™¯å¯åšUIã€‘</p>
<ul>
<li><strong>What is a Scene?</strong> etc. in <a href="https://phaser.io/phaser3/devlog/119">Scenes guide part 1 in Phaser 3 Dev Log #119</a></li>
<li><strong>Scene Updating and Rendering</strong> etc. in <a href="https://phaser.io/phaser3/devlog/121">Scenes guide part 2 in Phaser 3 Dev Log #121</a></li>
<li><a href="https://github.com/jdotrjs/phaser-guides/blob/master/Basics/Part3.md">Let's talk about scenes</a></li>
<li><a href="https://gist.github.com/samme/01a33324a427f626254c1a4da7f9b6a3">Scenes summary</a></li>
<li><a href="http://phaser.io/examples/v3/category/scenes">Scenes examples</a> (mostly technical demos)</li>
<li>Play through <a href="https://samme.itch.io/cavern-quest">Cavern Quest</a> and watch the scenes panel.</li>
</ul>
<h3 id="how-do-i-use-this-in-a-scene">How do I use <code>this</code> in a scene?</h3>
<p>// åœ¨åœºæ™¯ä¸­æ€ä¹ˆç”¨<code>this</code>ï¼Ÿ</p>
<ul>
<li>Within a scene's method hooks (init, preload, create, update), <code>this</code> is <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scene.html">the current scene</a>.
// åœ¨åœºæ™¯çš„æ–¹æ³•é’©å­(init, preload, create, update)ä¸­ï¼Œ<code>this</code>æŒ‡å‘å½“å‰åœºæ™¯ã€‚</li>
<li>If you define your own scene methods, call them as <code>this.method(â€¦)</code> to keep the scene context.
// ä½ è‡ªå®šä¹‰çš„åœºæ™¯æ–¹æ³•ï¼Œç”¨<code>this.myMethod(â€¦)</code>è¿™æ ·è°ƒç”¨ï¼Œä»¥æŒæœ‰åœºæ™¯ä¸Šä¸‹æ–‡ã€‚</li>
<li>If you pass a callback that uses <code>this</code>, you must also pass a callback context. Pass <code>this</code> if you want to keep the scene context.
// å¦‚æœä¼ é€’ä¸€ä¸ªä½¿ç”¨<code>this</code>çš„å›è°ƒå‡½æ•°ï¼Œä½ ä¹Ÿè¦ä¼ é€’ä¸Šä¸‹æ–‡ã€‚â€”â€”ä¼ é€’<code>this</code>ä»¥æŒæœ‰åœºæ™¯ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h3 id="can-i-use-just-one-scene">Can I use just one scene?</h3>
<p>//å¯ä»¥åªç”¨ä¸€ä¸ªåœºæ™¯å—</p>
<p>For simple games, yes. Most of the examples are written this way.</p>
<h3 id="when-should-i-use-different-scenes">When should I use different scenes?</h3>
<p>//ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ä¸åŒçš„åœºæ™¯</p>
<p>It depends, but if you want to pause it, start/restart it, or move it, it could be a scene.</p>
<h3 id="how-do-i-switch-scenes">How do I switch scenes?</h3>
<p>//æ€ä¹ˆåˆ‡æ¢åœºæ™¯</p>
<p>this.scene.start('key') stops the current scene and starts another (named by 'key'). Using only <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#start">start</a>, you can move through scenes one at a time.</p>
<p><a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#launch">launch</a>, <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#run">run</a>, and <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scenes.ScenePlugin.html#switch">switch</a> are variations on start. They affect the calling scene differently.
// <code>launch</code>, <code>run</code>, <code>switch</code>æ˜¯<code>start</code>çš„å˜ä½“ã€‚</p>
<ul>
<li><a href="https://gist.github.com/samme/01a33324a427f626254c1a4da7f9b6a3">Scenes summary</a></li>
</ul>
<h3 id="how-do-i-restart-a-scene">How do I restart a scene?</h3>
<p>//æ€ä¹ˆé‡å¯åœºæ™¯</p>
<p>this.scene.restart() or this.scene.launch('key')### What happens when I stop/restart a scene?</p>
<p>When you stop a scene, the scene's display and update lists are emptied and the game objects they contained are destroyed (unlinked). The scene systems (clock, input, physics, tweens) shut down and clear their own data and event handlers. The scene's own event handlers are <strong>not</strong> cleared. The scene becomes inactive and invisible, but it's still there, and it can be started again.
// åœæ­¢åœºæ™¯æ—¶ï¼Œåœºæ™¯çš„æ˜¾ç¤ºåˆ—è¡¨ã€æ›´æ–°åˆ—è¡¨å°†æ¸…ç©ºï¼Œå…¶ä¸­çš„æ¸¸æˆå¯¹è±¡å°†é”€æ¯ã€‚åœºæ™¯çš„æ’ä»¶å°†å…³é—­ï¼Œæ’ä»¶çš„æ•°æ®ï¼ˆè¾“å…¥äº‹ä»¶ã€æ—¶é—´äº‹ä»¶ã€è¡¥é—´åŠ¨ç”»ï¼Œç­‰ç­‰ï¼‰å°†æ¸…é™¤ã€‚åœºæ™¯çš„äº‹ä»¶å¤„ç†å™¨<strong>ä¸ä¼š</strong>è¢«æ¸…æ¥šã€‚åœºæ™¯ä¸å†æ´»åŠ¨ï¼Œä¸å†å¯è§ã€‚</p>
<p>When you restart a scene, it's stopped and then started again, calling <code>init()</code>, <code>preload()</code>, and <code>create()</code>.
// é‡å¯åœºæ™¯ï¼Œåœºæ™¯å°†å…³é—­åé‡å¯ï¼Œè°ƒç”¨<code>init()</code>, <code>preload()</code>, <code>create()</code>æ–¹æ³•ã€‚</p>
<h3 id="why-do-i-get-errors-when-i-restart-a-scene">Why do I get errors when I restart a scene?</h3>
<p>//é‡å¯åœºæ™¯å‡ºé”™</p>
<p>Look at the error message and trace. You may be able to figure out which object or event handler is involved.</p>
<ul>
<li>Before restarting, remove any scene event handlers (this.events) that reference game objects.</li>
<li>Before restarting, reset your own state variables, if you have any.</li>
<li>Avoid setInterval() and setTimeout().</li>
</ul>
<h3 id="whats-the-difference-between-the-add-and-make-methods">What's the difference between the add.<em> and make.</em> methods?</h3>
<p>// <code>add.*</code>å’Œ<code>make.*</code>ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>The <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectFactory.html">add methods</a> use ordered arguments and register the new object with scene.
// <code>add.*</code>æ–¹æ³•ä½¿ç”¨é¡ºåºå‚æ•°/ä½ç½®å‚æ•°ï¼Œåœ¨åœºæ™¯ä¸­æ³¨å†Œæ–°å¯¹è±¡ã€‚</p>
<p>The <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectCreator.html">make methods</a> use configuration objects and register the new object with the scene only if specified, or by default, depending on the method. You might always pass an <code>add</code>/<code>addToScene</code> value to avoid confusion.
// <code>make.*</code>æ–¹æ³•ä½¿ç”¨é…ç½®å¯¹è±¡ï¼Œæ˜¯å¦æ³¨å†Œæ–°å¯¹è±¡è¦æŒ‡å®šï¼Œç¼ºçœæƒ…å†µä¸‹å› æ–¹æ³•ä¸åŒæƒ…å†µä¸åŒã€‚â€”â€”å¯ä»¥å§‹ç»ˆæ·»åŠ <code>add</code>/<code>addToScene</code>å€¼ï¼Œä»¥å…æ··ä¹±ã€‚</p>
<h3 id="do-i-have-to-load-the-assets-i-need-in-every-scene">Do I have to load the assets I need in every scene?</h3>
<p>//æ¯ä¸ªåœºæ™¯éœ€è¦çš„èµ„æºéƒ½éœ€è¦é‡æ–°åŠ è½½ä¸€æ¬¡å—ï¼Ÿ</p>
<p>No. All of Phaser's caches are global. Assets need to be loaded (only once) before they can be used, in any scene.
//ä¸éœ€è¦ã€‚Phaserçš„ç¼“å­˜æ˜¯å…¨å±€çš„</p>
<h3 id="how-do-i-make-a-loading-progress-indicator">How do I make a loading progress indicator?</h3>
<p>// æ€ä¹ˆåšåŠ è½½è¿›åº¦æ¡ï¼Ÿ</p>
<p>Bind to the loader's <code>start</code>, <code>progress</code>, and <code>loadcomplete</code> events during the preload callback, or earlier.</p>
<h3 id="i-need-per-file-loading-progress">I need per-file loading progress.</h3>
<p>// æˆ‘éœ€è¦å•æ–‡ä»¶çš„åŠ è½½è¿›åº¦ã€‚</p>
<p>Bind to the <code>fileprogress</code> event.
// ç»‘å®šåˆ°<code>fileprogress</code>äº‹ä»¶ã€‚</p>
<ul>
<li><a href="http://labs.phaser.io/edit.html?src=src\loader\loader%20events\file%20progress%20event.js">file progress event</a></li>
</ul>
<h3 id="can-i-queue-files-during-loading">Can I queue files during loading?</h3>
<p>// åŠ è½½è¿‡ç¨‹ä¸­å¯ä»¥è¯·æ±‚æ–‡ä»¶å—ï¼Ÿ</p>
<p>Yes.</p>
<h3 id="how-do-i-add-a-child-sprite">How do I add a child sprite?</h3>
<p>// æ€ä¹ˆåŠ å…¥å­ç²¾çµï¼Ÿ</p>
<p>Phaser 3's display list is flat, so there are no child sprites. It does have a special game object, <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.Container.html">Container</a>, that applies transformations to its children (including other containers).
// Phaser3çš„æ˜¾ç¤ºåˆ—è¡¨æ˜¯æ‰å¹³çš„ï¼Œæ‰€æœ‰æ²¡æœ‰å­ç²¾çµã€‚ä¸è¿‡å¦æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ¸¸æˆå¯¹è±¡<code>Container</code>ï¼ˆå®¹å™¨ï¼‰ï¼Œå¯ä»¥å¯¹å­é¡¹ï¼ˆåŒ…æ‹¬å­å®¹å™¨ï¼‰ç»Ÿä¸€åº”ç”¨å˜å½¢ã€‚</p>
<p>Blitters and particle managers can shift-transform their children (bobs and particle emitters).
// ä½å—ä¼ é€å™¨å’Œç²’å­ç®¡ç†å™¨å¯ä»¥å¯¹å­é¡¹ï¼ˆbobå’Œç²’å­å‘å°„å™¨ï¼‰è¿›è¡Œä½ç§»å˜æ¢ã€‚</p>
<h3 id="can-i-nest-containers">Can I nest containers?</h3>
<p>// å¯ä»¥åµŒå¥—å®¹å™¨å—</p>
<p>Yes.</p>
<h3 id="can-i-mask-a-container">Can I mask a container?</h3>
<p>//å®¹å™¨å¯ä»¥é®ç½©å—</p>
<p>Yes, only if that container is not in another container.</p>
<h3 id="can-i-mask-a-game-object-in-a-container">Can I mask a game object in a container?</h3>
<p>//å®¹å™¨å†…çš„æ¸¸æˆå¯¹è±¡å¯ä»¥é®ç½©å—</p>
<p>Yes, only if the mask source is not in the container.</p>
<h3 id="can-i-set-a-containers-origin">Can I set a container's origin?</h3>
<p>//å¯ä»¥è®¾ç½®å®¹å™¨çš„åŸç‚¹å—</p>
<p>No, but you can position children around (0, 0).</p>
<h3 id="how-do-i-extend-a-game-object">How do I extend a game object?</h3>
<p>// æ€ä¹ˆæ‰©å±•æ¸¸æˆå¯¹è±¡ï¼ˆç±»ç»§æ‰¿ï¼‰ï¼Ÿ</p>
<p>You can use the traditional ES5 form, the Phaser.Class helper, or ES6 classes.</p>
<p>The most common mistake is to add the instance to the scene incorrectly, or not at all. From the scene, you can call
// æœ€å¸¸è§çš„é”™è¯¯æ˜¯æ·»åŠ å®ä¾‹ä¸æ­£ç¡®ï¼Œæˆ–æ— æ³•æ·»åŠ ã€‚å¯ä»¥ä»åœºæ™¯è°ƒç”¨ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">existing</span><span class="p">(</span> <span class="k">new</span> <span class="nx">ExtendedObject</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="cm">/* ... */</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div>
<p>or from the class</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">existing</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</code></pre></div>
<p>For a physics-enabled game object, use the physics plugin's <code>existing</code> method as well.
// å¯¹äºå¼€å¯ç‰©ç†å¼•æ“çš„æ¸¸æˆå¯¹è±¡ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨ç‰©ç†å¼•æ“æ’ä»¶çš„<code>existing</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">physics</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">existing</span><span class="p">(</span> <span class="k">new</span> <span class="nx">ExtendedObject</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="cm">/* ... */</span><span class="p">)</span> <span class="p">);</span>
</code></pre></div>
<p>When in doubt, imitate the <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectFactory.html">factory method</a> of the parent class. Make sure you're passing the parent constructor's arguments correctly.</p>
<p>You can also write your own <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectFactory.html">factory method</a> and call it, or register your game object with the plugin manager.
// ä¹Ÿå¯ä»¥å†™è‡ªå·±çš„å·¥å‚å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼Œç„¶åè°ƒç”¨ï¼Œæˆ–åœ¨æ’ä»¶ç®¡ç†å™¨ä¸­æ³¨å†Œä½ çš„æ¸¸æˆå¯¹è±¡ã€‚</p>
<ul>
<li><a href="http://labs.phaser.io/edit.html?src=src\plugins\custom%20game%20object.js">custom game object, with registerGameObject()</a></li>
<li><a href="http://labs.phaser.io/view.html?src=src/physics/arcade/extending%20arcade%20sprite.js">extending Arcade Sprite</a></li>
<li><a href="http://labs.phaser.io/view.html?src=src/game%20objects/sprites/custom%20sprite%20class%20ES6.js">custom Sprite class, ES6</a></li>
</ul>
<h3 id="how-do-i-run-a-game-objects-update-method-automatically">How do I run a game object's <code>update</code> method automatically?</h3>
<p>// æ€ä¹ˆè‡ªåŠ¨åœ°è¿è¡Œæ¸¸æˆå¯¹è±¡çš„<code>update</code>æ–¹æ³•ã€‚</p>
<ul>
<li>Bind to the scene's <code>update</code> event; or
// ç»‘å®šåˆ°åœºæ™¯çš„<code>update</code>äº‹ä»¶ä¸Šï¼›æˆ–è€…</li>
<li>Add the game object to a group and set the group's <code>runChildUpdate</code>; or
// æŠŠæ¸¸æˆå¯¹è±¡æ·»åŠ åˆ°ç»„ï¼Œç„¶åè®¾ç½®ç»„çš„<code>runChildUpdate</code>ï¼›æˆ–è€…</li>
<li><a href="https://github.com/samme/phaser-plugin-update">Use a plugin</a>
// ä½¿ç”¨æ’ä»¶</li>
</ul>
<p>If the game object has a <code>preUpdate</code> method (such as a Sprite, but not an Image), you can <a href="http://labs.phaser.io/edit.html?src=src/game%20objects\sprites\custom%20sprite%20class%20ES6.js">override the <code>preUpdate</code> method instead</a>. Make sure you call the parent class's method as well.
// å¦‚æœæ¸¸æˆå¯¹è±¡æœ‰<code>preUpdate</code>æ–¹æ³•ï¼ˆæ¯”å¦‚æ˜¯Spriteè€Œä¸æ˜¯Imageï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥é‡è½½<code>preUpdate</code>æ–¹æ³•ã€‚è¯·ç¡®ä¿ä½ ä¹Ÿè°ƒç”¨äº†çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<ul>
<li><a href="https://github.com/photonstorm/phaser/issues/3378">#3378</a></li>
</ul>
<p>If the game object has a <code>preUpdate</code> method (such as a Sprite, but not an Image), you can <a href="http://labs.phaser.io/edit.html?src=src/game%20objects\sprites\custom%20sprite%20class%20ES6.js">override the <code>preUpdate</code> method instead</a>. Make sure you call the parent class's method as well.
// å¦‚æœæ¸¸æˆå¯¹è±¡æœ‰<code>preUpdate</code>æ–¹æ³•ï¼Œä½ ä¹Ÿå¯ä»¥è¦†ç›–/é‡è½½æ­¤æ–¹æ³•ã€‚åˆ«å¿˜äº†è¿˜è¦è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<h3 id="how-do-i-make-a-button">How do I make a button?</h3>
<p>// æ€ä¹ˆåšæŒ‰é’®ï¼Ÿ</p>
<p>Make an <a href="http://labs.phaser.io/index.html?dir=input/game%20object/">interactive game object</a> and go from there. See <a href="https://snowbillr.github.io/blog/2018-07-03-buttons-in-phaser-3/">Buttons in Phaser 3</a>.</p>
<h3 id="which-physics-system-should-i-use">Which physics system should I use?</h3>
<p>// æˆ‘è¯¥ç”¨é‚£ä¸ªç‰©ç†å¼•æ“ï¼Ÿ</p>
<p>Arcade Physics is a simple, high-performance model. It uses only circular or rectangular shapes.
// Arcadeç‰©ç†å¼•æ“æ¨¡å—ç®€å•ã€é«˜æ€§èƒ½ã€‚å®ƒåªä½¿ç”¨åœ†å½¢å’Œæ–¹å½¢ä¸¤ç§å½¢çŠ¶ã€‚</p>
<p>Impact Physics is similar. You'll probably use it only if you're already familiar with it (from ImpactJS).
// Impactç‰©ç†å¼•æ“è¿‘ä¼¼ã€‚å‡å¦‚ä½ å·²ç»ç†Ÿæ‚‰ï¼Œä¹Ÿè®¸å¯ä»¥ç”¨ã€‚</p>
<p><a href="http://brm.io/matter-js/">Matter</a> is a complex 2d physics engine.
Matteræ˜¯å¤æ‚çš„2dç‰©ç†å¼•æ“ã€‚</p>
<h3 id="do-arcade-physics-bodies-rotate">Do Arcade Physics bodies rotate?</h3>
<p>Arcadeç‰©ç†ä½“ä¼šæ—‹è½¬å—ï¼Ÿ</p>
<p>Geometrically, no.
å‡ ä½•æ—‹è½¬ä¸è¡Œã€‚</p>
<h3 id="can-i-give-a-sprite-more-than-one-arcade-physics-body">Can I give a sprite more than one Arcade Physics body?</h3>
<p>//ä¸€ä¸ªç²¾çµå¯ä»¥èµ‹äºˆå¤šä¸ªArcadeç‰©ç†ä½“å—ï¼Ÿ</p>
<p>No.</p>
<h3 id="how-do-i-find-out-which-sprite-is-colliding">How do I find out which sprite is colliding?</h3>
<p>//æ€ä¹ˆçŸ¥é“å“ªä¸ªç²¾çµåœ¨ç¢°æ’</p>
<p>Use the arguments in the <a href="https://photonstorm.github.io/phaser3-docs/global.html#ArcadePhysicsCallback">collision callback</a>.</p>
<h3 id="whats-the-difference-between-an-arcade-physics-bodys-blocked-and-touching">What's the difference between an Arcade Physics body's <em>blocked</em> and <em>touching</em>?</h3>
<p>// Arcadeç‰©ç†ä½“çš„ <em>blocked</em> ï¼ˆå—é˜»ï¼‰å’Œ <em>touching</em> ï¼ˆæ¥è§¦ï¼‰çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><em>blocked</em> is a collision/overlap with the world bounds, a tile, or a static body.
// <em>blocked</em>ï¼ˆå—é˜»ï¼‰æ˜¯ä¸ä¸–ç•Œè¾¹ç•Œã€åœ°ç –ã€é™æ€ç‰©ä½“çš„ç¢°æ’/é‡å ã€‚</p>
<p><em>touching</em> is a collision/overlap between two bodies (dynamic or static), but not <em>embedded</em>.
// <em>touching</em>ï¼ˆæ¥è§¦ï¼‰æŒ‡ä¸¤ä¸ªä¸é•¶åµŒçš„é™æ€æˆ–åŠ¨æ€ç‰©ç†ä½“ä¹‹é—´çš„ç¢°æ’/é‡å ã€‚</p>
<p><em>embedded</em> is a collision/overlap between two bodies where, on at least axis, both bodies aren't moving.
//é•¶åµŒæ˜¯ä¸¤ä¸ªä¸åŠ¨çš„ç‰©ç†é¢˜ä¹‹é—´çš„ç¢°æ’/é‡å ã€‚</p>
<ul>
<li><a href="http://phaser.io/examples/v3/view/physics/arcade/blocked-touching-and-embedded">blocked, touching, and embedded</a></li>
</ul>
<h3 id="why-do-my-tilemap-tiles-show-small-gapslinesseams">Why do my tilemap tiles show small gaps/lines/seams?</h3>
<p>// ä¸ºä»€ä¹ˆæˆ‘çš„åœ°å›¾ç –å—æ˜¾å¾—æœ‰ç¼éš™ã€ç»†çº¿ã€æ¥ç¼ï¼Ÿ</p>
<p>It's a visual artifact of normal WebGL rendering. Use a tool to extrude the tileset image.</p>
<h3 id="why-do-i-get-the-warning-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page">Why do I get the warning <em>The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page</em>?</h3>
<p>//è¿™ä¸ªè­¦å‘Šæ˜¯æ€ä¹ˆå›äº‹â€¦â€¦</p>
<p>This is normal when using Phaser with Web Audio in Chrome. By itself it doesn't signify a problem. Phaser will automatically resume the audio context when the user clicks/taps. Sound may be muted before that, though.</p>
<p>If your game doesn't use sound, disable it and you won't see the warning:</p>
<div class="highlight"><pre><span></span><code><span class="k">new</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Game</span><span class="p">({</span> <span class="nx">audio</span><span class="o">:</span> <span class="p">{</span> <span class="nx">noAudio</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div>
<p>//å¦‚æœä¸ä½¿ç”¨å£°éŸ³ï¼Œå¯ä»¥å…³é—­è­¦å‘Š</p>
<h3 id="how-do-i-fixdebug-my-game">How do I fix/debug my game?</h3>
<p>//æ€ä¹ˆæ”¹æ­£/è°ƒè¯•æ¸¸æˆ</p>
<ul>
<li>Open the console. Read errors and warnings.</li>
<li>Expand error stack traces. Find the last point your own code was involved.</li>
<li>Break on exceptions. Examine values in the debugger.</li>
<li>If the problem isn't in the paused function, step backwards through the call stack and find it.</li>
<li>Don't use the minified script (phaser.min.js) during development; the traces are hard to read. Use phaser.js instead.</li>
</ul>
<p>Use Phaser's debugging tools:
//ä½¿ç”¨Phaserè°ƒè¯•å·¥å…·</p>
<ul>
<li>Arcade Physics debug</li>
<li>Matter Physics debug</li>
<li><a href="https://photonstorm.github.io/phaser3-docs/Phaser.Tilemaps.Tilemap.html#renderDebug">renderDebug()</a> for tilemap layers</li>
<li><a href="https://photonstorm.github.io/phaser3-docs/Phaser.Input.InputPlugin.html#enableDebug">enableDebug()</a> for input hit areas</li>
</ul>
<p>Use a plugin:
//ä½¿ç”¨æ’ä»¶</p>
<ul>
<li><a href="https://github.com/samme/phaser-plugin-debug-body-colors">Debug Body Colors Plugin</a> for Arcade Physics</li>
<li><a href="https://github.com/samme/phaser-plugin-debug-draw">Debug Draw Plugin</a></li>
<li><a href="https://github.com/samme/phaser-plugin-scene-watcher">Scene Watcher Plugin</a></li>
</ul>
<p>Check your code against <a href="https://photonstorm.github.io/phaser3-docs/">Phaser's API documentation</a>.
// ä½¿ç”¨Phaser APIæ–‡æ¡£</p>
<p>Use <a href="https://developers.google.com/web/tools/chrome-devtools/javascript/">your browser's debugging tools</a>. You don't have to use Chrome; most of these are similar across the main browsers.</p>
<p>A few tools can be especially helpful for games:
// ä¸€äº›å¯¹æ¸¸æˆä¼šç‰¹åˆ«æœ‰ç”¨çš„çš„å·¥å…·</p>
<ul>
<li>Conditional breakpoints (especially <a href="https://webkit.org/blog/5435/breakpoint-options/">Safari</a>).</li>
<li><a href="https://webkit.org/blog/8452/canvas-debugging/">Canvas inspector (Safari)</a></li>
<li><a href="https://hacks.mozilla.org/2014/03/introducing-the-canvas-debugger-in-firefox-developer-tools/">Canvas debugger (Firefox)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Tools/Web_Audio_Editor">Web Audio Editor (Firefox)</a></li>
</ul>
<h3 id="cannot-read-property-property-of-undefined-undefined-is-not-an-object-undefined-is-not-a-function">Cannot read property '<em>property</em>' of undefined / undefined is not an object / undefined is not a function</h3>
<p>// æ— æ³•è¯»å–æœªå®šä¹‰çš„å±æ€§'<em>property</em>'ï¼Œæˆ–æœªå®šä¹‰è€…ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡</p>
<p>You tried to read a property from an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined value</a>, which is impossible (undefined has no properties).
// ä½ è¯•å›¾è¯»å–æœªå®šä¹‰çš„å€¼çš„å±æ€§</p>
<p>You need to find the expression that evaluated to undefined. Firefox and Safari give more helpful error messages in this respect.
// ä½ éœ€è¦æ‰¾åˆ°è¢«ç¡®å®šä¸ºæœªå®šä¹‰çš„é‚£ä¸ªè¡¨è¾¾å¼ã€‚åœ¨è¿™ä¸ªæ–¹é¢ï¼ŒFirefoxå’ŒSafariä¼šç»™å‡ºæ›´æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>If <code>this</code> is involved, you've likely made a scope error: either accessing an undefined scope (this === undefined) or a scope different from the object you're expecting (so missing the named property).
// å¦‚æœç‰µæ‰¯åˆ°<code>this</code>ï¼Œä½ å¯èƒ½çŠ¯äº†ä¸€ä¸ªä½œç”¨åŸŸçš„é”™è¯¯ï¼šæˆ–è€…æ˜¯è®¿é—®äº†æœªå®šä¹‰çš„åŸŸï¼ˆthis === undefinedï¼‰ï¼Œæˆ–è€…æ˜¯è®¿é—®çš„åŸŸæœ‰åˆ«äºä½ æœŸæœ›çš„å¯¹è±¡ï¼ˆå› æ­¤ç¼ºå°‘æ‰€æŒ‡ç§°çš„å±æ€§ï¼‰ã€‚</p>
<h3 id="how-do-i-ask-for-help">How do I ask for help?</h3>
<p>Help people help you. :)</p>
<p>Clearly describe your original problem, e.g., <strong>what you expect to happen and what happens instead</strong>. Remember only you know how your game is supposed to work and what it's supposed to look like.</p>
<p>Provide a runnable example or the minimal code to produce the problem.</p>
<p>If there is an error message, include the error message and trace.</p>
<p><em>I want to X but it doesn't work</em>, by itself, is not a good way to ask for help.</p>
<h3 id="why-doesnt-my-question-get-answered">Why doesn't my question get answered?</h3>
<p>Possibly:</p>
<ul>
<li>It's not clear what you're asking</li>
<li>You haven't given enough information</li>
<li>The code is too long/complex to assess</li>
<li>People who know the answer haven't seen your question yet</li>
</ul>
<h3 id="why-is-my-game-slow">Why is my game slow?</h3>
<p>//ä¸ºä»€ä¹ˆæˆ‘çš„æ¸¸æˆä¼šæ…¢</p>
<p>Use your browser's Performance/Profile/Timeline tool to identify bottlenecks. Usually, you'll use the <strong>Bottom-Up</strong> view or sort by <strong>Self Time</strong>.
// ä½¿ç”¨æµè§ˆå™¨çš„Profile/Timelineï¼Œä»¥ä¾¿æ‰¾å‡ºç“¶é¢ˆã€‚</p>
<p>Generally, it depends, but try:
// é€šå¸¸æœ‰èµ–äºï¼š</p>
<ul>
<li>Combine images into atlases/spritesheets
// å›¾åƒæ‰“åŒ…ã€éŸ³é¢‘æ–‡ä»¶ä¹Ÿèƒ½æ‰“åŒ…ã€‘</li>
<li>Render same-texture and same-blend-mode objects consecutively (by keeping them adjacent on the display list)
//è¿ç»­åœ°æ¸²æŸ“æœ‰ç›¸åŒçº¹ç†ã€ç›¸å®¹æ··è‰²æ¨¡å¼çš„å¯¹è±¡ï¼ˆä½¿ä»–ä»¬åœ¨æ˜¾ç¤ºåˆ—è¡¨ä¸Šè¿åœ¨ä¸€èµ·ï¼‰ã€ï¼Ÿï¼Ÿï¼Ÿã€‘</li>
<li>Reduce the use of nested Containers, complex Graphics, or Text
// é™ä½Graphicsï¼ˆè‡ªç»˜å›¾å½¢ï¼‰å¯¹è±¡çš„æ•°é‡ã€å¤æ‚ç¨‹åº¦ã€‚ã€å¦‚æœGraphicså˜åŒ–ä¸å¤§ï¼Œå¯ç”Ÿæˆçº¹ç†åå†ä½¿ç”¨ã€‘</li>
<li>Reduce texture dimensions
// é™ä½çº¹ç†çš„å°ºå¯¸</li>
<li>Reduce game canvas dimensions
// é™ä½æ¸¸æˆç”»å¸ƒçš„å°ºå¯¸</li>
</ul>
<p>If the game slows consistently over a few seconds, you may have made a programming mistake, e.g.,</p>
<ul>
<li>drawing repeatedly to a Graphic without clearing it</li>
<li>adding duplicate event handlers</li>
</ul>
<h3 id="where-can-i-publish-my-game-for-free">Where can I publish my game (for free)?</h3>
<p>//åˆ°å“ªé‡Œï¼ˆå…è´¹ï¼‰å‘å¸ƒæ¸¸æˆ</p>
<p>On <a href="https://itch.io/docs/creators/faq">itch.io</a> (<a href="https://itch.io/docs/butler/">cli</a>) or <a href="https://pages.github.com">GitHub Pages</a> or <a href="https://surge.sh/pricing">Surge</a>.</p>
<p><a href="https://devcenter.heroku.com/articles/deploying-nodejs">Node-based apps</a> can be deployed on <a href="https://www.heroku.com/pricing">Heroku</a>.</p></div>
        <hr />
    </div>

<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr;</a></li>

    <li class="active"><a href="/author/samme.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr;</a></li>

</ul>
</div>       

 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/archives.html">æ‰€æœ‰æ–‡ç« </a>
                <li><a href="/tags.html">åˆ†ç»„æ ‡ç­¾</a>




            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="/category/11-bu-kao-si-ji.html">11 å¸ƒè€ƒæ–¯åŸº</a></li>
                <li><a href="/category/12-phaserxue-xi-zhong-xin-zu.html">12 Phaserå­¦ä¹ ä¸­å¿ƒç»„</a></li>
                <li><a href="/category/13-pyo.html">13 Pyo</a></li>
                <li><a href="/category/14-xiao-lu-gong-ju-bian-cheng-za-xiang.html">14 æ•ˆç‡å·¥å…·+ç¼–ç¨‹æ‚é¡¹</a></li>
                <li><a href="/category/21-er-tong-shi-zi.html">21 å„¿ç«¥è¯†å­—</a></li>
                <li><a href="/category/22-qin-zi-xie-zi.html">22 äº²å­å†™å­—</a></li>
                <li><a href="/category/23-steam.html">23 STEAM</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>

                <li>å¾®ä¿¡å…¬ä¼—å·â€œé»„å¤é›„â€(xiiiGame):</li>
                <div align="center"><img src="http://blog.xiiigame.com/images/about/qrCodeXiiigame.jpg" /></div> 

                <li>ã€Šæ‹¼å­—ã€‹å¾®ä¿¡å°æ¸¸æˆ:</li>
                <div align="center"><img src="http://blog.xiiigame.com/images/about/qrCode.jpg" /></div> 

                <li><a href="http://www.xiiigame.com/example">æ‹¼å­—æ¸¸æˆ(ç½‘é¡µç‰ˆ)</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/Fusyong">GitHub</a></li>
                <li><a href="https://www.phaser-china.com/">Phaserå°ç«™</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="">å¬‰æˆå®éªŒå®¤</a> &copy; é»„å¤é›„ 2018, Powered by <a href="http://getpelican.com/">Pelican</a></p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="/theme/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-105243279-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
<a href="https://github.com/Fusyong"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
 
</body>
</html>