
<!DOCTYPE html>

<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://blog.xiiigame.com/2022-01-10-ConTeXt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="canonical"/>
<link href="../2022-01-10-LuaTeX-CLD-TEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="prev"/>
<link href="../2022-01-10-latex-CTEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next"/>
<link href="../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.18" name="generator"/>
<title>ConTeXt学习笔记 - 嬉戏实验室</title>
<link href="../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../css/ansi-colours.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PWB4KHSW87"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-PWB4KHSW87",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-PWB4KHSW87",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</head>
<body data-md-color-accent="pink" data-md-color-primary="green" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="嬉戏实验室" class="md-header__button md-logo" data-md-component="logo" href=".." title="嬉戏实验室">
<img alt="logo" src="../img/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            嬉戏实验室
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ConTeXt学习笔记
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<a aria-label="分享" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="分享">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="嬉戏实验室" class="md-nav__button md-logo" data-md-component="logo" href=".." title="嬉戏实验室">
<img alt="logo" src="../img/logo.png"/>
</a>
    嬉戏实验室
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    ☆ 首页
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../new/">
<span class="md-ellipsis">
    ☆ 最新
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tags/">
<span class="md-ellipsis">
    ☆ 标签
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    儿童识字
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            儿童识字
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../chinese-literacy-estimation/">
<span class="md-ellipsis">
    识字量估算
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-11-19-%E3%80%8A%E5%B9%BC%E5%84%BF%E8%AF%86%E5%AD%9790%E5%A4%A9%EF%BC%9A%E8%AE%A4%E8%AF%86%E4%B9%A6%E4%B8%AD80%25%E7%9A%84%E6%B1%89%E5%AD%97%E3%80%8B/">
<span class="md-ellipsis">
    《幼儿识字90天：认识书中80%的汉字》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-04-21-%E6%80%8E%E4%B9%88%E8%AE%A9%E5%AD%A9%E5%AD%90%E8%AF%86%E5%AD%97%E5%8F%88%E5%A4%9A%E5%8F%88%E5%87%86%E7%A1%AE/">
<span class="md-ellipsis">
    怎么让孩子识字又多又准确
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-02-%E8%AF%86%E5%AD%97%E7%94%A8%E6%88%90%E8%AF%AD%EF%BC%88A%E7%BA%A7%E5%AD%97%EF%BC%89/">
<span class="md-ellipsis">
    儿童识字用成语及录音（A级字）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-18-%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85%E3%80%8A%E4%B9%89%E5%8A%A1%E6%95%99%E8%82%B2%E5%B8%B8%E7%94%A8%E8%AF%8D%E8%A1%A8%EF%BC%88%E8%8D%89%E6%A1%88%EF%BC%89%E3%80%8B%E5%87%BA%E7%89%88%E5%B9%B6%E5%AF%B9%E5%A4%96%E5%8F%91%E5%B8%83%EF%BC%9F/">
<span class="md-ellipsis">
    如何看待《义务教育常用词表（草案）》出版并对外发布
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-09-%E5%B0%8F%E5%AD%A6%E8%AF%AD%E6%96%87%E5%AD%97%E5%8D%A1%EF%BC%882021%E5%B9%B4%E6%98%A5%E5%AD%A3%EF%BC%89/">
<span class="md-ellipsis">
    小学语文识字卡片（2021年秋季更新）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-08-24-%E5%B0%8F%E5%AD%A6%E8%AF%AD%E6%96%87%E5%AD%97%E5%8D%A1%EF%BC%882020%E5%B9%B4%E7%A7%8B%E5%AD%A3%EF%BC%89/">
<span class="md-ellipsis">
    小学语文识字卡片（2020年秋季）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-30-%E5%8F%A4%E4%BA%BA%E8%AF%86%E5%AD%97%E7%9A%84%E7%89%B9%E7%82%B9/">
<span class="md-ellipsis">
    古人识字的特点
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-30-%E8%AF%AD%E6%96%87%E8%AF%BE%E8%AF%86%E5%AD%97%E7%9A%84%E7%89%B9%E7%82%B9/">
<span class="md-ellipsis">
    语文课识字的特点
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-09-28-%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85%E5%84%BF%E7%AB%A5%E8%AF%86%E5%AD%97%E5%BA%94%E8%AF%A5%E2%80%9C%E5%8F%AA%E8%AE%A4%E5%AD%97%EF%BC%8C%E5%9B%BE%E5%92%8C%E6%8B%BC%E9%9F%B3%E9%83%BD%E4%B8%8D%E7%9C%8B%E2%80%9D/">
<span class="md-ellipsis">
    如何看待儿童识字应该“只认字，图和拼音都不看”？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-08-18-%E5%B0%8F%E5%AD%A6%E8%AF%86%E5%AD%97%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B/">
<span class="md-ellipsis">
    小学识字方法有哪些？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-09-15-%E6%80%8E%E4%B9%88%E6%95%99%E5%AD%A9%E5%AD%90%E8%AF%86%E5%AD%97/">
<span class="md-ellipsis">
    怎么教孩子识字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-30-%E7%BB%99%E8%87%AA%E5%AE%B6%E5%AD%A9%E5%AD%90DIY%E8%AF%86%E5%AD%97%E6%9D%90%E6%96%99%EF%BC%9A%E5%AD%97%E5%8D%A1%EF%BC%88%E9%99%84%E6%88%90%E5%93%81%EF%BC%89/">
<span class="md-ellipsis">
    给自家孩子DIY识字材料：字卡（附成品）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-28-%E6%97%A9%E8%AF%86%E5%AD%97%E4%BC%9A%E7%A0%B4%E5%9D%8F%E5%AD%A9%E5%AD%90%E7%9A%84%E5%88%9B%E9%80%A0%E5%8A%9B%E3%80%81%E6%83%B3%E8%B1%A1%E5%8A%9B%E5%90%97/">
<span class="md-ellipsis">
    早识字会破坏孩子的创造力、想象力吗？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-09-15-%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%87%E7%AB%A0%E5%90%AB%E6%9C%89%E4%B8%8D%E5%90%8C%E7%9A%84%E6%B1%89%E5%AD%97%E6%AF%94%E8%BE%83%E5%A4%9A%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E6%95%99%E5%B0%8F%E6%9C%8B%E5%8F%8B%E8%AF%86%E5%AD%97/">
<span class="md-ellipsis">
    有什么文章含有不同的汉字比较多，可以用于教小朋友识字？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-01-31-%E5%AD%97%E7%90%86/">
<span class="md-ellipsis">
    常用字源字理(累积更新)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-18-%E4%BB%8E%E9%A1%B7%E5%88%B0%E9%A2%8D/">
<span class="md-ellipsis">
    从顷到颍（附说明）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-21-%E4%BB%8E%E3%AB%83%E5%88%B0%E6%97%97/">
<span class="md-ellipsis">
    从㫃到旗
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-27-%E5%B0%8F%E5%AD%A6%E8%AF%AD%E6%96%87%E5%90%8C%E6%AD%A5%E5%85%B4%E8%B6%A3%E8%AF%86%E5%AD%97/">
<span class="md-ellipsis">
    小学语文同步兴趣识字（累积更新）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-11-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%AD%E6%96%87%E8%80%81%E5%B8%88%E4%B8%8D%E4%B8%80%E4%B8%AA%E4%B8%AA%E6%95%99%E6%B1%89%E5%AD%97%E6%9C%AC%E4%B9%89/">
<span class="md-ellipsis">
    为什么语文老师不一个个教汉字本义？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-08-11-%E5%AD%A9%E5%AD%90%E5%9C%A8%E4%B8%8A%E5%B0%8F%E5%AD%A6%E4%B9%8B%E5%89%8D%E8%AF%A5%E8%AE%A9%E4%BB%96%E6%8E%8C%E6%8F%A1%E6%8B%BC%E9%9F%B3%E5%90%97/">
<span class="md-ellipsis">
    孩子在上小学之前该让他掌握拼音吗？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-14-%E9%80%82%E5%BD%93%E5%BC%80%E5%B1%95%E7%B9%81%E4%BD%93%E5%AD%97%E6%95%99%E8%82%B2%E6%9C%89%E5%BF%85%E8%A6%81%E5%90%97/">
<span class="md-ellipsis">
    适当开展繁体字教育有必要吗？
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    阅读启蒙
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            阅读启蒙
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-09-09-%E9%83%A8%E7%BC%96%E7%89%88%E5%B0%8F%E5%AD%A6%E8%AF%AD%E6%96%87%E6%95%99%E6%9D%90%E6%8B%BC%E9%9F%B3%E6%A0%87%E6%B3%A8%E8%A7%84%E5%88%99/">
<span class="md-ellipsis">
    部编版小学语文教材拼音标注规则
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-11-28-%E9%83%A8%E7%BC%96%E7%89%88%E5%B0%8F%E5%AD%A6%E8%AF%AD%E6%96%87%E6%95%99%E6%9D%90%E6%8B%BC%E9%9F%B3%E6%98%AF%E4%BB%80%E4%B9%88%E5%AD%97%E4%BD%93/">
<span class="md-ellipsis">
    部编版小学语文教材拼音是什么字体
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-29-%E4%B8%80%E5%B9%B4%E7%BA%A7%E5%AD%A9%E5%AD%90%E7%9C%8B%E4%B9%A6%E7%89%B9%E5%88%AB%E7%B2%97%E7%95%A5%E6%80%8E%E4%B9%88%E5%BC%95%E5%AF%BC/">
<span class="md-ellipsis">
    一年级孩子看书特别快，但很粗略，怎么引导？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-04-%E5%AD%A9%E5%AD%90%E4%B8%8D%E7%88%B1%E5%AD%A6%E4%B9%A0%EF%BC%8C%E6%AF%9B%E7%B3%99%E3%80%81%E5%BA%94%E4%BB%98%E6%80%8E%E4%B9%88%E5%8A%9E/">
<span class="md-ellipsis">
    孩子不爱学习，毛糙、应付怎么办？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-26-%E9%99%AA%E5%AD%A9%E5%AD%90%E5%AD%A6%E8%8B%B1%E8%AF%AD%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%9D%E8%AF%95%E5%92%8C%E6%83%B3%E6%B3%95/">
<span class="md-ellipsis">
    陪孩子学英语的一点尝试和想法（累积更新）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-19-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%87%AA%E7%84%B6%E6%8B%BC%E8%AF%BB%E6%B3%95%E9%87%8C%E9%9D%A2%E7%9A%84%E8%A7%84%E5%BE%8B%E7%BC%BA%E4%B9%8F%E6%99%AE%E9%81%8D%E6%80%A7/">
<span class="md-ellipsis">
    为什么自然拼读法里面的规律缺乏普遍性？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-09-%E5%AD%A6%E8%8B%B1%E8%AF%AD%E4%BB%8E%E5%93%AA%E9%87%8C%E5%BC%80%E5%A7%8B/">
<span class="md-ellipsis">
    学英语从哪里开始？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-09-20-%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E8%8B%B1%E8%AF%AD%E9%9F%B3%E6%A0%87/">
<span class="md-ellipsis">
    如何学习英语音标？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-09-08-%E6%9C%89%E9%81%93%E8%AF%8D%E5%85%B8%E7%AC%942.0%E4%B9%8B%E7%AB%A5%E4%B9%A6%E5%AE%9E%E6%B5%8B/">
<span class="md-ellipsis">
    有道词典笔2.0之童书实测
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-28-%E4%BA%B2%E5%AD%90%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    亲子阅读笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-10-04-%E6%98%AF%E4%B8%8D%E6%98%AF%E5%AD%A9%E5%AD%90%E5%8F%AF%E4%BB%A5%E4%B8%8D%E4%B8%8A%E5%B9%BC%E5%84%BF%E5%9B%AD/">
<span class="md-ellipsis">
    是不是孩子可以不上幼儿园
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-30-%E6%80%8E%E4%B9%88%E8%B7%9F%E5%AD%A9%E5%AD%90%E8%A7%A3%E9%87%8A%E7%94%9F%E5%91%BD%E7%9A%84%E6%84%8F%E4%B9%89/">
<span class="md-ellipsis">
    怎么跟孩子解释生命的意义
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-18-%E5%A6%82%E4%BD%95%E8%AF%B4%E5%AD%A9%E5%AD%90%E6%89%8D%E4%BC%9A%E5%90%AC/">
<span class="md-ellipsis">
    如何说孩子才会听
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-23-%E5%A6%82%E4%BD%95%E8%83%BD%E8%AE%A9%E5%B0%8F%E5%AD%A6%E7%94%9F%E5%AE%89%E9%9D%99%E7%9A%84%E5%81%9A%E4%BD%9C%E4%B8%9A/">
<span class="md-ellipsis">
    如何能让小学生安静的做作业
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-21-%E6%80%8E%E4%B9%88%E6%89%8D%E8%83%BD%E8%AE%A9%E5%AD%A9%E5%AD%90%E8%87%AA%E5%B7%B1%E6%9F%A5%E5%AD%97%E5%85%B8%E8%AF%86%E5%AD%97/">
<span class="md-ellipsis">
    怎么才能让孩子自己查字典识字？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-30-%E5%B0%8F%E5%AD%A6%E4%B8%80%E5%B9%B4%E7%BA%A7%E8%A6%81%E8%83%8C%E3%80%8A%E5%BC%9F%E5%AD%90%E8%A7%84%E3%80%8B%E5%90%88%E7%90%86%E5%90%97/">
<span class="md-ellipsis">
    小学一年级要背《弟子规》合理吗
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-19-%E4%BC%B4%E5%AD%A6%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    家长伴学技术笔记（累积更新）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-28-%E9%82%A3%E4%B8%AA%E5%81%B7%E4%B8%9C%E8%A5%BF%E7%9A%84%E4%BA%BA%E5%B0%B1%E6%98%AF%E6%88%91/">
<span class="md-ellipsis">
    那个偷东西的人就是我
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    语文答问
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            语文答问
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-02-28-%E5%AD%A9%E5%AD%90%E4%B8%8D%E4%BC%9A%E5%86%99%E4%BD%9C%E6%96%87%EF%BC%8C%E8%83%BD%E8%AF%B4%EF%BC%8C%E4%B8%80%E5%88%B0%E5%86%99%E5%B0%B1%E4%B8%8D%E4%BC%9A%E4%BA%86/">
<span class="md-ellipsis">
    孩子不会写作文，能说，一到写就不会了
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-09-23-%E6%B1%89%E8%AF%AD%E6%8B%BC%E9%9F%B3%E9%9F%B5%E6%AF%8Do%E7%9A%84%E8%AF%BB%E6%B3%95/">
<span class="md-ellipsis">
    汉语拼音韵母o的读法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-04-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%8B%BC%E9%9F%B3ao%E4%B8%8D%E5%86%99%E4%BD%9Cau/">
<span class="md-ellipsis">
    为什么拼音ao不写作au
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-10-%E7%A9%B6%E7%AB%9F%E6%9C%89%E6%B2%A1%E6%9C%89%E2%80%9C%E6%82%A8%E4%BB%AC%E2%80%9D%E8%BF%99%E7%A7%8D%E7%94%A8%E6%B3%95/">
<span class="md-ellipsis">
    究竟有没有“您们”这种用法？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-10-%E2%80%9C%E5%85%B1%E2%80%9D%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BB%8E%E9%83%A8%E9%A6%96%E2%80%9C%E8%89%B9%E2%80%9D%E5%8F%AF%E4%BB%A5%E6%9F%A5%E5%88%B0/">
<span class="md-ellipsis">
    “共”为什么从部首“艹”可以查到
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-06-%E6%B1%89%E5%AD%97%E4%B8%BA%E4%BD%95%E6%98%AF%E7%AE%80%E5%8C%96%E7%9A%84%E8%B6%8B%E5%8A%BF/">
<span class="md-ellipsis">
    汉字为何是简化的趋势
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-02-%E4%B8%80%E5%B9%B4%E7%BA%A7%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%8B%BC%E9%9F%B3%E5%AD%97%E6%AF%8D%E8%A1%A8%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%E7%9A%84%E9%A1%BA%E5%BA%8F/">
<span class="md-ellipsis">
    一年级下学期拼音字母表为什么是英文字母的顺序
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-26-%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85%E9%B2%81%E8%BF%85%E5%85%88%E7%94%9F%E6%8F%90%E5%87%BA%E7%9A%84%E5%BA%9F%E9%99%A4%E6%B1%89%E5%AD%97/">
<span class="md-ellipsis">
    如何看待鲁迅先生提出要废除汉字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-20-%E9%81%87%E5%88%B0%E9%9A%BE%E5%AD%97%E6%80%8E%E4%B9%88%E8%BE%93%E5%85%A5/">
<span class="md-ellipsis">
    遇到难字怎么输入
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-15-%E5%BD%93%E5%88%9D%E5%88%9B%E5%88%B6%E6%8B%BC%E9%9F%B3%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8v%E8%80%8C%E7%94%A8%C3%BC%EF%BC%9F%EF%BC%88%E6%B1%89%E8%AF%AD%E6%8B%BC%E9%9F%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%EF%BC%89/">
<span class="md-ellipsis">
    当初创制拼音的时候为什么不用v而用ü？（汉语拼音方案的一些问题）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-26-%E6%B1%89%E8%AF%AD%E6%8B%BC%E9%9F%B3%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AB%E6%B1%89%E8%AF%AD%E6%8B%BC%E9%9F%B3%EF%BC%8C%E8%80%8C%E4%B8%8D%E5%8F%AB%E6%B1%89%E8%AF%AD%E6%B3%A8%E9%9F%B3%E6%88%96%E6%B1%89%E8%AF%AD%E9%9F%B3%E6%A0%87/">
<span class="md-ellipsis">
    汉语拼音为什么叫汉语拼音，而不叫汉语注音或汉语音标？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-22-%E5%AE%8B%E4%BD%93%E5%AD%97%E6%98%AF%E5%90%A6%E6%98%AF%E6%9C%80%E9%95%BF%E6%97%B6%E9%97%B4%E9%80%82%E5%90%88%E9%98%85%E8%AF%BB%E7%9A%84%E5%AD%97%E4%BD%93/">
<span class="md-ellipsis">
    宋体字是否是最长时间适合阅读的字体？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-05-%E7%AE%80%E4%BD%93%E5%AD%97%E9%87%8C%E4%B8%89%E7%82%B9%E6%B0%B4%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AE%80%E5%8C%96%E4%B8%BA%E4%B8%A4%E7%82%B9%E6%B0%B4/">
<span class="md-ellipsis">
    简体字里三点水为什么简化为两点水？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-16-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%95%BF%E6%97%B6%E9%97%B4%E7%9B%AF%E7%9D%80%E4%B8%80%E4%B8%AA%E6%B1%89%E5%AD%97%EF%BC%8C%E4%BC%9A%E8%A7%89%E5%BE%97%E5%BE%88%E5%A5%87%E6%80%AA%EF%BC%8C%E8%A7%89%E5%BE%97%E4%B8%8D%E8%AE%A4%E8%AF%86%E8%BF%99%E4%B8%AA%E6%B1%89%E5%AD%97/">
<span class="md-ellipsis">
    为什么长时间盯着一个汉字，会觉得很奇怪，觉得不认识这个汉字?
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-19-%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AE%80%E5%8C%96%E5%AD%97%E3%80%8C%E5%9B%BD%E3%80%8D%E6%8A%8A%E3%80%8C%E6%88%96%E3%80%8D%E6%8D%A2%E6%88%90%E4%BA%86%E3%80%8C%E7%8E%89%E3%80%8D%EF%BC%8C%E7%B9%81%E4%BD%93%E5%AD%97%E4%B8%AD%E7%9A%84%E3%80%8C%E6%88%96%E3%80%8D%E6%9C%89%E4%BB%80%E4%B9%88%E5%90%AB%E4%B9%89/">
<span class="md-ellipsis">
    为什么把「國」改成「国」，「或」有什么含义？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-28-%E5%BD%A2%E5%A3%B0%E5%AD%97%E5%9C%A8%E7%8E%B0%E4%BB%A3%E6%B1%89%E8%AF%AD%E5%B8%B8%E7%94%A8%E5%AD%97%E4%B8%AD%E6%89%80%E5%8D%A0%E7%9A%84%E6%AF%94%E4%BE%8B%E6%98%AF%E7%99%BE%E5%88%86%E4%B9%8B%E5%87%A0/">
<span class="md-ellipsis">
    形声字在现代汉语常用字中所占的比例是百分之几？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-12-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B1%89%E5%AD%97%E4%BC%9A%E6%BC%94%E5%8C%96%E6%88%90%E6%96%B9%E6%96%B9%E6%AD%A3%E6%AD%A3%E7%9A%84%EF%BC%8C%E6%B2%A1%E6%9C%89%E5%9C%86%E5%9C%88%E7%BB%93%E6%9E%84%E7%9A%84%E5%81%8F%E6%97%81/">
<span class="md-ellipsis">
    为什么汉字会演化成方方正正的，没有圆圈结构的偏旁
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-25-%E6%B1%89%E5%AD%97%E6%9C%89%E5%A4%9A%E5%A4%9A/">
<span class="md-ellipsis">
    汉字到底有多多？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-15-%E9%80%9A%E8%BF%87%E7%AE%80%E4%BD%93%E6%B1%89%E5%AD%97%E9%9A%8F%E6%9C%BA%E7%BB%84%E5%90%88%E4%BA%A7%E7%94%9F%E6%88%91%E5%9B%BD%E7%8E%B0%E6%9C%89%E7%9A%84%E6%9F%90%E4%B8%80%E6%9C%AC%E4%B9%A6%E7%9A%84%E5%85%A8%E9%83%A8%E5%86%85%E5%AE%B9%E7%9A%84%E6%A6%82%E7%8E%87%E5%A4%A7%E7%BA%A6%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8E%BB%E8%AE%A1%E7%AE%97/">
<span class="md-ellipsis">
    简体字随机组合成某一本书的概率大约是多少，怎么算？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-06-17-%E3%80%8A%E6%A0%87%E7%82%B9%E7%AC%A6%E5%8F%B7%E7%94%A8%E6%B3%95%E3%80%8B%E7%9A%84%E9%97%B4%E9%9A%94%E5%8F%B7%E5%AE%BD%E5%BA%A6%E6%9C%89%E8%AF%AF/">
<span class="md-ellipsis">
    《标点符号用法》的间隔号宽度有误
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E5%BD%93%E4%BB%A3%E5%88%9D%E9%AB%98%E4%B8%AD%E8%AF%AD%E6%96%87%E6%95%99%E5%AD%A6%E6%98%AF%E5%90%A6%E8%BF%87%E4%BA%8E%E2%80%9C%E6%96%87%E5%AD%A6%E5%8C%96%E2%80%9D%E4%BA%86/">
<span class="md-ellipsis">
    当代初高中语文教学是否过于“文学化”了？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-25-%E4%B8%AD%E5%B9%B4%E8%87%AA%E5%AD%A6%E8%8B%B1%E8%AF%AD%E8%A6%81%E6%9C%89%E5%8A%A8%E5%8A%9B/">
<span class="md-ellipsis">
    中年人自学英语的动力从哪儿来？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-11-%E8%AF%AD%E6%96%87%E7%AD%94%E9%97%AE/">
<span class="md-ellipsis">
    更多语文与伴学答问 〉〉
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-11-08-%E5%9B%BD%E5%AE%B6%E5%92%8C%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86%E6%9C%89%E7%89%88%E6%9D%83%E5%90%97/">
<span class="md-ellipsis">
    国家和行业标准有版权吗？
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    语文专栏
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            语文专栏
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-03-10-%E9%83%BD%E8%AF%B4%E5%86%99%E6%97%A5%E8%AE%B0%E6%98%AF%E5%A5%BD%E4%B9%A0%E6%83%AF%EF%BC%8C%E4%BD%86%E5%AD%A9%E5%AD%90%E4%B8%8D%E7%88%B1%E5%86%99%E6%80%8E%E4%B9%88%E5%8A%9E/">
<span class="md-ellipsis">
    都说写日记是好习惯，但孩子不爱写怎么办
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-03-10-%E5%AD%A9%E5%AD%90%E4%B8%8D%E7%88%B1%E5%AD%A6%E4%B9%A0%EF%BC%9F%E5%85%88%E8%AE%A9%E4%BB%96%E7%88%B1%E4%B8%8A%E8%AF%BB%E4%B9%A6/">
<span class="md-ellipsis">
    孩子不爱学习？先让他爱上读书
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-01-%E5%8D%B4%E6%98%AF%E7%9F%B3%E6%A6%B4%E7%9F%A5%E7%AB%8B%E5%A4%8F%EF%BC%8C%E5%B9%B4%E5%B9%B4%E6%AD%A4%E6%97%A5%E4%B8%80%E8%8A%B1%E5%BC%80%EF%BC%9A%E7%AB%8B%E5%A4%8F%E7%9A%84%E5%AD%97/">
<span class="md-ellipsis">
    却是石榴知立夏，年年此日一花开：立夏的字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-11-%E8%94%AC%E8%8F%9C%E9%9D%92%EF%BC%8C%E8%94%AC%E8%8F%9C%E9%9D%92%EF%BC%8C%E8%AF%B4%E8%AF%B4%E7%AC%91%E7%AC%91%E5%88%B0%E5%8C%97%E4%BA%AC%EF%BC%9A%E5%9F%8E%E9%87%8C%E7%9A%84%E5%AD%97/">
<span class="md-ellipsis">
    蔬菜青，蔬菜青，说说笑笑到北京：城里的字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-26-%E8%AE%B8%E4%B8%89%E5%A4%9A%E6%98%AF%E5%93%AA%E4%B8%89%E5%A4%9A%EF%BC%9F%EF%BC%9A%E5%B0%8F%E5%AD%A9%E7%9A%84%E5%AD%97/">
<span class="md-ellipsis">
    许三多是哪三多？：小孩的字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-20-%E5%AD%A9%E5%AD%90%E5%8F%AA%E6%83%B3%E5%90%AC%E9%9F%B3%E9%A2%91%E6%95%85%E4%BA%8B%E4%B8%8D%E6%83%B3%E8%AF%BB%E4%B9%A6%E7%9C%8B%E4%B9%A6%EF%BC%8C%E6%80%8E%E4%B9%88%E5%8A%9E/">
<span class="md-ellipsis">
    孩子只想听音频故事不想读书看书，怎么办？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-25-%E3%80%8A%E4%BA%8C%E3%80%87%E4%BA%8C%E4%B8%80%E5%B9%B4%E5%85%A8%E5%9B%BD%E5%A7%93%E5%90%8D%E6%8A%A5%E5%91%8A%E3%80%8B%E5%8F%91%E5%B8%83%EF%BC%8C%E4%BD%A0%E5%AE%B6%E5%AD%A9%E5%AD%90%E2%80%9C%E6%92%9E%E5%90%8D%E2%80%9D%E4%BA%86%E5%90%97/">
<span class="md-ellipsis">
    《二〇二一年全国姓名报告》发布，你家孩子“撞名”了吗？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-23-%E6%98%A5%E8%8A%82%E5%81%87%E6%9C%9F%E9%87%8C%EF%BC%8C%E6%80%8E%E4%B9%88%E8%AE%A9%E5%AD%A9%E5%AD%90%E8%AF%BB%E4%B9%A6%E6%9B%B4%E6%9C%89%E6%94%B6%E8%8E%B7/">
<span class="md-ellipsis">
    春节假期里，怎么让孩子读书更有收获
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    学习的技术、资料与游戏
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            学习的技术、资料与游戏
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-24-%E8%87%AA%E5%88%B6%E5%84%BF%E7%AB%A5%E5%90%AF%E8%92%99%E9%9B%86%E4%B8%AD%E8%AF%86%E5%AD%97%E8%AF%AD%E6%96%99%E5%BA%93%E4%B8%8E%E5%88%86%E7%BA%A7%E5%AD%97%E8%A1%A8/">
<span class="md-ellipsis">
    自制儿童识字语料库与分级字表
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-24-%E8%87%AA%E5%88%B6%E5%84%BF%E7%AB%A5%E5%90%AF%E8%92%99%E9%9B%86%E4%B8%AD%E8%AF%86%E5%AD%97%E5%88%86%E7%BA%A7%E5%AD%97%E8%A1%A8/">
<span class="md-ellipsis">
    自制儿童识字分级字表
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-25-%E8%AF%86%E5%AD%97%E9%87%8F%E6%B5%8B%E8%AF%95/">
<span class="md-ellipsis">
    试试你认识多少字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-02-%E5%84%BF%E7%AB%A5%E8%AF%86%E5%AD%97%E7%94%A8%E6%B1%89%E8%AF%AD%E6%96%87%E6%9C%AC%E7%9A%84%E9%9A%BE%E5%BA%A6%E7%AE%97%E6%B3%95/">
<span class="md-ellipsis">
    儿童识字用汉语文本的难度算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E6%8B%BC%E5%AD%97%E6%B8%B8%E6%88%8F%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/">
<span class="md-ellipsis">
    《拼字》游戏软件说明文档
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-13-%E6%B2%A1%E8%B6%A3%E6%B8%B8%E6%88%8F2.0/">
<span class="md-ellipsis">
    汉字《拼字》游戏2.0
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-5-%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E4%BB%B6%E8%91%97%E4%BD%9C%E6%9D%83%E7%99%BB%E8%AE%B0%E5%AE%9E%E4%BE%8B/">
<span class="md-ellipsis">
    计算机软件著作权登记实例
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-15-%E4%B8%80%E5%AD%97%E4%B8%8D%E8%90%BD/">
<span class="md-ellipsis">
    跟我的《拼字》“同款”的几种游戏
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-10-%E3%80%8A%E9%80%9A%E7%94%A8%E8%A7%84%E8%8C%83%E6%B1%89%E5%AD%97%E8%A1%A8%E3%80%8B%E4%B8%AD%E6%9E%84%E5%AD%97%E6%9C%80%E5%A4%9A%E7%9A%84100%E4%B8%AA%E9%83%A8%E4%BB%B6/">
<span class="md-ellipsis">
    《通用规范汉字表》中构字最多的100个部件
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-25-%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E6%B8%B8%E6%88%8F%E6%95%B4%E7%90%86/">
<span class="md-ellipsis">
    语言学习游戏整理(草稿)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-25-%E8%A7%86%E9%A2%91%E7%9B%8A%E6%99%BA%E6%B8%B8%E6%88%8F%E5%88%86%E7%B1%BB/">
<span class="md-ellipsis">
    视频益智游戏分类
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-ellipsis">
    亲子写字
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            亲子写字
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-01-02-%E4%BA%B2%E5%AD%90%E5%86%99%E5%AD%97%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    亲子写字笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-09-29-%E7%AC%94%E9%A1%BA%E5%8A%A8%E7%94%BB/">
<span class="md-ellipsis">
    2678字笔顺动画
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-02-%E5%A6%82%E4%BD%95%E5%90%91%E5%AD%A9%E5%AD%90%E8%A7%A3%E9%87%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%80%E5%AE%9A%E8%A6%81%E6%8C%89%E7%AC%94%E9%A1%BA%E5%86%99%E5%AD%97/">
<span class="md-ellipsis">
    如何向孩子解释为什么一定要按笔顺写字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-16-%E9%A2%9C%E7%9C%9F%E5%8D%BF%E6%9C%89%E6%B2%A1%E6%9C%89%E5%86%99%E9%94%99%E5%AD%97/">
<span class="md-ellipsis">
    颜真卿有没有写错字
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-05-28-%E6%98%AF%E4%B8%8D%E6%98%AF%E5%8F%AA%E6%9C%89%E6%B1%89%E5%AD%97%E6%89%8D%E8%83%BD%E5%86%99%E5%87%BA%E4%B9%A6%E6%B3%95/">
<span class="md-ellipsis">
    是不是只有汉字才能写出书法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-19-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%8B%B1%E8%AF%AD%E5%92%8C%E6%8B%BC%E9%9F%B3%E8%A6%81%E5%AD%A6%E4%B8%A4%E5%A5%97%E6%89%8B%E5%86%99%E4%BD%93%EF%BC%9F/">
<span class="md-ellipsis">
    为什么英语和拼音要学两套手写体？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-02-14-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%B0%8F%E5%AD%A6%E8%8B%B1%E8%AF%AD%E6%95%99%E6%9D%90%E8%A6%81%E7%94%A8%E8%BF%99%E7%A7%8D%E5%AD%97%E4%BD%93%E4%BD%93%E5%8D%B0%E5%88%B7/">
<span class="md-ellipsis">
    为什么小学英语教材要用这种字体印刷
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-06-19-%E6%B3%95%E5%B8%96%E7%BD%91%E5%9B%BE%E6%AF%94%E4%B9%A6%E6%B8%85%E6%A5%9A/">
<span class="md-ellipsis">
    《高力士墓志》网图比书清楚
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E6%8E%88%E7%AC%94%E8%A6%81%E8%AF%B4%E3%80%8B/">
<span class="md-ellipsis">
    书论：唐·韩方明《授笔要说》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E6%B5%B7%E5%B2%B3%E5%90%8D%E8%A8%80%E3%80%8B/">
<span class="md-ellipsis">
    书论：宋·米芾《海岳名言》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E7%BF%B0%E5%A2%A8%E5%BF%97%E3%80%8B/">
<span class="md-ellipsis">
    书论：宋高宗赵构《翰墨志》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E5%A4%A7%E5%AD%97%E7%BB%93%E6%9E%84%E5%85%AB%E5%8D%81%E5%9B%9B%E6%B3%95%E3%80%8B/">
<span class="md-ellipsis">
    书论：明·李淳《大字结构八十四法》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E7%BF%B0%E6%9E%97%E8%A6%81%E8%AF%80%E3%80%8B/">
<span class="md-ellipsis">
    书论：元·陈绎曾《翰林要诀》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E4%B9%A6%E6%B3%95%E4%B8%89%E6%98%A7%E3%80%8B/">
<span class="md-ellipsis">
    书论：元·佚名《书法三昧》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E5%A2%A8%E6%B1%A0%E7%90%90%E5%BD%95%E3%80%8B/">
<span class="md-ellipsis">
    书论：明·杨慎《墨池琐录》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E4%B9%A6%E6%B3%95%E7%BA%B6%E8%B4%AF%E3%80%8B/">
<span class="md-ellipsis">
    书论：明·宋啬《书法纶贯》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E4%B9%A6%E6%B3%95%E7%BA%A6%E8%A8%80%E3%80%8B/">
<span class="md-ellipsis">
    书论：明末清初·宋曹《书法约言》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-17-%E4%B9%A6%E8%AE%BA%E6%95%B4%E7%90%86%EF%BC%9A%E3%80%8A%E7%AB%A5%E5%AD%A6%E4%B9%A6%E7%A8%8B%E3%80%8B/">
<span class="md-ellipsis">
    书论：明·丰坊《童学书程》
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
<span class="md-ellipsis">
    少儿编程及STEAM
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
            少儿编程及STEAM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-04-23-%E5%B0%91%E5%84%BFPython%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E7%94%A8%E4%BB%80%E4%B9%88%E6%A1%86%E6%9E%B6/">
<span class="md-ellipsis">
    Arcade：适合少儿Python入门的游戏框架
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-04-25-Arcade%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Arcade学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-11-23-PygameZero%E6%96%87%E6%A1%A3%E7%9A%84%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">
<span class="md-ellipsis">
    Pygame Zero文档的思维导图和入门实例
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-01-29-PygameZero%E5%8A%A9%E6%89%8B/">
<span class="md-ellipsis">
    PygameZero助手（比照Scratch而做的增强）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-09-PygameZero%E8%B5%84%E6%BA%90/">
<span class="md-ellipsis">
    PygameZero资源
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-17-%E5%B0%91%E5%84%BF%E7%BC%96%E7%A8%8B%E7%94%A8%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/">
<span class="md-ellipsis">
    少儿编程用在线编辑器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-12-06-Python%E6%89%BE%E9%97%A8%E6%95%99%E7%A8%8B-%E7%9B%AE%E5%BD%95-%E6%B4%BE%E7%9C%9F%E5%92%8C%E4%B8%A4%E6%9D%A1%E8%85%BF%E6%9D%A5%E5%88%B0%E5%93%88%E7%BD%97%E4%B8%96%E7%95%8C/">
<span class="md-ellipsis">
    派真和两条腿来到哈罗世界
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-12-21-%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83/">
<span class="md-ellipsis">
    编程环境
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-10-05-%E5%88%9D%E5%AD%A6python%E6%9C%89%E5%93%AA%E4%BA%9B%E7%BC%96%E8%BE%91%E5%99%A8%E6%8E%A8%E8%8D%90/">
<span class="md-ellipsis">
    初学python，有哪些编辑器推荐
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-02-13-Python%E7%BC%96%E7%A8%8B%E7%AD%94%E9%97%AE/">
<span class="md-ellipsis">
    Python编程答问
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-05-15-Python%E7%A6%85/">
<span class="md-ellipsis">
    Python口头禅
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-27-Pyo%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Pyo学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-28-Pyo%E6%96%87%E6%A1%A3%EF%BC%88%E4%B8%80%EF%BC%89/">
<span class="md-ellipsis">
    Pyo文档（一）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-1-1-Pyo%E6%96%87%E6%A1%A3%EF%BC%88%E4%BA%8C%EF%BC%89%E5%AE%9E%E4%BE%8B/">
<span class="md-ellipsis">
    Pyo文档（二）实例
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-18-%E3%80%8A%E6%9E%81%E7%AE%80%E7%AE%97%E6%9C%AF%E5%8F%B2%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    《极简算术史》读书笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-10-20-%E6%95%99%E5%AD%A9%E5%AD%90%E9%AA%91%E8%87%AA%E8%A1%8C%E8%BD%A6/">
<span class="md-ellipsis">
    教孩子骑自行车
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
<span class="md-ellipsis">
    启蒙文摘
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
            启蒙文摘
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-12-%E6%95%99%E7%AB%A5%E5%AD%90%E6%B3%95/">
<span class="md-ellipsis">
    教童子法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-10-%E8%BF%9E%E7%8E%AF%E5%9B%BE%E7%94%BB%E7%90%90%E8%B0%88/">
<span class="md-ellipsis">
    连环图画琐谈
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-10-%E3%80%8A%E7%9C%8B%E5%9B%BE%E8%AF%86%E5%AD%97%E3%80%8B/">
<span class="md-ellipsis">
    《看图识字》
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-10-%E4%BA%BA%E7%94%9F%E8%AF%86%E5%AD%97%E8%83%A1%E6%B6%82%E5%A7%8B/">
<span class="md-ellipsis">
    人生识字胡涂始
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-11-%E7%8E%8B%E9%95%9B%E4%B9%A6%E8%8B%8F%E8%BD%BC%E7%9F%B3%E8%8B%8D%E8%88%92%E9%86%89%E5%A2%A8%E5%A0%82%E8%AF%97/">
<span class="md-ellipsis">
    王镛书苏轼石苍舒醉墨堂诗
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-06-11-%E3%80%8A%E4%BC%A0%E7%BB%9F%E8%AF%AD%E6%96%87%E6%95%99%E8%82%B2%E6%95%99%E6%9D%90%E8%AE%BA%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    《传统语文教育教材论》阅读笔记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
<span class="md-ellipsis">
    图书编辑学AI
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_12_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_12">
<span class="md-nav__icon md-icon"></span>
            图书编辑学AI
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2025-07-23-%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%AF%84%E5%AE%9A%E6%99%AE%E9%80%9A%E8%AF%9D%E6%B0%B4%E5%B9%B3%E7%9A%84%E6%95%88%E6%9E%9C/">
<span class="md-ellipsis">
    大语言模型评定普通话水平的效果
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2025-03-28-%E7%94%A8%E4%BA%8EAI%E5%9B%BE%E4%B9%A6%E6%A0%A1%E5%AF%B9%E7%9A%84vscod%E6%89%A9%E5%B1%95/">
<span class="md-ellipsis">
    用于AI图书校对的vscod扩展
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2025-03-09-AI%E5%9B%BE%E4%B9%A6%E6%A0%A1%E5%AF%B9%E5%B7%A5%E5%85%B7%E5%BA%93/">
<span class="md-ellipsis">
    AI图书校对工具库
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2025-02-07-%E6%AF%94%E8%BE%83AI%E6%A8%A1%E5%9E%8B%E6%A0%A1%E5%AF%B9%E6%95%88%E6%9E%9C/">
<span class="md-ellipsis">
    比较AI模型用于中文校对的效果
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2024-09-15-%E5%9B%BE%E4%B9%A6%E7%BC%96%E8%BE%91%E6%80%8E%E4%B9%88%E5%AD%A6AI/">
<span class="md-ellipsis">
    图书编辑怎么学AI？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2024-09-22-%E6%80%8E%E4%B9%88%E7%94%A8AI%E8%BE%85%E5%8A%A9%E5%81%9A%E4%B8%80%E6%9C%AC%E5%AE%89%E5%BE%92%E7%94%9F%E7%AB%A5%E8%AF%9D%E9%80%89/">
<span class="md-ellipsis">
    怎么用AI辅助做一本安徒生童话选
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2024-10-04-%E6%88%91%E7%94%A8AI%E8%BE%85%E5%8A%A9%E5%9B%BE%E4%B9%A6%E7%BC%96%E6%A0%A1%E7%9A%84%E5%87%A0%E4%B8%AA%E4%BE%8B%E5%AD%90/">
<span class="md-ellipsis">
    我用AI辅助图书编校的几个例子
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_13" type="checkbox"/>
<label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
<span class="md-ellipsis">
    老编辑的效率工具
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_13_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_13">
<span class="md-nav__icon md-icon"></span>
            老编辑的效率工具
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-10-12-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E3%80%81%E8%AF%AD%E8%A8%80%E5%92%8C%E6%A1%86%E6%9E%B6/">
<span class="md-ellipsis">
    常用与备用软件、语言和框架
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-07-11-%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7%E7%AD%94%E9%97%AE/">
<span class="md-ellipsis">
    效率工具答问（累积更新）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-03-%E7%94%A8ChatGPT%E8%AE%AD%E7%BB%83%E4%B8%80%E4%BD%8D%E8%82%B2%E5%84%BF%E6%95%99%E7%BB%83/">
<span class="md-ellipsis">
    用ChatGPT训练一位育儿教练
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-04-80-Ways-to-Use-ChatGPT-in-the-Classroom/">
<span class="md-ellipsis">
    《ChatGPT辅助教学80招》目录试译
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-10-%E7%BB%99%E6%96%87%E5%AD%97%E5%B7%A5%E4%BD%9C%E8%80%85%E7%9A%84VSCode%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">
<span class="md-ellipsis">
    给文字工作者的VSCode入门教程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-02-%E7%BB%99%E8%87%AA%E5%B7%B1%E9%85%8D%E7%BD%AE%E7%A7%B0%E5%BF%83%E5%A6%82%E6%84%8F%E7%9A%84%E5%86%99%E4%BD%9C%E5%B7%A5%E5%85%B7/">
<span class="md-ellipsis">
    给自己配置称心如意的写作工具
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-7-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7%E5%BF%97/">
<span class="md-ellipsis">
    奇技淫巧志
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-04-%E6%88%91%E5%B8%B8%E7%94%A8%E7%9A%84TextPro%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9B%BF%E6%8D%A2%E8%A1%A8/">
<span class="md-ellipsis">
    我常用的TextPro用自定义替换表
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-09-01-libreoffice%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98/">
<span class="md-ellipsis">
    LibreOfficeWriter使用问题
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-10-26-%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%A4%84%E7%90%86%E6%96%87%E6%9C%AC%E3%80%81%E7%AE%A1%E7%90%86%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%89%E4%BB%B6%E5%A5%97/">
<span class="md-ellipsis">
    用正则表达式处理文本、管理文件的三件套
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-05-31-%E7%BB%99%E7%BC%96%E8%BE%91%E6%9C%8B%E5%8F%8B%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%BE%E7%A8%8B/">
<span class="md-ellipsis">
    给编辑朋友的正则表达式课程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-02-%E6%95%99%E8%82%B2%E7%A1%AC%E4%BB%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    教育硬件学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-12-%E5%B0%8F%E5%B7%A5%E5%85%B7%EF%BC%9A%E4%BB%8E%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%AD%E6%94%B6%E9%9B%86%E5%AD%97%E7%AC%A6%E4%B8%B2/">
<span class="md-ellipsis">
    小工具：从多文件中收集字符串
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-14-Audition%E6%8A%80%E5%B7%A7%EF%BC%9A%E4%BD%BF%E4%B8%A4%E6%AE%B5%E4%B8%8D%E5%90%8C%E7%8E%AF%E5%A2%83%E7%9A%84%E5%BD%95%E9%9F%B3%E5%8D%8F%E8%B0%83%E4%B8%80%E8%87%B4/">
<span class="md-ellipsis">
    Audition技巧：使两段不同环境的录音协调一致
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-14-Audition%E6%8A%80%E5%B7%A7%EF%BC%9A%E8%87%AA%E5%8A%A8%E5%88%86%E5%88%87%E9%9F%B3%E9%A2%91/">
<span class="md-ellipsis">
    Audition技巧：半自动分切音频
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-15-%E5%B0%8F%E5%B7%A5%E5%85%B7%EF%BC%9A%E5%88%86%E5%89%B2%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/">
<span class="md-ellipsis">
    小工具：分割文本文件
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2020-09-26-%E7%A1%AC%E7%9B%98%E6%8D%9F%E5%9D%8F%EF%BC%8C%E6%8A%A2%E6%95%91%E6%95%B0%E6%8D%AE/">
<span class="md-ellipsis">
    硬盘损坏，抢救数据
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-27-markdown%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    markdown学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-04-%E4%B8%A4%E7%A7%8Dmarkdown%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%E6%96%B9%E6%B3%95/">
<span class="md-ellipsis">
    两种markdown文件解析方法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-16-markdown%E4%B8%AD%E7%9A%84mermaid%E5%9B%BE%E4%BE%8B/">
<span class="md-ellipsis">
    markdown中的mermaid图例
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-02-05-%E6%9C%89%E6%B2%A1%E6%9C%89%E5%90%88%E9%80%82%E7%9A%84%E8%83%BD%E6%9B%BF%E4%BB%A3flash%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90%E7%9A%84/">
<span class="md-ellipsis">
    有没有合适的能替代flash的软件推荐？
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-02-mkdocs-material%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    静态网站框架mkdocs+material学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-12-mkdocs-macros-plugin%E5%AE%8F%E6%8F%92%E4%BB%B6/">
<span class="md-ellipsis">
    mkdocs-macros-plugin宏插件
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-22-autotrace%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/">
<span class="md-ellipsis">
    autotrace说明文档
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%94%9F%E6%88%90%E5%99%A8Pelican%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    静态网站生成器Pelican学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-09-25-%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%E8%91%97%E5%BD%95%E8%A7%84%E5%88%99%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    参考文献著录规则笔记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_14" type="checkbox"/>
<label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
<span class="md-ellipsis">
    Phaser学习中心组
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_14_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_14">
<span class="md-nav__icon md-icon"></span>
            Phaser学习中心组
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-12-Phaser3%E6%B8%B8%E6%88%8F%E7%BB%93%E6%9E%84%E7%A4%BA%E4%BE%8B/">
<span class="md-ellipsis">
    Phaser3游戏结构示例（未完成）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-03-Phaser3%E7%9A%84%E6%A8%A1%E5%9D%97%E7%BB%93%E6%9E%84/">
<span class="md-ellipsis">
    Phaser3的模块结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-30-%E5%9C%A8Phaser%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%B5%8C%E5%85%A5%E5%AD%97%E4%BD%93/">
<span class="md-ellipsis">
    在Phaser游戏中嵌入字体
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-2-10-Phaser%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/">
<span class="md-ellipsis">
    Phaser新闻联播
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-4-Phaser%203%20FAQ%201/">
<span class="md-ellipsis">
    Phaser3常识答问（一）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-4-Phaser%203%20FAQ%202/">
<span class="md-ellipsis">
    Phaser3常识答问（二）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-12-Phaser3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Phaser3学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-1-8-Phaser3%E5%AE%98%E7%BD%91%E5%AE%9E%E4%BE%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Phaser3官网实例学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-Phaser2%E5%AE%98%E7%BD%91%E5%AE%9E%E4%BE%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Phaser2官网实例学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E4%B8%80%E4%B8%AA%E4%B8%9A%E4%BD%99%E4%B9%A0Phaser%E7%9A%84%E9%87%8E%E8%B7%AF%E5%AD%90/">
<span class="md-ellipsis">
    一个业余习Phaser的野路子
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_15" type="checkbox"/>
<label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
<span class="md-ellipsis">
    Phaser3文档注记
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_15_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_15">
<span class="md-nav__icon md-icon"></span>
            Phaser3文档注记
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-30-GameConfig%E6%B8%B8%E6%88%8F%E9%85%8D%E7%BD%AE/">
<span class="md-ellipsis">
    GameConfig游戏配置
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-30-Phaser.Scale.ScaleManager/">
<span class="md-ellipsis">
    ScaleManager窗口适配
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-1-2-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Scene/">
<span class="md-ellipsis">
    Scene场景
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-31-Phaser.Scenes.ScenePlugin/">
<span class="md-ellipsis">
    ScenePlugin场景管理器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-12-1-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Loader.LoaderPlugin/">
<span class="md-ellipsis">
    LoaderPlugin加载器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-24-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Sprite/">
<span class="md-ellipsis">
    Sprite精灵
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-31-Phaser.GameObjects.Graphics%E5%9B%BE%E7%94%BB%E7%B1%BB/">
<span class="md-ellipsis">
    Graphics图形
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-02-Phaser.GameObjects.Text/">
<span class="md-ellipsis">
    Phaser.GameObjects.Text文本
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-30-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Container/">
<span class="md-ellipsis">
    Container容器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-30-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Group/">
<span class="md-ellipsis">
    Group组
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-30-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-Actions/">
<span class="md-ellipsis">
    Actions批处理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-1-8-Phaser3%20API%E6%96%87%E6%A1%A3%E5%A4%A7%E7%BA%B2-InputPlugin/">
<span class="md-ellipsis">
    InputPlugin输入管理器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-12-23-Phaser.Input.Pointer/">
<span class="md-ellipsis">
    Pointer热点
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-03-Phaser.Cameras.Scene2D.Camera/">
<span class="md-ellipsis">
    Camera镜头
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-14-Phaser3%E5%9C%BA%E6%99%AF%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    Phaser3场景一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-12-Phaser3%E6%B8%B8%E6%88%8F%E5%AF%B9%E8%B1%A1%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    Phaser3游戏对象一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-13-Phaser3%E4%BA%8B%E4%BB%B6%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    Phaser3事件一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-15-%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    Phaser3物理模块一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-15-%E5%9C%BA%E6%99%AFArcade%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    场景的Arcade物理系统一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-15-%E5%9C%BA%E6%99%AFArcade%E7%89%A9%E7%90%86%E4%B8%96%E7%95%8C%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    场景的Arcade物理世界一览
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-04-15-%E5%8A%A8%E6%80%81Arcade%E7%89%A9%E4%BD%93%E4%B8%80%E8%A7%88/">
<span class="md-ellipsis">
    Arcade动态物体一览
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_16" type="checkbox"/>
<label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
<span class="md-ellipsis">
    Phaser3官网入门教程
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_16_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_16">
<span class="md-nav__icon md-icon"></span>
            Phaser3官网入门教程
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/">
<span class="md-ellipsis">
    第一节 - 前言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part2/">
<span class="md-ellipsis">
    第二节 - 加载资源
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part3/">
<span class="md-ellipsis">
    第三节 - 建立游戏世界
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part4/">
<span class="md-ellipsis">
    第四节 - 平台
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part5/">
<span class="md-ellipsis">
    第5节 - 玩家
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part6/">
<span class="md-ellipsis">
    第6节 - 添加物理系统
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part7/">
<span class="md-ellipsis">
    第7节 - 键盘控制
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part8/">
<span class="md-ellipsis">
    第8节 - 收集星星
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part9/">
<span class="md-ellipsis">
    第9节 - 计分
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../making-your-first-phaser-3-game/part10/">
<span class="md-ellipsis">
    第10节 - 跳跳弹
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_17" type="checkbox"/>
<label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
<span class="md-ellipsis">
    TEX, ConTeXt与排版自动化
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_17_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_17">
<span class="md-nav__icon md-icon"></span>
            TEX, ConTeXt与排版自动化
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2024-01-21-%E8%AF%AD%E6%96%87%E7%BB%83%E4%B9%A0%E5%86%8C%E5%92%8C%E8%AF%95%E5%8D%B7%E7%9A%84ConTeXt%E6%A8%A1%E6%9D%BF/">
<span class="md-ellipsis">
    语文练习册和试卷的ConTeXt模板
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-11-20-ConTeXt%E7%AE%80%E4%BB%8B%E5%92%8C%E4%B8%AD%E6%96%87%E6%8E%92%E7%89%88%E6%95%88%E6%9E%9C/">
<span class="md-ellipsis">
    ConTeXt简介和中文排版效果
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-28-ConTeXt-LMTX%E6%A0%87%E7%82%B9%E5%8E%8B%E7%BC%A9%E6%8F%92%E4%BB%B6/">
<span class="md-ellipsis">
    ConTeXt中文标点压缩插件
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-15-ConTeXt-LMTX%E4%B8%AD%E6%96%87%E7%AB%96%E6%8E%92%E6%8F%92%E4%BB%B6/">
<span class="md-ellipsis">
    ConTeXt LMTX中文竖排插件
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-14-ConTeXt-LMTX%E7%9A%84%E6%B1%89%E5%AD%97%E7%AB%96%E6%8E%92%E6%80%9D%E8%B7%AF/">
<span class="md-ellipsis">
    ConTeXt LMTX中文竖排思路
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-06-19-ConTeXt%E5%8F%8C%E8%A1%8C%E5%A4%B9%E6%B3%A8%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/">
<span class="md-ellipsis">
    ConTeXt+LMTX双行夹注的简单实现
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-30-%E4%BD%BFTypst%E7%9A%84par%E8%83%BD%E8%B0%83%E6%95%B4%E6%B1%89%E5%AD%97%E9%97%B4%E8%B7%9D/">
<span class="md-ellipsis">
    使Typst par能调整汉字间距
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-28-%E4%BD%93%E9%AA%8CTypst/">
<span class="md-ellipsis">
    体验Typst
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-03-25-Typst%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    Typst学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-20-luametatex-node-playground/">
<span class="md-ellipsis">
    LuaTeX结点游乐场
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-23-luametatex-callback-playground/">
<span class="md-ellipsis">
    LuaTeX回调游乐场
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-10-LuaTeX-CLD-TEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    LuaTeX-LMTX-CLD学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    ConTeXt学习笔记
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    ConTeXt学习笔记
    
  </span>
</a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
<span class="md-ellipsis">
      引言
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      环境和编译
    </span>
</a>
<nav aria-label="环境和编译" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode">
<span class="md-ellipsis">
      使用官方vscode扩展
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode_1">
<span class="md-ellipsis">
      vscode语法高亮插件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      搜索路径
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#instruction_command">
<span class="md-ellipsis">
      instruction 指令 /command 命令：
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      组和环境
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      命令语法
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      成套命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#context">
<span class="md-ellipsis">
      ConTeXt编程/系统宏
    </span>
</a>
<nav aria-label="ConTeXt编程/系统宏" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      分支与判断
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      循环与递归
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
<span class="md-ellipsis">
      条件切换/处理行为
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
<span class="md-ellipsis">
      逗号分割列表的处理
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
<span class="md-ellipsis">
      定义命令
    </span>
</a>
<nav aria-label="定义命令" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
<span class="md-ellipsis">
      命名参数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
<span class="md-ellipsis">
      可选参数/处理参数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lua">
<span class="md-ellipsis">
      键值对参数（用lua定义命令、传参）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
<span class="md-ellipsis">
      重载保护
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#contextlua">
<span class="md-ellipsis">
      全局变量/在ConTeXt和lua之间传递变量
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cld">
<span class="md-ellipsis">
      CLD相关命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#startstop">
<span class="md-ellipsis">
      定义环境/startstop宏/成对命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
<span class="md-ellipsis">
      构建成套的命令
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
<span class="md-ellipsis">
      尺寸
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
<span class="md-ellipsis">
      输入特殊字符
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
<span class="md-ellipsis">
      文档与项目结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
<span class="md-ellipsis">
      页面和分页
    </span>
</a>
<nav aria-label="页面和分页" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
<span class="md-ellipsis">
      页面元素和版面布局
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
<span class="md-ellipsis">
      设置页码
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
<span class="md-ellipsis">
      建议分页/不分页、强制分页
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_24">
<span class="md-ellipsis">
      天头、地脚的配置（页眉页脚）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edgesmargins">
<span class="md-ellipsis">
      页面外边edges、内边margins插入元素
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#typescript">
<span class="md-ellipsis">
      字体脚本 typescript
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_25">
<span class="md-ellipsis">
      安装字体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_26">
<span class="md-ellipsis">
      字体知识
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_27">
<span class="md-ellipsis">
      定义字体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_28">
<span class="md-ellipsis">
      颜色
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_29">
<span class="md-ellipsis">
      文档结构
    </span>
</a>
<nav aria-label="文档结构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_30">
<span class="md-ellipsis">
      标题
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_31">
<span class="md-ellipsis">
      目录
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_32">
<span class="md-ellipsis">
      列表和联合列表
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_33">
<span class="md-ellipsis">
      结构列表
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_34">
<span class="md-ellipsis">
      索引
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_35">
<span class="md-ellipsis">
      引用和超链接
    </span>
</a>
<nav aria-label="引用和超链接" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_36">
<span class="md-ellipsis">
      同义词
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_37">
<span class="md-ellipsis">
      排序
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mark">
<span class="md-ellipsis">
      mark标记
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_38">
<span class="md-ellipsis">
      引用
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_39">
<span class="md-ellipsis">
      预置引用
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_40">
<span class="md-ellipsis">
      注册器
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_41">
<span class="md-ellipsis">
      字符、词语、文本
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_42">
<span class="md-ellipsis">
      水平空白/间距
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_43">
<span class="md-ellipsis">
      垂直间距/空白
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_44">
<span class="md-ellipsis">
      特殊结构和段落
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_45">
<span class="md-ellipsis">
      图像、表格和其他浮动对象
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#zhfonts">
<span class="md-ellipsis">
      zhfonts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ruby">
<span class="md-ellipsis">
      ruby和行间标注
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_46">
<span class="md-ellipsis">
      下画线
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#box">
<span class="md-ellipsis">
      盒子 box
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_47">
<span class="md-ellipsis">
      文本缩放
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_48">
<span class="md-ellipsis">
      悬挂缩进
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_49">
<span class="md-ellipsis">
      缩放、镜像、剪切
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_50">
<span class="md-ellipsis">
      视觉调试与跟踪
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_51">
<span class="md-ellipsis">
      项目结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_52">
<span class="md-ellipsis">
      层/图文堆叠/图文定位
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pdf">
<span class="md-ellipsis">
      在pdf文件中添加附件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_53">
<span class="md-ellipsis">
      生僻字造字拼字
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_54">
<span class="md-ellipsis">
      字间距/字符间距
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extra_font_kerns">
<span class="md-ellipsis">
      额外的字体字间（Extra font kerns）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_55">
<span class="md-ellipsis">
      浮动体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_56">
<span class="md-ellipsis">
      偏置、提高盒子
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-pass">
<span class="md-ellipsis">
      存取数据（multi-pass数据）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_57">
<span class="md-ellipsis">
      交互控件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_58">
<span class="md-ellipsis">
      模式
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_59">
<span class="md-ellipsis">
      所有命令的设置项的签名
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_60">
<span class="md-ellipsis">
      计数器
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_61">
<span class="md-ellipsis">
      文本背景、文本高亮
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_62">
<span class="md-ellipsis">
      文本绕排
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_63">
<span class="md-ellipsis">
      泡泡框、对话框
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_64">
<span class="md-ellipsis">
      脚本工具
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodes">
<span class="md-ellipsis">
      绘制节点图nodes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_65">
<span class="md-ellipsis">
      中文相关
    </span>
</a>
<nav aria-label="中文相关" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_66">
<span class="md-ellipsis">
      中文断行/回行
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_67">
<span class="md-ellipsis">
      切换字体
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-01-10-latex-CTEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    latex-CTEX学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-05-28-TEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    TEX学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-06-22-ConTeXt-rule%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    ConTeXt rule学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-02-18-LuaTeX-LuaMetaTeX-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/">
<span class="md-ellipsis">
    TEX系学习资源
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-08-29-metafun%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    MetaPost、MetaFun学习笔记
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-09-23-metapost-luametafun-examples/">
<span class="md-ellipsis">
    metapost用例
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-11-11-How-TeX-Calculates-Glue-Settings-in-an-hbox/">
<span class="md-ellipsis">
    TeX怎样计算横盒子(hbox)中的胶的设定值
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-09-13-Understanding-underfull-and-overfull-box-warnings/">
<span class="md-ellipsis">
    理解未满盒子和溢出盒子的警告信息
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2022-10-04-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<span class="md-ellipsis">
    学习笔记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_18" type="checkbox"/>
<label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
<span class="md-ellipsis">
    布考斯基与诗
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_18_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_18">
<span class="md-nav__icon md-icon"></span>
            布考斯基与诗
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E5%B8%83%E8%80%83%E6%96%AF%E5%9F%BA%E5%B9%B4%E8%A1%A8/">
<span class="md-ellipsis">
    布考斯基年表
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E5%BC%B9%E9%86%89%E7%90%B4%EF%BC%9A%E5%B8%83%E8%80%83%E6%96%AF%E5%9F%BA%E8%AF%97%E9%9B%86/">
<span class="md-ellipsis">
    弹醉琴/如击鼓/直到手指滴血：布考斯基诗集
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2012-8-2-%E7%88%B1%E6%98%AF%E5%9C%B0%E7%8B%B1%E7%9A%84%E6%81%B6%E7%8B%97%EF%BC%9A%E5%B8%83%E8%80%83%E6%96%AF%E5%9F%BA%E8%AF%97%E9%9B%86/">
<span class="md-ellipsis">
    爱如恶狗：布考斯基诗集
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2009-3-18-%E6%9C%80%E7%BB%88%E4%BA%BA%E5%A6%82%E8%8A%B1%EF%BC%9A%E5%B8%83%E8%80%83%E6%96%AF%E5%9F%BA%E6%96%B0%E8%AF%97%E9%80%89%E8%AF%91/">
<span class="md-ellipsis">
    最终人如花：布考斯基新诗选译
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2019-1-3-%E9%BB%91%E9%A6%8D%E7%88%B1%E5%A4%B9%E8%8F%9C%EF%BC%88%E8%AF%95%E8%AF%91%EF%BC%89/">
<span class="md-ellipsis">
    黑馍爱夹菜（试译）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-11-9-%E3%80%8A%E7%94%9F%E6%9D%A5%E5%A6%82%E6%AD%A4%E3%80%8B%E5%AD%97%E5%B9%95/">
<span class="md-ellipsis">
    《生来如此》字幕
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2018-10-14-%E7%BA%A6%E7%BF%B0%C2%B7%E5%87%A1%E8%92%82/">
<span class="md-ellipsis">
    约翰·凡蒂（John Fante）
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2021-03-25-%E8%AF%84%E5%93%91%E5%AD%A9%E5%AD%90%E7%9A%84%E8%AF%97%E9%9B%86/">
<span class="md-ellipsis">
    大时代，读小诗
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2023-04-13-%E6%B2%89%E8%BF%B7%E9%97%B2%E8%AF%9D/">
<span class="md-ellipsis">
    沉迷日志
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../about/">
<span class="md-ellipsis">
    ☆ About
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
<span class="md-ellipsis">
      引言
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      环境和编译
    </span>
</a>
<nav aria-label="环境和编译" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode">
<span class="md-ellipsis">
      使用官方vscode扩展
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode_1">
<span class="md-ellipsis">
      vscode语法高亮插件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      搜索路径
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#instruction_command">
<span class="md-ellipsis">
      instruction 指令 /command 命令：
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      组和环境
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      命令语法
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      成套命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#context">
<span class="md-ellipsis">
      ConTeXt编程/系统宏
    </span>
</a>
<nav aria-label="ConTeXt编程/系统宏" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      分支与判断
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      循环与递归
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
<span class="md-ellipsis">
      条件切换/处理行为
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
<span class="md-ellipsis">
      逗号分割列表的处理
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
<span class="md-ellipsis">
      定义命令
    </span>
</a>
<nav aria-label="定义命令" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
<span class="md-ellipsis">
      命名参数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
<span class="md-ellipsis">
      可选参数/处理参数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lua">
<span class="md-ellipsis">
      键值对参数（用lua定义命令、传参）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
<span class="md-ellipsis">
      重载保护
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#contextlua">
<span class="md-ellipsis">
      全局变量/在ConTeXt和lua之间传递变量
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cld">
<span class="md-ellipsis">
      CLD相关命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#startstop">
<span class="md-ellipsis">
      定义环境/startstop宏/成对命令
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
<span class="md-ellipsis">
      构建成套的命令
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
<span class="md-ellipsis">
      尺寸
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
<span class="md-ellipsis">
      输入特殊字符
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
<span class="md-ellipsis">
      文档与项目结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
<span class="md-ellipsis">
      页面和分页
    </span>
</a>
<nav aria-label="页面和分页" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
<span class="md-ellipsis">
      页面元素和版面布局
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
<span class="md-ellipsis">
      设置页码
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
<span class="md-ellipsis">
      建议分页/不分页、强制分页
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_24">
<span class="md-ellipsis">
      天头、地脚的配置（页眉页脚）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#edgesmargins">
<span class="md-ellipsis">
      页面外边edges、内边margins插入元素
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#typescript">
<span class="md-ellipsis">
      字体脚本 typescript
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_25">
<span class="md-ellipsis">
      安装字体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_26">
<span class="md-ellipsis">
      字体知识
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_27">
<span class="md-ellipsis">
      定义字体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_28">
<span class="md-ellipsis">
      颜色
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_29">
<span class="md-ellipsis">
      文档结构
    </span>
</a>
<nav aria-label="文档结构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_30">
<span class="md-ellipsis">
      标题
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_31">
<span class="md-ellipsis">
      目录
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_32">
<span class="md-ellipsis">
      列表和联合列表
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_33">
<span class="md-ellipsis">
      结构列表
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_34">
<span class="md-ellipsis">
      索引
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_35">
<span class="md-ellipsis">
      引用和超链接
    </span>
</a>
<nav aria-label="引用和超链接" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_36">
<span class="md-ellipsis">
      同义词
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_37">
<span class="md-ellipsis">
      排序
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mark">
<span class="md-ellipsis">
      mark标记
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_38">
<span class="md-ellipsis">
      引用
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_39">
<span class="md-ellipsis">
      预置引用
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_40">
<span class="md-ellipsis">
      注册器
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_41">
<span class="md-ellipsis">
      字符、词语、文本
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_42">
<span class="md-ellipsis">
      水平空白/间距
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_43">
<span class="md-ellipsis">
      垂直间距/空白
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_44">
<span class="md-ellipsis">
      特殊结构和段落
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_45">
<span class="md-ellipsis">
      图像、表格和其他浮动对象
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#zhfonts">
<span class="md-ellipsis">
      zhfonts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ruby">
<span class="md-ellipsis">
      ruby和行间标注
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_46">
<span class="md-ellipsis">
      下画线
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#box">
<span class="md-ellipsis">
      盒子 box
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_47">
<span class="md-ellipsis">
      文本缩放
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_48">
<span class="md-ellipsis">
      悬挂缩进
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_49">
<span class="md-ellipsis">
      缩放、镜像、剪切
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_50">
<span class="md-ellipsis">
      视觉调试与跟踪
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_51">
<span class="md-ellipsis">
      项目结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_52">
<span class="md-ellipsis">
      层/图文堆叠/图文定位
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pdf">
<span class="md-ellipsis">
      在pdf文件中添加附件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_53">
<span class="md-ellipsis">
      生僻字造字拼字
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_54">
<span class="md-ellipsis">
      字间距/字符间距
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extra_font_kerns">
<span class="md-ellipsis">
      额外的字体字间（Extra font kerns）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_55">
<span class="md-ellipsis">
      浮动体
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_56">
<span class="md-ellipsis">
      偏置、提高盒子
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multi-pass">
<span class="md-ellipsis">
      存取数据（multi-pass数据）
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_57">
<span class="md-ellipsis">
      交互控件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_58">
<span class="md-ellipsis">
      模式
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_59">
<span class="md-ellipsis">
      所有命令的设置项的签名
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_60">
<span class="md-ellipsis">
      计数器
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_61">
<span class="md-ellipsis">
      文本背景、文本高亮
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_62">
<span class="md-ellipsis">
      文本绕排
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_63">
<span class="md-ellipsis">
      泡泡框、对话框
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_64">
<span class="md-ellipsis">
      脚本工具
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodes">
<span class="md-ellipsis">
      绘制节点图nodes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_65">
<span class="md-ellipsis">
      中文相关
    </span>
</a>
<nav aria-label="中文相关" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_66">
<span class="md-ellipsis">
      中文断行/回行
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_67">
<span class="md-ellipsis">
      切换字体
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<nav class="md-tags">
<a class="md-tag" href="../tags/#tag:context">ConTeXt</a>
</nav>
<h1>ConTeXt学习笔记</h1>
<p><em>欢迎加入本人建的"LuaTeX ConTeXt 学习互助"群：431714622，互助学习LuaTeX ConTeXt LaTeX相关技术，以及通过Lua、Python实现格式化文本、数据的自动排版。</em></p>
<p><strong>注意：为了避免本博客的jinja引擎误解析，已经在<code>{</code>+<code>#</code>之间，以及对应的<code>}</code>之前加入空格</strong></p>
<hr/>
<p>本文主要学习如下资料的笔记：</p>
<ul>
<li><a href="https://github.com/contextgarden/not-so-short-introduction-to-context"><em>A not so short introduction to ConTeXt</em></a>，</li>
<li><a href="https://wiki.contextgarden.net/">contextgarden wiki</a>的笔记；</li>
</ul>
<p><strong>涉及LuaTeX的部分，请参见<a href="../2022-01-10-LuaTeX-CLD-TEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">LuaTeX-CLD-TEX学习笔记</a>。</strong></p>
<h2 id="_1">引言<a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<p><a href="https://wiki.contextgarden.net/Main_Page">ConTeXt</a>格式的目标是通用排版，更适合设计；而LaTeX最初目标是数学相关的学术排版。</p>
<p>ConTeXt版本：</p>
<ul>
<li>MKII，已经冻结，使用PDFTEX (和XETEX)；</li>
<li>MKIV，使用LUATEX (和LUAJITTEX)</li>
<li>LMTX，最新版，还在进化，使用LuaMetaTeX引擎</li>
</ul>
<h2 id="_2">环境和编译<a class="headerlink" href="#_2" title="Permanent link">#</a></h2>
<h3 id="_3">命令<a class="headerlink" href="#_3" title="Permanent link">#</a></h3>
<p>编译脚本文档</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># 默认使用LuaMetaTeX</span>
context<span class="w"> </span>test.mkiv
<span class="c1"># 或指定使用luatex</span>
context<span class="w"> </span>--luatex<span class="w"> </span>test.mkiv
</code></pre></div></td></tr></table></div>
<p>其他命令行选项(通过<code>--help</code>选项查看)</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code>--run                  process (one or more) files (default action)
--make                 生成context格式文件（formats），改变系统文件时需要这样才生效
--ctx=name             use ctx file (process management specification)
--noctx                ignore ctx directives and flags
--interface            use specified user interface (default: en)
--autopdf              close pdf file in viewer and start pdf viewer afterwards
--purge                purge files either or not after a run (--pattern=...)
--purgeall             purge all files either or not after a run (--pattern=...)
--usemodule=list       load the given module or style, normally part of the distribution
--environment=list     load the given environment file first (document styles)
--mode=list            开启给定的一组模式(有条件第处理样式)
--path=list            also consult the given paths when files are looked for
--arguments=list       set variables that can be consulted during a run (key/value pairs)
--randomseed=number    set the randomseed
--result=name          rename the resulting output to the given name
--trackers=list        set tracker variables (show list with --showtrackers)
--directives=list      set directive variables (show list with --showdirectives)
--silent=list          disable logcatgories (show list with --showlogcategories)
--strip                strip Lua code (only meant for production where no errors are expected)
--errors=list          show errors at the end of a run, quit when in list (also when --silent)
--htmlerrorpage        generate html error page instead (optional: =scite)
--noconsole            disable logging to the console (logfile only)
--nodummy              don't create a dummy file (can confuse pdf viewers that keep file in view)
--purgeresult          purge result file before run
--forcexml             force xml stub
--forcecld             force cld (context lua document) stub
--forcelua             force lua stub (like texlua)
--forcemp              force mp stub
--arrange              run extra imposition pass, given that the style sets up imposition
--noarrange            ignore imposition specifications in the style
--pages                report pagenumbers of names pages and list references (--page=... or --page=...)
--jit                  use luajittex with jit turned off (only use the faster virtual machine)
--jiton                use luajittex with jit turned on (in most cases not faster, even slower)
--once                 only run once (no multipass data file is produced)
--runs                 process at most this many times
--forcedruns           process this many times (permits for optimization trial runs)
--batchmode            run without stopping and do not show messages on the console
--nonstopmode          run without stopping
--nosynctex            never initializes synctex (for production runs)
--synctex              run with synctex enabled (better use \setupsynctex[state=start])
--nodates              omit runtime dates in pdf file (optional value: a number (this 1970 offset time) or string "YYYY-MM-DD HH:MM")
--nocompression        forcefully turns off compression in the backend
--trailerid            alternative trailer id (or constant one)
--generate             生成文件数据等(如luatools的作用)，安装第三方模块时需要这样才生效
--paranoid             do not descend to .. and ../..
--version              report installed context version
--global               assume given file present elsewhere
--nofile               use dummy file as jobname
</code></pre></div></td></tr></table></div>
<h3 id="vscode">使用官方vscode扩展<a class="headerlink" href="#vscode" title="Permanent link">#</a></h3>
<p><a href="https://wiki.contextgarden.net/VSCode">安装官方的vscode扩展说明</a></p>
<p>必须打开指定的颜色主题ConTeXt；只有语法高亮，没有Snippet（可以使用Tabnine）。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="s2">"D:/Users/ah21/AppData/Local/Programs/Microsoft VS Code/Code.exe"</span><span class="w"> </span>--extensions-dir<span class="w"> </span><span class="s2">"D:/venvs/context-win64/tex/texmf-context/context/data/vscode/extensions/"</span><span class="w"> </span>--install-extension<span class="w"> </span>context
</code></pre></div></td></tr></table></div>
<h3 id="vscode_1">vscode语法高亮插件<a class="headerlink" href="#vscode_1" title="Permanent link">#</a></h3>
<p>ConTeXt Syntax</p>
<h3 id="_4">搜索路径<a class="headerlink" href="#_4" title="Permanent link">#</a></h3>
<p><em>排版脚本、宏插件、字体文件等，似乎也遵循以下规则。</em></p>
<p>以下参考：<em>context reference manual</em> 2.4 Directories</p>
<p>在工作目录中找不到的文件，ConTEXt会搜索父目录们。也就是说环境文件（environment）可以放在产品文件的父目录中。例如：</p>
<ul>
<li>/texfiles/course/layout.tex</li>
<li>/texfiles/course/teacher/manual.tex</li>
<li>/texfiles/course/student/learnmat.tex</li>
<li>/texfiles/course/otherdoc/sheets.tex</li>
</ul>
<p>后三个文件在不同的字目录中，都使用相同的环境文件layout.tex。</p>
<p>以下参考 https://tex.stackexchange.com/questions/330771/context-configuration</p>
<p>ConTeXt搜索\environment文件的次序如下：</p>
<ol>
<li>当前目录( current directory，即运行<code>contex</code>的PWD，<strong>而不是</strong>tex主文件所在的PWD)</li>
<li>父目录 ../</li>
<li>祖目录 ../../</li>
<li><span class="arithmatex">\(TEXMF/tex/context// 之下的目录（\)</span>TEXMFHOME/tex/context/<sub-directory>/，在Mac/Linux中，<span class="arithmatex">\(TEXMFHOME默认为\)</span>HOME/.texmf）</sub-directory></li>
</ol>
<p>ConTeXt遵循TeX目录结构（TeX Directory Structure，简称TDS）。TDS手册：<a href="http://tug.org/tds/tds.html">tug.org/tds/tds.html</a>。</p>
<p>以下参考： https://tex.stackexchange.com/questions/192542/get-or-change-context-path-for-components-projects-environment</p>
<p>还可以指定路径：</p>
<ul>
<li>\usepath[...] 寻找文件的路径，比如公用的环境文件</li>
<li>\usesubpath[...]</li>
</ul>
<h2 id="instruction_command">instruction 指令 /command 命令：<a class="headerlink" href="#instruction_command" title="Permanent link">#</a></h2>
<ul>
<li>control sequence 控制序列<ul>
<li>primitive 基元</li>
<li>macro 宏</li>
</ul>
</li>
<li>control symbol</li>
<li>control word</li>
</ul>
<p>ConTeXt指令一般只分为保留字（所构成的控制符号？）和命令两类：</p>
<ul>
<li>控制符号：<code>\</code>+非字母(符号)</li>
<li>命令：<code>\</code>+字母词(直到遇到一个非字母前终止，<strong>如果遇到一个或多个空白字符则将其丢弃，可用<code>{}</code>作为边界，或用<code>\␣</code>显式保留空格</strong>)</li>
</ul>
<p>11个保留字<code>\ % { } # ~ | $ _ ^ &amp;</code>；没有保留字参与的情况下，都视作一般文本。要想输入这些字符，除以下三者，都可以用<code>\</code>先转义：
<code>\</code> \backslash
<code>~</code> \lettertilde
<code>^</code> \letterhat</p>
<p>也可以用<code>\type*{*</code>或<code>\type+}+</code>输入。</p>
<h2 id="_5">组和环境<a class="headerlink" href="#_5" title="Permanent link">#</a></h2>
<ul>
<li><code>{ ... }</code>，或<code>\bgroup ... \egroup</code>，两对控制序列同义，可以混用</li>
<li><code>\begingroup ... \endgroup</code>，允许更深层的错误检查</li>
<li><code>\start ... \stop</code></li>
<li>数学环境： <code>$ ... $</code></li>
<li>某些命令/环境： <code>\startSomething ... \endsomething</code></li>
<li>某些命令会自动生成一个组，如\hbox, \vbox</li>
</ul>
<p>组是一个明示的作业单元/解释单元。组内的定义、格式、赋值，组外无效。</p>
<p>组还可以用来界定前面命令的作用范围/输入范围，比如<code>$4^2x$</code>表示<span class="arithmatex">\(4^2x\)</span>，而<code>$4^{2x}$</code>表示<span class="arithmatex">\(4^{2x}\)</span></p>
<p>空组没有显示意义，但可以用来表示命令边界（比如避免吃掉后面的空格）。</p>
<p><strong>环境一般用于段落以上的内容，除非用<code>\bgroup ... \egroup</code>明示为组，否则不是组。</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code>In <span class="nb">{</span><span class="k">\it</span> The <span class="k">\TeX</span> Book<span class="nb">}</span>, <span class="nb">{</span><span class="k">\sc</span> Knuth<span class="nb">}</span>
explained everything you need to know
about <span class="k">\TeX</span>.

<span class="k">\framed</span><span class="nb">{</span>Tweedledum and Tweedledee<span class="nb">}</span>

<span class="k">\startitemize</span>
...
<span class="k">\stopitemize</span>
</code></pre></div></td></tr></table></div>
<h2 id="_6">命令语法<a class="headerlink" href="#_6" title="Permanent link">#</a></h2>
<ul>
<li><code>\command[Option1, Option2, ...]</code></li>
<li><code>\command[Variable1=value, Variable2=value, ...]</code></li>
<li>不能这样：<code>\command[Option1, Variable1=value, ...]</code></li>
</ul>
<h2 id="_7">成套命令<a class="headerlink" href="#_7" title="Permanent link">#</a></h2>
<ul>
<li>command (or environment) 直接使用</li>
<li>definecommand，克隆现存command，定义别名</li>
<li>setupcommand，配置现存command或别名</li>
</ul>
<p>比如：
* \FRAMEDTEXT 命令
    * \framedtex 实例
* \startFRAMEDTEXT ... \stopFRAMEDTEXT 环境命令
    * \startframedtext ... \stopframedtext
* \defineframedtext 定义实例（继承原命令的属性）
* \setupframedtext 配置实例
    * \setupframedtexts 一个配置多个实例</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\framed</span><span class="na">[width=3cm,height=1cm]</span><span class="nb">{</span>Tweedledum<span class="nb">}</span>
<span class="k">\setupframed</span>
[
    width=3cm,
    height=1cm
]

<span class="k">\defineframed</span><span class="na">[MySpecialFrame]</span>
<span class="k">\setupframed</span>
[MySpecialFrame]
[
    width=3cm,
    height=1cm
]
</code></pre></div></td></tr></table></div>
<h2 id="context">ConTeXt编程/系统宏<a class="headerlink" href="#context" title="Permanent link">#</a></h2>
<p>https://wiki.contextgarden.net/System_Macros</p>
<p>用符号保护内部宏（一般状态下命令中不能使用符号）：</p>
<ul>
<li><code>@</code>用于底层命令</li>
<li><code>!</code>用于内部临时的值和定义，<code>\v!off</code>表示内部字符串<code>off</code></li>
<li>
<p><code>?</code>表示表示内部参数的值
*
比如：</p>
</li>
<li>
<p>\s! 宏，持有系统常量</p>
</li>
<li>\c! 宏，持有键值对常量的键</li>
<li>\v! 宏，持有键值对变量的值</li>
<li>\?? 多语言接口常量调用</li>
<li>\@@ 多语言界面常量展开的结果</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 定义</span>
<span class="k">\unprotect</span>
<span class="k">\def\!</span>test<span class="nb">{</span>alfa<span class="nb">}</span>
<span class="k">\protect</span>

<span class="c">% 使用</span>
<span class="k">\unprotect</span>
<span class="k">\!</span>test
<span class="k">\protect</span>
</code></pre></div></td></tr></table></div>
<h3 id="_8">分支与判断<a class="headerlink" href="#_8" title="Permanent link">#</a></h3>
<p>https://wiki.contextgarden.net/System_Macros/Branches_and_Decisions</p>
<p>https://wiki.contextgarden.net/Command/doif...</p>
<ul>
<li>\doifnextcharelse</li>
<li>\doifundefined, \doifdefined, etc.</li>
<li>\doif, \doifnot, \doifelse</li>
<li>\doifempty, \doifnotempty, \doifemptyelse</li>
<li>\doifinset, \doifnotinset, \doifnotinsetelse</li>
<li>\doifcommon, \doifnotcommon, \doifcommonelse</li>
<li>\doifsamestringelse,\doifsamestring,\doifnotsamestring</li>
<li>\doifinstringelse,\doifincsnameelse</li>
<li>\doifnumberelse</li>
<li>\doifassignmentelse</li>
<li>\doifsamestringselse,\doifsamestring,\doifnotsamestring</li>
<li>\doiftext, \doiftextelse — empty string</li>
<li>\doifrightpageelse (precede by \signalrightpage)</li>
<li>\doifdocumentargument</li>
<li>\doifelseindented (LMTX only)</li>
</ul>
<h3 id="_9">循环与递归<a class="headerlink" href="#_9" title="Permanent link">#</a></h3>
<p>https://wiki.contextgarden.net/System_Macros/Loops_and_Recursion</p>
<ol>
<li><code>\dorecurse {10} {whatever we want in level \recurselevel and at depth \recursedepth}</code>，循环固定次数，可嵌套，有保存次数和深度的宏（隐藏了真实的计数器）。生成表格时，可能需要使用<code>\expanded</code>控制展开</li>
<li><code>\dostepwiserecurse {from} {to} {step} {action}</code>，按步子循环，是<code>\dorecurse</code>的复杂形式</li>
<li><code>\doloopoverlist {a, b, c} {current letter is: “\recursestring”\par}</code>，迭代一个列表</li>
<li><code>\doloop{Some kind of typesetting punishment \par  \ifnum\pageno&gt;100 \exitloop \fi}</code>，循环与跳出，有<code>\exitloop</code> <code>\exitloopnow</code> <code>\recurselevel</code> <code>\recursedepth</code>可用</li>
<li>Recursion and expansion</li>
</ol>
<h3 id="_10">条件切换/处理行为<a class="headerlink" href="#_10" title="Permanent link">#</a></h3>
<p>https://wiki.contextgarden.net/System_Macros/Action_Processing</p>
<ul>
<li>\processaction           [x]     [a=&gt;\a,b=&gt;\b,c=&gt;\c]</li>
<li>\processfirstactioninset [x,y,z] [a=&gt;\a,b=&gt;\b,c=&gt;\c]</li>
<li>\processallactionsinset  [x,y,z] [a=&gt;\a,b=&gt;\b,c=&gt;\c]</li>
</ul>
<p>主要用于键值对参数的处理</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\processaction</span>
    [<span class="k">\TESTwidth</span>] <span class="c">% should expand to 'small'</span>
    [small=&gt;<span class="k">\message</span><span class="nb">{</span>small was chosen<span class="nb">}</span>,
     medium=&gt;<span class="k">\message</span><span class="nb">{</span>medium was chosen<span class="nb">}</span>]

<span class="k">\processallactionsinset</span>
    [x,y,z]
    [a=&gt;<span class="k">\a</span>,
     b=&gt;<span class="k">\b</span>,
     c=&gt;<span class="k">\c</span>,
     default=&gt;<span class="k">\default</span>,
     unknown=&gt;<span class="k">\unknown</span><span class="nb">{</span>... <span class="k">\commalistelement</span> ...<span class="nb">}</span>]

<span class="c">% \processaction不可完全展开，替代方案是用lua表：</span>
<span class="k">\def\MyMacro</span>#1<span class="nb">{</span><span class="k">\directlua</span><span class="nb">{</span>
    local known = <span class="nb">{</span>a = '<span class="k">\a</span>', b = '<span class="k">\b</span>'<span class="nb">}</span>
    tex.sprint(known['#1'] or '<span class="k">\a</span>')<span class="nb">}}</span>
</code></pre></div></td></tr></table></div>
<h3 id="_11">逗号分割列表的处理<a class="headerlink" href="#_11" title="Permanent link">#</a></h3>
<p>https://wiki.contextgarden.net/System_Macros/Comma_Separated_Lists</p>
<ul>
<li>\processcommalist[string,string,...]\commando</li>
<li>\processcommacommand[string,\stringset,string]\dosomething</li>
<li>\processcommalistwithparameters[string,string,...]\dosomething</li>
<li>\rawprocesscommalist[string,string,...]\commando</li>
<li>\dogetcommalistelement1\from a,b,c\to\commalistelement</li>
<li>\commalistsentence</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\def\dosomething</span>#1<span class="nb">{</span>(#1)<span class="nb">}</span>
1: <span class="k">\processcommalist</span> [<span class="k">\hbox</span><span class="nb">{</span><span class="s">$</span><span class="nb">a,b,c,d,e,f</span><span class="s">$</span><span class="nb">}</span>] <span class="k">\dosomething</span> <span class="k">\par</span>
2: <span class="k">\processcommalist</span> [<span class="nb">{</span>a,b,c,d,e,f<span class="nb">}</span>]        <span class="k">\dosomething</span> <span class="k">\par</span>
3: <span class="k">\processcommalist</span> [<span class="nb">{</span>a,b,c<span class="nb">}</span>,d,e,f]        <span class="k">\dosomething</span> <span class="k">\par</span>
4: <span class="k">\processcommalist</span> [a,b,<span class="nb">{</span>c,d,e<span class="nb">}</span>,f]        <span class="k">\dosomething</span> <span class="k">\par</span>
5: <span class="k">\processcommalist</span> [a<span class="nb">{</span>b,c<span class="nb">}</span>,d,e,f]         <span class="k">\dosomething</span> <span class="k">\par</span>
6: <span class="k">\processcommalist</span> [<span class="nb">{</span>a,b<span class="nb">}</span>c,d,e,f]         <span class="k">\dosomething</span> <span class="k">\par</span>
7: <span class="k">\processcommalist</span> []                     <span class="k">\dosomething</span> <span class="k">\par</span>
8: <span class="k">\processcommalist</span> [<span class="nb">{</span>[<span class="nb">}</span>]                  <span class="k">\dosomething</span> <span class="k">\par</span>

<span class="k">\rawdoifinsetelse</span><span class="nb">{</span>string<span class="nb">}{</span>string,...<span class="nb">}{</span>...<span class="nb">}{</span>...<span class="nb">}</span>
<span class="k">\rawprocesscommalist</span><span class="na">[string,string,...]</span><span class="k">\commando</span>
<span class="k">\rawprocessaction</span><span class="na">[x][a=&gt;\a,b=&gt;\b,c=&gt;\c]</span>

<span class="k">\getcommalistsize</span>    [string,string,...]
<span class="k">\getcommacommandsize</span> [string,<span class="k">\strings</span>,string,...]
</code></pre></div></td></tr></table></div>
<h3 id="_12">定义命令<a class="headerlink" href="#_12" title="Permanent link">#</a></h3>
<p>直接是用tex的\def，或者\define，或者前述定义和赋值\setvalue \getvalue</p>
<p><code>\define[NumArguments]\CommandName{TeXtToReplace}</code></p>
<ul>
<li>NumArguments，参数数量，可省略。</li>
<li>CommandName，命令名称，遵守一般命令名规范，可以是单个非字母，或一个至多个字母</li>
<li>TextToReplace，命令展开后原位置要替换成的文本，包括格式。</li>
</ul>
<p>\define 相当于\unexpanded\def；
\defineexpandable 相当于 \def.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\define\Tite</span><span class="nb">{</span><span class="k">\quotation</span><span class="nb">{</span>O Tite tute Tati tibi tanta tyranne tulisti<span class="nb">}}</span>

<span class="k">\define</span><span class="na">[2]</span><span class="k">\LetterHeading</span><span class="nb">{</span>
    <span class="k">\rightaligned</span><span class="nb">{</span>Peter Smith<span class="nb">}</span><span class="k">\par</span>
    <span class="k">\rightaligned</span><span class="nb">{</span>Consultant<span class="nb">}</span><span class="k">\par</span>
    Maryborough, <span class="k">\date\par</span>
    #1<span class="k">\</span> #2,<span class="k">\par</span>
<span class="nb">}</span>

<span class="k">\LetterHeading</span><span class="nb">{</span>Dear Ms<span class="nb">}{</span>Eloise Merriweather<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="_13">命名参数<a class="headerlink" href="#_13" title="Permanent link">#</a></h4>
<p>mkvi(扩展名，或脚本首行标出<code>% macros=mkvi</code>)格式可以使用命名参数，而不限于编号参数:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\def\TestFour</span><span class="na">[#one]</span>#two<span class="c">%</span>
   <span class="nb">{</span><span class="k">\def\TestFive</span><span class="na">[#alpha][#one]</span><span class="c">%</span>
      <span class="nb">{</span> #one, #two, #alpha<span class="nb">}}</span>
<span class="k">\TestFour</span> [one]<span class="nb">{</span>two<span class="nb">}</span>

<span class="k">\starttexdefinition</span> TestSix #oeps
     here: #oeps
<span class="k">\stoptexdefinition</span>
<span class="k">\TestSix</span>  <span class="nb">{</span>one<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://mailman.ntg.nl/pipermail/ntg-context/2010/054629.html">详见</a></p>
<h4 id="_14">可选参数/处理参数<a class="headerlink" href="#_14" title="Permanent link">#</a></h4>
<p>主要手册：</p>
<ul>
<li>low-level macros</li>
<li>参数的处理： https://wiki.contextgarden.net/System_Macros/Handling_Arguments</li>
</ul>
<p>分两步处理可选参数：</p>
<p>https://wiki.contextgarden.net/Commands_with_optional_arguments</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% \dosingleempty, \dodoubleempty, \dotripleempty, ...</span>
<span class="k">\def\mynewcommand</span><span class="nb">{</span><span class="k">\dosingleempty\doMyNewCommand</span><span class="nb">}</span>
<span class="k">\def\doMyNewCommand</span><span class="na">[#1]</span>#2<span class="nb">{</span><span class="c">%</span>
    <span class="c">% \ifsecondargument</span>
    <span class="k">\iffirstargument</span>
        There is an optional parameter: <span class="nb">{</span><span class="k">\bf</span> #1<span class="nb">}</span><span class="k">\par</span><span class="c">%</span>
    <span class="k">\else</span>
        No optional parameter<span class="k">\par</span><span class="c">%</span>
    <span class="k">\fi</span>
    This is the mandatory text: <span class="nb">{</span><span class="k">\em</span> #2<span class="nb">}</span><span class="c">%</span>
<span class="nb">}</span>

<span class="k">\starttext</span>
    <span class="k">\mynewcommand</span><span class="na">[opt]</span><span class="nb">{</span>Hello People<span class="nb">}</span>
    <span class="k">\blank</span>
    <span class="k">\mynewcommand</span><span class="nb">{</span>Hello People<span class="nb">}</span>
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p>系统命令还使用：</p>
<ul>
<li>\doifassignmentelse {...} {then ...} {else ...}</li>
<li>\checkparameters[argument] ... \ifparameters</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\tolerant\def\MyMacro</span><span class="na">[#1]</span>#:#2<span class="c">%</span>
   <span class="nb">{</span><span class="k">\ifparameter</span>#1<span class="k">\or</span>
      (#1)
    <span class="k">\fi</span>
    /#2/<span class="nb">}</span>

<span class="k">\MyMacro</span><span class="na">[one]</span><span class="nb">{</span>two<span class="nb">}</span>

<span class="k">\MyMacro</span><span class="nb">{</span>two<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="lua">键值对参数（用lua定义命令、传参）<a class="headerlink" href="#lua" title="Permanent link">#</a></h4>
<p>参考
* <a href="https://wiki.contextgarden.net/Commands_with_KeyVal_arguments">Commands_with_KeyVal_arguments)</a>
* <a href="https://wiki.contextgarden.net/System_Macros/Key_Value_Assignments">系统宏的键值对参数</a></p>
<p>lua用例：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startluacode</span>
userdata = userdata or <span class="nb">{</span> <span class="nb">}</span>

function userdata.mycommand(keywords, keyvals)
    keyword<span class="nb">_</span>options = utilities.parsers.settings<span class="nb">_</span>to<span class="nb">_</span>array(keywords)
    named<span class="nb">_</span>values = utilities.parsers.settings<span class="nb">_</span>to<span class="nb">_</span>hash(keyvals)

    -- do stuff based on that array and that hashtable.
end
<span class="k">\stopluacode</span>

<span class="k">\def\mycommand</span><span class="na">[#1][#2]</span><span class="nb">{</span><span class="k">\ctxlua</span><span class="nb">{</span>userdata.mycommand('#1', '#2')<span class="nb">}}</span> <span class="c">% 使用长字符串更可靠：[==[#1]==]</span>

<span class="k">\mycommand</span><span class="na">[top, inmargin, now][color=green, roof=gabled]</span>
</code></pre></div></td></tr></table></div>
<p>ConTeXt和tex用例见链接。</p>
<p>关于用lua处理命令的逻辑，另见<a href="https://wiki.contextgarden.net/Programming_in_LuaTeX">Programming_in_LuaTeX</a></p>
<h4 id="_15">重载保护<a class="headerlink" href="#_15" title="Permanent link">#</a></h4>
<p>2025-07-21</p>
<p>\permanent\def\foo{...}  % \foo can't be redefined</p>
<p>\newcount\mycounter      % \mycounter is defined permanent by default</p>
<p>\immutable\mycounter 123 % \mycounter can't be changed (@ user level)</p>
<h3 id="contextlua">全局变量/在ConTeXt和lua之间传递变量<a class="headerlink" href="#contextlua" title="Permanent link">#</a></h3>
<ul>
<li><a href="https://wiki.contextgarden.net/Command/setvariable">setvariable</a></li>
<li><a href="https://wiki.contextgarden.net/Command/setvariables">setvariables</a></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% stores value in variable namespace:key</span>
<span class="k">\setvariables</span><span class="na">[namespace][key=value]</span>
<span class="c">% stores the expanded value</span>
<span class="k">\setevariables</span><span class="na">[namespace][key=value]</span>
<span class="c">% global</span>
<span class="k">\setgvariables</span><span class="na">[namespace][key=value]</span>
<span class="c">% global and expanded value</span>
<span class="k">\setxvariables</span><span class="na">[namespace][key=value]</span>

<span class="k">\setvariables</span><span class="na">[Letter:opening]</span>
    [before=<span class="k">\blank</span>,
        after=<span class="nb">{</span><span class="k">\blank</span><span class="na">[2*big]</span><span class="nb">}</span>,
    ]

<span class="c">% gets value of the variable namespace:key</span>
<span class="k">\getvariable</span><span class="nb">{</span>namespace<span class="nb">}{</span>key<span class="nb">}</span>

<span class="k">\long\def\Opening</span>#1<span class="nb">{</span><span class="c">%</span>
    <span class="k">\getvariable</span><span class="nb">{</span>Letter:opening<span class="nb">}{</span>before<span class="nb">}</span>
    <span class="k">\noindent</span><span class="nb">{</span><span class="k">\begstrut</span>#1<span class="k">\endstrut</span><span class="nb">}</span>
    <span class="k">\getvariable</span><span class="nb">{</span>Letter:opening<span class="nb">}{</span>after<span class="nb">}</span>
<span class="nb">}</span>

<span class="k">\setvariable</span><span class="nb">{</span>name<span class="nb">}{</span>key<span class="nb">}{</span>value<span class="nb">}</span>

<span class="k">\setvariables</span><span class="na">[var]</span>
    [
      a=1,
      b=2,
      c=3,
    ]
<span class="k">\getvariable</span><span class="nb">{</span>var<span class="nb">}{</span>a<span class="nb">}</span><span class="c">%returns 1</span>
</code></pre></div></td></tr></table></div>
<p>在ConTeXt和lua之间传递变量(CLD方法)： https://wiki.contextgarden.net/ConTeXt_and_Lua_programming/ConTeXt_Lua_Documents_CLD/CLD_passing_variables#Variables</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% From TeX to Lua</span>
<span class="k">\setvariable</span><span class="nb">{</span>Namespace<span class="nb">}{</span>Key<span class="nb">}{</span>30<span class="nb">}</span>
<span class="k">\startluacode</span>
local value = tokens.getters.macro(tokens.getters.macro("??variables") .. "Namespace:Key")
value = 3*value
context("Type: " .. type(value))
context.par()
context("Result is " .. value)
<span class="k">\stopluacode</span>

<span class="c">% From Lua to TeX</span>
<span class="k">\startluacode</span>
local value = 30
value = 3 * value
context("Type: " .. type(value))
context.par()
context.setvariable("Namespace", "Key", value)
<span class="k">\stopluacode</span>

Result is <span class="k">\getvariable</span><span class="nb">{</span>Namespace<span class="nb">}{</span>Key<span class="nb">}</span>.
</code></pre></div></td></tr></table></div>
<p>另有定义和赋值可用：<a href="https://wiki.contextgarden.net/System_Macros/Definitions_and_Assignments">Definitions_and_Assignments)</a></p>
<ul>
<li>\setvalue   {name}{...} = \def\name{...}</li>
<li>\setgvalue  {name}{...} = \gdef\name{...}</li>
<li>\setevalue  {name}{...} = \edef\name{...}</li>
<li>\setxvalue  {name}{...} = \xdef\name{...}</li>
<li>\letvalue   {name}=... = \let\name=...</li>
<li>\getvalue   {name}      = \name</li>
<li>\resetvalue {name}      = \def\name{}</li>
</ul>
<h3 id="cld">CLD相关命令<a class="headerlink" href="#cld" title="Permanent link">#</a></h3>
<p><strong>通过lua调用ConTeXt宏</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\cldcontext</span><span class="nb">{</span>2 * 4<span class="nb">}</span>
<span class="c">% 8</span>
<span class="c">% so  \cldcontext{some code}   --&gt; \directlua{context(some code)}</span>
<span class="c">% and \cldcontext{"some code"} --&gt; \directlua{context("some code")}</span>
</code></pre></div></td></tr></table></div>
<p><strong>运行CLD文件</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\cldprocessfile</span><span class="nb">{</span>my<span class="nb">_</span>context<span class="nb">_</span>lua<span class="nb">_</span>document.cld<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>执行context中的lua命令</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\cldcommand</span><span class="nb">{</span>somecommand<span class="nb">}</span>
<span class="c">% so \cldcommand{somecommand} --&gt; \directlua{context.somecommand}</span>
</code></pre></div></td></tr></table></div>
<h3 id="startstop">定义环境/startstop宏/成对命令<a class="headerlink" href="#startstop" title="Permanent link">#</a></h3>
<p><code>\definestartstop[Name][Options]</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definestartstop</span><span class="na">[TextWithBar]</span>[
    before=<span class="k">\startmarginrule\noindentation</span>, <span class="c">% 如果希望此环境是一个组，则必须明式加入\bgroup</span>
    after=<span class="k">\stopmarginrule</span>, <span class="c">% 同上，加入\egroup</span>
    style=<span class="k">\ss\sl</span>
]

<span class="k">\starttext</span>
    The first two fundamental laws of human stupidity state unambiguously that:
    <span class="k">\startTextWithBar</span>
        <span class="k">\startitemize</span><span class="na">[n,broad]</span>
            <span class="k">\item</span> Always and inevitably we underestimate the number of stupid individuals in the world.
            <span class="k">\item</span> The probability that a given person is stupid is independent of any other characteristic of the same person.
        <span class="k">\stopitemize</span>
    <span class="k">\stopTextWithBar</span>
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h3 id="_16">构建成套的命令<a class="headerlink" href="#_16" title="Permanent link">#</a></h3>
<p><a href="https://wiki.contextgarden.net/System_Macros/Definitions_and_Assignments">Definitions_and_Assignments)</a></p>
<p>tex原语\csname可用于构建用\def和\let不能构建的命令：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\csname</span> if<span class="k">\strippedcsname\something\endcsname</span>
<span class="c">% 展开后得到\ifsomething，\strippedcsname用于重用命令的名称</span>
</code></pre></div></td></tr></table></div>
<p>前后缀控制等详情见链接。</p>
<h2 id="_17">尺寸<a class="headerlink" href="#_17" title="Permanent link">#</a></h2>
<p>尺寸的定义、获取、转换、计算、存储，
参考 https://wiki.contextgarden.net/Dimensions</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Name in ConTEXt</th>
<th>Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inch</td>
<td>in</td>
<td>1 in = 2.54 cm</td>
</tr>
<tr>
<td>Centimetre</td>
<td>cm</td>
<td>2.54 cm = 1 inch</td>
</tr>
<tr>
<td>Millimetre</td>
<td>mm</td>
<td>100 mm = 1 cm</td>
</tr>
<tr>
<td>Point</td>
<td>pt</td>
<td>72.27 pt = 1 inch</td>
</tr>
<tr>
<td>Big point</td>
<td>bp</td>
<td>72 bp = 1 inch</td>
</tr>
<tr>
<td>Scaled point</td>
<td>sp</td>
<td>65536 sp = 1 point</td>
</tr>
<tr>
<td>Pica</td>
<td>pc</td>
<td>1 pc = 12 points</td>
</tr>
<tr>
<td>Didot</td>
<td>dd</td>
<td>1157 dd = 1238 points</td>
</tr>
<tr>
<td>Cicero</td>
<td>cc</td>
<td>1 cc = 12 didots</td>
</tr>
<tr>
<td>当前“M”的宽度</td>
<td>em</td>
<td></td>
</tr>
<tr>
<td>当前“x”的高度</td>
<td>ex</td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 改变段落缩进的三种形式</span>
<span class="k">\parindent</span>=0pt
<span class="k">\parindent</span> 0pt
<span class="k">\parindent</span>0pt

<span class="c">% 等同于</span>
<span class="k">\noindentation</span>
</code></pre></div></td></tr></table></div>
<p><strong>某些尺寸使用弹性赋值</strong></p>
<p><code>\MeasureName plus MaxIncrement minus MaxDecrease</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\parskip</span> 3pt plus 2pt minus 1pt
</code></pre></div></td></tr></table></div>
<p>获取测量文本的高度，并据此缩放另一文本：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\starttext</span>
M<span class="k">\scale</span><span class="na">[height=\heightofstring{M}]</span><span class="nb">{</span>a<span class="nb">}</span>M
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h2 id="_18">输入特殊字符<a class="headerlink" href="#_18" title="Permanent link">#</a></h2>
<ul>
<li>空格和tab  \␣</li>
<li>不断行空格  ~</li>
<li>两个以上的断行为段（显示为空行），也可用一个显式空行\blank代替</li>
<li>有时断行被解释为一个空格，而行尾注释%以避免引入空格（写宏的时候）</li>
<li>破折号与连接号：断词用<code>-</code>，输入<code>-</code>或<code>\hyphen</code>；连接数字用<code>–</code>，输入<code>--</code>或<code>\endash</code>；连接句子用<code>—</code>，输入<code>---</code>或<code>\emdash</code>；减号/负号用<code>−</code>，输入<code>$-$</code>或<code>\minus</code>。</li>
</ul>
<p>隐藏段落使用\defineblock然后\hideblock</p>
<h2 id="_19">文档与项目结构<a class="headerlink" href="#_19" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% First line of the document</span>
<span class="c">% Preamble area:</span>
<span class="c">% Containing the global configuration</span>
<span class="c">% commands for the document</span>
<span class="k">\starttext</span> <span class="c">% The body of the document begins here</span>
...
... <span class="c">% Document contents</span>
...
<span class="k">\stoptext</span> <span class="c">% End of the document</span>
</code></pre></div></td></tr></table></div>
<p><strong>插入文件内容</strong></p>
<ul>
<li><code>\input FileName</code></li>
<li><code>\ReadFile{FileName}</code> % 文件不存在时不会报错</li>
<li><code>\readfile{FileName}{TextIfExists}{TextIfNotExists}</code></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% General configuration commands:</span>
<span class="k">\input</span> MyConfiguration
<span class="k">\starttext</span>
<span class="k">\input</span> PageTitle
<span class="k">\input</span> Preface
<span class="k">\input</span> Chap1
<span class="k">\input</span> Chap2
<span class="k">\input</span> Chap3
...
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p><strong>环境文件</strong></p>
<p>命名法：<code>MyMacros_env.tex</code>或<code>env_MyMacros.tex</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startenvironment</span> MyEnvironment
    <span class="k">\mainlanguage</span><span class="na">[en]</span>
    <span class="k">\setupbodyfont</span><span class="na">[modern]</span>
    <span class="k">\setupwhitespace</span><span class="na">[big]</span>
    ...
<span class="k">\stopenvironment</span>
</code></pre></div></td></tr></table></div>
<p>插入环境文件内容的方法：</p>
<ul>
<li><code>\environment File</code></li>
<li><code>\environment[File]</code></li>
</ul>
<p><strong>组件文件</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\environment</span> MyEnvironment
<span class="k">\environment</span> MyMacros
<span class="k">\startcomponent</span> Chapter1
    <span class="k">\startchapter</span><span class="na">[title={Chapter 1}]</span>
    ...
<span class="k">\stopcomponent</span>
</code></pre></div></td></tr></table></div>
<p><strong>成品文件</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\environment</span> MyEnvironment
<span class="k">\environment</span> MyMacros
<span class="k">\startproduct</span> MyBook
    <span class="k">\component</span> Chapter1
    <span class="k">\component</span> Chapter2
    <span class="k">\component</span> Chapter3
    ...
<span class="k">\stopproduct</span>
</code></pre></div></td></tr></table></div>
<p><strong>项目文件</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startproject</span> MyCollection
    <span class="k">\environment</span> MyEnvironment
    <span class="k">\environment</span> MyMacros
    <span class="k">\product</span> Book01
    <span class="k">\product</span> Book02
    <span class="k">\product</span> Book03
    ...
<span class="k">\stopproject</span>
</code></pre></div></td></tr></table></div>
<h2 id="_20">页面和分页<a class="headerlink" href="#_20" title="Permanent link">#</a></h2>
<ul>
<li>版面逻辑尺寸和印刷物理尺寸（通常一致） <code>\setuppapersize[LogicalPage][PhysicalPage]</code></li>
<li>自定义尺寸常量： \definepapersize</li>
<li>拼版 <code>\setuparranging</code></li>
<li>显式版面框架： \showframe</li>
</ul>
<p>文档任何位置都可以重设。</p>
<p><strong>纸张适配内容</strong></p>
<ul>
<li>\startfittingpage ... \stopfittingpage<ul>
<li>\startTEXpage ... \stopTEXpage，TeX文本适配页</li>
<li>\startMPpage ... \stopMPpage， MetaPost图形适配页，直接写MetaPost代码，不再需要\startMPcode...\stopMPcode</li>
</ul>
</li>
<li>\startpagefigure，单一图页面</li>
</ul>
<p>分页：</p>
<ul>
<li>\pagebreak</li>
<li>\page</li>
<li>\testpage[number][dimension] 分页测试，保证此处至少有特定的空间，否则将分页</li>
</ul>
<p>by Wolfgang in mail list:</p>
<ol>
<li>You can add \testpage to the argument of the before key.</li>
<li>You can use modes for settings which apply for screen (or print) only.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startmode</span><span class="na">[screen]</span>
<span class="k">\setuphead</span><span class="na">[section][before={\testpage[4]</span><span class="k">\blank</span><span class="na">[...]</span><span class="nb">}</span>]
<span class="k">\stopmode</span>
</code></pre></div></td></tr></table></div></li>
</ol>
<h3 id="_21">页面元素和版面布局<a class="headerlink" href="#_21" title="Permanent link">#</a></h3>
<p><img alt="layout" src="https://wiki.contextgarden.net/images/thumb/5/54/layout.svg/525px-layout.svg.png"/></p>
<ul>
<li>5X5块加空布局；</li>
<li>头、顶；脚、底；左右边、沿；</li>
</ul>
<p>\setuplayout[Name] [Options]</p>
<ul>
<li>给页面组件设置尺寸</li>
<li>设置逻辑页在物理页上的位置（结合\setuparranging设置逻辑页布局方式）</li>
</ul>
<p>多种页面布局：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definelayout</span><span class="na">[Name/Number][Configuration]</span>
<span class="k">\setuplayout</span><span class="na">[LayoutName]</span>
...
<span class="k">\setuplayout</span><span class="na">[reset]</span>
</code></pre></div></td></tr></table></div>
<p>调整指定页面的高度或行数，用于定版前的微调，放导言区：</p>
<p><code>\adaptlayout[Pages] [Options]</code></p>
<p>指定布局的页码范围，在导言区：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definelayout</span><span class="na">[1][...]</span>
<span class="k">\definelayout</span><span class="na">[3][reset]</span>
</code></pre></div></td></tr></table></div>
<p>单双页布局：</p>
<ul>
<li>\definelayout[even]</li>
<li>\definelayout[odd]</li>
</ul>
<p>展示页面布局：</p>
<ul>
<li>\showsetups</li>
<li>\showframe</li>
<li>\showlayout，兼有前二者的功能</li>
</ul>
<p>获取版心/文本区域宽高：</p>
<ul>
<li>\textwidth</li>
<li>\textheight</li>
</ul>
<h3 id="_22">设置页码<a class="headerlink" href="#_22" title="Permanent link">#</a></h3>
<ul>
<li>\setuppagenumbering</li>
<li>\setupuserpagenumber</li>
</ul>
<p>配合\defineconversionset使用</p>
<p>获取页码：</p>
<ul>
<li>\userpagenumber，用户定制页码</li>
<li>\pagenumber，页码的阿拉伯数字</li>
<li>\realpagenumber，未考虑定制的实际页码的数字</li>
<li>\prefixedpagenumber</li>
</ul>
<p>对应形式的末页页码：</p>
<ul>
<li>\lastuserpagenumber</li>
<li>\lastpagenumber</li>
<li>\lastrealpagenumber.</li>
</ul>
<h3 id="_23">建议分页/不分页、强制分页<a class="headerlink" href="#_23" title="Permanent link">#</a></h3>
<p>\page, \pagebreak</p>
<p>选项：</p>
<ul>
<li>no，不建议分页</li>
<li>preference，建议分页</li>
<li>bigpreference，强烈建议分页</li>
</ul>
<p>选项：</p>
<ul>
<li>yes，强制分页</li>
<li>makeup，立即分页，不预先放置挂起的浮动体</li>
<li>empty，插入空页</li>
<li>even，插入页直到双页</li>
<li>odd，插入页直到单页</li>
<li>left, right，同前两项，仅用于根据单双页转换不同天头、地脚和页边的双册印刷文档</li>
<li>quadruple，插入页直到4的倍数页</li>
</ul>
<p>TEX boxe是不能分页的</p>
<p><code>\vbox{Material}</code></p>
<p>有些环境使用了盒子，如<code>framedtext</code>，也不会分页。</p>
<p>限制若干行内容在同一页，期间不得分页：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\testpage</span><span class="na">[10]</span>
<span class="k">\input</span> knuth
</code></pre></div></td></tr></table></div>
<h3 id="_24">天头、地脚的配置（页眉页脚）<a class="headerlink" href="#_24" title="Permanent link">#</a></h3>
<ul>
<li>\setupheadertexts</li>
<li>\setupfootertexts</li>
</ul>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupfootertexts</span><span class="na">[pagenumber]</span> <span class="c">% 居中显式</span>
<span class="k">\setupheadertexts</span><span class="na">[Preface][pagenumber]</span> <span class="c">% 左右分别显式</span>
</code></pre></div></td></tr></table></div>
可选参数（这些符号名称只能单独使用，否则视作普通字符串）：</p>
<ul>
<li>日期：date, currentdate;</li>
<li>页码：pagenumber;</li>
<li>结构： part, chapter, section...;</li>
<li>结构序号： partnumber, chapternumber, sectionnumber...</li>
</ul>
<p>也可使用相应的命令：</p>
<p><code>\date</code> <code>\currentdate</code> <code>\pagenumber</code> <code>\getmarking[chapter]</code> <code>\getmarking[chapternumber]</code> <code>\getmarking[sectionnumber]</code></p>
<p>格式化配置：</p>
<ul>
<li>\setupheader</li>
<li>\setupfooter</li>
</ul>
<p>定义后链接到小节命令中：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definetext</span><span class="na">[ChapterFirstPage]</span> [footer] [pagenumber]
<span class="k">\setuphead</span><span class="na">[chapter][header=high, footer=ChapterFirstPage]</span>
</code></pre></div></td></tr></table></div>
<p>关闭章首页眉 <code>\setuphead[chapter][header=empty]</code>%header=high</p>
<p>关闭当前页的天头地脚<code>\noheaderandfooterlines</code></p>
<p>生成无页码的页<code>\page[blank]</code></p>
<p><a href="https://tex.stackexchange.com/questions/457428/how-to-omit-numbering-in-the-last-page-of-every-chapter">压制章节末尾空白页的头脚</a>：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 单元设置，书眉留空，新页起 , page=yes新页/left偶数页/right奇数页（默认）</span>
<span class="c">% \setuphead</span>
<span class="c">%   [chapter]</span>
<span class="c">%   [page={footer,yes,header,footer,right}]</span>
<span class="k">\definepagebreak</span> [rightblankpage] [footer,yes,header,footer,right]<span class="c">%定义新建页面的规则</span>
<span class="k">\setuphead</span><span class="na">[chapter][header=empty,page=rightblankpage,style={\setupalign[middle]</span><span class="k">\tfb</span><span class="nb">}</span>]
</code></pre></div></td></tr></table></div>
<h3 id="edgesmargins">页面外边edges、内边margins插入元素<a class="headerlink" href="#edgesmargins" title="Permanent link">#</a></h3>
<ul>
<li>\setuptoptexts: 上边</li>
<li>\setupbottomtexts: 下边</li>
<li>\margindata，实例：<ul>
<li>\inleftmargin defined as \definemargindata[inleftmargin][left][margin=margin,width=\leftmarginwidth,style=,color=]</li>
<li>\inrightmargin    defined as \definemargindata[inrightmargin][right][margin=margin,width=\rightmarginwidth,style=,color=]</li>
<li>\inoutermargin    defined as \definemargindata[inoutermargin][outer][margin=margin,width=\outermarginwidth,style=,color=]</li>
<li>\ininnermargin    defined as \definemargindata[ininnermargin][inner][margin=margin,width=\innermarginwidth,style=,color=]</li>
<li>\inleftedge   defined as \definemargindata[inleftedge][left][margin=edge,width=\leftedgewidth,style=,color=,category=edge]</li>
<li>\inrightedge  defined as \definemargindata[inrightedge][right][margin=edge,width=\rightedgewidth,style=,color=,category=edge]</li>
<li>\inouteredge  defined as \definemargindata[inouteredge][outer][margin=edge,width=\outeredgewidth,style=,color=,category=edge]</li>
<li>\ininneredge  defined as \definemargindata[ininneredge][inner][margin=edge,width=\inneredgewidth,style=,color=,category=edge]</li>
<li>\atleftmargin defined as \definemargindata[atleftmargin][left][margin=normal,width=\leftmarginwidth,style=,color=]</li>
<li>\atrightmargin    defined as \definemargindata[atrightmargin][right][margin=normal,width=\rightmarginwidth,style=,color=]</li>
<li>\inleft   defined as \definemargindata[inleft][left][margin=margin,width=\leftmarginwidth,align=flushright]</li>
<li>\inright  defined as \definemargindata[inright][right][margin=margin,width=\rightmarginwidth,align=flushleft]</li>
<li>\inouter  defined as \definemargindata[inouter][outer][margin=margin,width=\outermarginwidth,align=inner]</li>
<li>\ininner  defined as \definemargindata[ininner][inner][margin=margin,width=\innermarginwidth,align=outer]</li>
<li>\inmargin defined as \definemargindata[inmargin][left][margin=margin,width=\leftmarginwidth,align=flushright]</li>
<li>\inother  defined as \definemargindata[inother][right][margin=margin,width=\rightmarginwidth,align=flushleft]</li>
<li>\margintext   defined as \definemargindata[margintext][left][margin=margin,width=\leftmarginwidth,align=flushright,stack=yes]</li>
</ul>
</li>
</ul>
<p>语法：</p>
<p><code>\CommandName[Reference][Configuration]{Text}</code></p>
<p>全局配置页边文本：</p>
<p><code>\setupmargindata[right][style=slanted]</code></p>
<h2 id="typescript">字体脚本 typescript<a class="headerlink" href="#typescript" title="Permanent link">#</a></h2>
<p><strong>官方配置脚本（增补）</strong></p>
<p><code>D:\venvs\texlive\2021\texmf-dist\tex\context\fonts\mkiv\type-imp-mscore.mkiv</code></p>
<p>用法参考： https://wiki.contextgarden.net/Chinese_Japanese_and_Korean</p>
<p>增补用法：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% Enable fonts</span>
<span class="k">\usetypescriptfile</span><span class="na">[mscore]</span>
<span class="c">% \usebodyfont   [mschinese,12pt]</span>
<span class="c">% \usebodyfont   [mschinese-light,12pt]</span>
<span class="k">\usebodyfont</span>   [mschinese-literate,12pt]
<span class="c">% 或</span>
<span class="c">% \setupbodyfont [mschinese-literate,12pt]</span>
<span class="k">\definebodyfontenvironment</span><span class="na">[24pt]</span>
<span class="k">\definebodyfontenvironment</span><span class="na">[18pt]</span>
</code></pre></div></td></tr></table></div>
<p><strong>拼音字体设置</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% tex/texmf-fonts/tex/context/user/type-ahpinyin.tex</span>
<span class="k">\starttypescript</span> [ahpinyin]
<span class="c">% \definefontsynonym[Human readable]       [file:filename without extension]</span>
  <span class="k">\definefontsynonym</span><span class="na">[NotoSerif-Regular]</span>    [file:AHPinYin]
  <span class="k">\definefontsynonym</span><span class="na">[NotoSerif-Italic]</span>     [file:AHPinYin]
  <span class="k">\definefontsynonym</span><span class="na">[NotoSerif-Bold]</span>       [file:AHPinYin]
  <span class="k">\definefontsynonym</span><span class="na">[NotoSerif-BoldItalic]</span> [file:AHPinYin]
<span class="k">\stoptypescript</span>

<span class="k">\starttypescript</span> [ahpinyin]
  <span class="k">\setups</span><span class="na">[font:fallback:serif]</span>          <span class="c">% 安全设置: 如果没有发现时使用备用字体</span>
<span class="c">% \definefontsynonym[ConTeXt basics name] [Human readable]       [features=default]</span>
  <span class="k">\definefontsynonym</span><span class="na">[Serif]</span>                [NotoSerif-Regular]    [features=default]
  <span class="k">\definefontsynonym</span><span class="na">[SerifItalic]</span>          [NotoSerif-Italic]     [features=default]
  <span class="k">\definefontsynonym</span><span class="na">[SerifBold]</span>            [NotoSerif-Bold]       [features=default]
  <span class="k">\definefontsynonym</span><span class="na">[SerifBoldItalic]</span>      [NotoSerif-BoldItalic] [features=default]
<span class="k">\stoptypescript</span>

<span class="c">% #3. 把"ahpinyin"字体脚本中的四种变体包定义为calligraphic typeface</span>
<span class="k">\starttypescript</span> [ahpinyin]
  <span class="k">\definetypeface</span> [ahpinyin]  [cg] [calligraphic] [ahpinyin]    [default]
<span class="k">\stoptypescript</span>

<span class="c">% 使用字体脚本`type-ahpinyin.tex`设置拼音字体</span>
<span class="c">% \usetypescriptfile[ahpinyin]</span>
<span class="c">% \definefont[pinyin][ahpinyin]</span>
<span class="c">% 或者直接使用</span>
<span class="c">% \definefont[pinyin][name:ahpinying*default at 9pt]</span>
</code></pre></div></td></tr></table></div>
<p>更新手动安装的（outside of tlmgr）文件数据：<code>context --generate</code></p>
<p><strong>中文字体设置</strong></p>
<p>参考： http://liyanrui.is-programmer.com/2009/10/21/not-just-for-chinese.12264.html</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 字体脚本typescript `type-myfonts.tex`</span>
<span class="c">% 定义一个脚本，名为[serif][zhfont]，衬线体</span>
<span class="k">\starttypescript</span><span class="na">[serif][zhfont]</span>
    <span class="c">% 字体各变体与系统中对应的字体名称</span>
    <span class="k">\definefontsynonym</span><span class="na">[Serif][name:adobesongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SerifBold][name:adobesongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SerifItalic][name:adobesongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SerifBoldItalic][name:adobesongstd]</span>
<span class="k">\stoptypescript</span>

<span class="c">% 再定义一个脚本，名为[sans][zhfont]，无衬线体</span>
<span class="k">\starttypescript</span> [sans][zhfont]
    <span class="k">\definefontsynonym</span><span class="na">[Sans][name:adobeheitistd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SansBold][name:adobeheitistd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SansItalic][name:adobeheitistd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[SansBoldItalic][name:adobeheitistd]</span>
<span class="k">\stoptypescript</span>

<span class="c">% 再定义一个脚本，名为[mono][zhfont]，等宽字体</span>
<span class="k">\starttypescript</span> [mono][zhfont]
    <span class="k">\definefontsynonym</span><span class="na">[Mono][name:adobefangsongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[MonoBold][name:adobefangsongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[MonoItalic][name:adobefangsongstd]</span>
    <span class="k">\definefontsynonym</span><span class="na">[MonoBoldItalic][name:adobefangsongstd]</span>
<span class="k">\stoptypescript</span>

<span class="c">% 定义脚本[myfonts]，其中定义typeface</span>
<span class="k">\starttypescript</span><span class="na">[myfonts]</span>
    <span class="c">% 定义typeface[myfonts]，</span>
    <span class="c">% 使用[serif][zhfont]为rm字体</span>
    <span class="k">\definetypeface</span><span class="na">[myfonts][rm][serif][zhfont]</span>
    <span class="c">% 使用[sans][zhfont]为ss字体</span>
    <span class="k">\definetypeface</span><span class="na">[myfonts][ss][sans][zhfont]</span>
    <span class="c">% 使用[mono][zhfont]为tt字体</span>
    <span class="k">\definetypeface</span><span class="na">[myfonts][tt][mono][zhfont]</span>
<span class="k">\stoptypescript</span>
</code></pre></div></td></tr></table></div>
<p>在文稿中使用：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 使用字体脚本文件</span>
<span class="k">\usetypescriptfile</span><span class="na">[myfonts]</span>
<span class="c">% 使用字体脚本</span>
<span class="k">\usetypescript</span><span class="na">[myfonts]</span>
<span class="c">% 设置主字体</span>
<span class="k">\setupbodyfont</span><span class="na">[myfonts,rm,12pt]</span>

<span class="k">\starttext</span>

所有动物都生而平等，但有些动物比其他动物更平等

<span class="k">\ss</span> 所有动物都生而平等，但有些动物比其他动物更平等

<span class="k">\tt</span> 所有动物都生而平等，但有些动物比其他动物更平等

<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p>定义后备字体（多语言字体）newsong：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definefontsynonym</span><span class="na">[song][name:adobesongstd]</span>
<span class="c">% 指定应用范围的后备字体</span>
<span class="k">\definefontfallback</span><span class="na">[hereos][name:texgyreherosregular][0x0000-0x0400]</span>
<span class="k">\definefontsynonym</span><span class="na">[fbsong][song][fallbacks=hereos]</span>
<span class="k">\definefont</span><span class="na">[newsong][fbsong]</span>
</code></pre></div></td></tr></table></div>
<h2 id="_25">安装字体<a class="headerlink" href="#_25" title="Permanent link">#</a></h2>
<p>字体文件可以出放在<code>tex/texmf-fonts/fonts/</code>，或<code>tex/texmf-fonts/fonts/truetype/vendor/fontfamily</code>（注意对应字体类型）</p>
<p>使用系统字体，先设置环境变量：</p>
<p>set OSFONTDIR=C:\Windows\Fonts</p>
<p>索引：</p>
<p>mtxrun --generate
mtxrun --script font --reload</p>
<p>查找你想要字体（包括文件名和符号名称），比如：</p>
<p>mtxrun --script fonts --list --all --pattern=<em>pinin</em></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>identifier         familyname   fontname    filename                        subfont   instances
---
ahpinying          ahpinying    ahpinying   c:/windows/fonts/AHPinYin.TTF
ahpinyingnormal    ahpinying    ahpinying   c:/windows/fonts/AHPinYin.TTF
ahpinyingregular   ahpinying    ahpinying   c:/windows/fonts/AHPinYin.TTF
</code></pre></div></td></tr></table></div>
<p>或列出四种特性：</p>
<blockquote>
<p>mtxrun --script fonts --list --spec deng-light</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>familyname<span class="w">   </span>weight<span class="w">   </span>style<span class="w">    </span>width<span class="w">    </span>variant<span class="w">   </span>fontname<span class="w">        </span>filename<span class="w">                     </span>subfont<span class="w">   </span>fontweight
dengxian<span class="w">     </span>light<span class="w">    </span>normal<span class="w">   </span>normal<span class="w">   </span>normal<span class="w">    </span>dengxianlight<span class="w">   </span>c:/windows/fonts/Dengl.ttf
</code></pre></div></td></tr></table></div>
<ol>
<li>weight black bold demi demibold extrabold heavy light medium mediumbold normal regular semi semibold ultra ultrabold ultralight</li>
<li>style italic normal oblique regular reverseitalic reverseoblique roman slanted</li>
<li>width book condensed expanded normal thin</li>
<li>variant normal oldstyle smallcaps</li>
</ol>
<p>字体还可用关键字匹配查询（查找算法比较灵活而复杂/不可靠）</p>
<p><strong>当一个字体文件被分列为多条时，如：</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>notoserifcjksc             notoserifcjksc      notoserifcjkscregular      c:/windows/fonts/NotoSerifCJKsc-Regular.otf
notoserifcjkscnormal       notoserifcjksc      notoserifcjkscregular      c:/windows/fonts/NotoSerifCJKsc-Regular.otf
notoserifcjkscregular      notoserifcjksc      notoserifcjkscregular      c:/windows/fonts/NotoSerifCJKsc-Regular.otf
</code></pre></div></td></tr></table></div>
<p>首次无法通过字体文件名或关键字匹配查询来使用，而只能通过主条（最短一条）的identifier（即notoserifcjksc）使用；此后可一通过关键字匹配查询来使用（可能是优先匹配已缓存字体的缘故）。</p>
<p>汉字字间拉伸胶：scrp-cjk.lua，一个测试版本确实补偿了蹩脚的半宽，但我们最好在字体定义时进行补偿，并且/或者只是假设一个正确的字体。</p>
<p><strong>字体颜色特性</strong></p>
<p>颜文字着色</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definefontfeature</span><span class="na">[colored][colr=yes]</span>
<span class="k">\definefontsynonym</span><span class="na">[Emoji][file:seguiemj.ttf*default,colored]</span>
<span class="k">\definesymbol</span><span class="na">[bug][\getglyphdirect{Emoji}{\char"1F41B}]</span>
<span class="k">\definesymbol</span><span class="na">[ant][\getglyphdirect{Emoji}{\char"1F41C}]</span>
<span class="k">\definesymbol</span><span class="na">[bee][\getglyphdirect{Emoji}{\char"1F41D}]</span>

<span class="c">% 或者用svg</span>
<span class="k">\definefontfeature</span><span class="na">[svg][svg=yes]</span>
<span class="k">\definefontsynonym</span><span class="na">[Emoji][file:emojionecolor-svginot.ttf*default,svg]</span>
</code></pre></div></td></tr></table></div>
<h2 id="_26">字体知识<a class="headerlink" href="#_26" title="Permanent link">#</a></h2>
<ul>
<li>\setupbodyfont[Options] 设置主字体，影响相关文本元素（如标题），字号范围有限定</li>
<li>\switchtobodyfont 在特定范围切换正文字体，字号会伸缩至指定大小，不影响标题字号</li>
<li>\showbodyfont[Options] 查看字体字号信息</li>
<li>\showfont[FontName]</li>
</ul>
<p>显式主体字体（风格*变形+字号）<code>\showbodyfont[schola, 8pt]</code></p>
<p><img alt="" src="../img/ConTeXt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2021-12-20-09-32-56.png"/></p>
<p><strong>字体抽象层次：</strong></p>
<ul>
<li>typeface 字面/字体（所有字体的总称）</li>
<li>font family / font style 字体风格/字体家族，有特定设计特征的多个字体构成的集合；也可以随意指定不同字体为一族。<ul>
<li>font 字体（字面的子集，有特定的尺寸、字重、风格等）<ul>
<li>alternative  变体<ul>
<li>glyph/character 字模</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>font style 字体风格/字体家族</strong></p>
<table>
<thead>
<tr>
<th>Style</th>
<th>Symbolic names &amp; Commands</th>
</tr>
</thead>
<tbody>
<tr>
<td>Roman</td>
<td>\rm, \roman, \serif, \regular</td>
</tr>
<tr>
<td>Sans Serif</td>
<td>\ss, \sans, \support, \sansserif</td>
</tr>
<tr>
<td>Monospaced</td>
<td>\tt, \modo, type, \teletype</td>
</tr>
<tr>
<td>Handwritten</td>
<td>\hw, \handwritten</td>
</tr>
<tr>
<td>Calligraphic</td>
<td>\cg, \calligraphic</td>
</tr>
</tbody>
</table>
<p><strong>font alternative 字体变体</strong></p>
<table>
<thead>
<tr>
<th>Alternative</th>
<th>Commands that enable it</th>
</tr>
</thead>
<tbody>
<tr>
<td>Normal</td>
<td>\tf(typeface),               \normal</td>
</tr>
<tr>
<td>Italic</td>
<td>\it,                         \italic</td>
</tr>
<tr>
<td>Bold</td>
<td>\bf(boldface),               \bold</td>
</tr>
<tr>
<td>Bold-italic</td>
<td>\bi,           \bolditalic,  \italicbold</td>
</tr>
<tr>
<td>Slanted</td>
<td>\sl,                         \slanted</td>
</tr>
<tr>
<td>Bold-slanted</td>
<td>\bs,           \boldslanted, \slantedbold</td>
</tr>
<tr>
<td>Small caps</td>
<td>\sc,                         \smallcaps</td>
</tr>
<tr>
<td>Medieval</td>
<td>\os,                         \mediaeval</td>
</tr>
</tbody>
</table>
<p><strong>6个改变字号的变体后缀</strong></p>
<p><code>{\tfxx test}, {\tfx test}, {\tf test}, {\tfa test}, {\tfb test}, {\tfc test}, {\tfd test}</code></p>
<p><strong>在段落开头使用临时切换字体命令时，推荐前置\dontleavehmode，以免发生意外的副作用</strong></p>
<p><strong>定制后缀的缩放权重（主字体环境）</strong></p>
<ul>
<li>\definebodyfontenvironment[particular size][scaled]<ul>
<li>\definebodyfontenvironment[10pt][a=12pt,b=14pt,c=2, d=3]</li>
</ul>
</li>
<li>\definebodyfontenvironment[default][scaled]<ul>
<li>\definebodyfontenvironment[default][a=1.3,b=1.6,c=2.5,d=4]</li>
</ul>
</li>
</ul>
<p>除后缀外，以下关键词也可以定制：big, small, script, scriptscript，会影响这些命令：</p>
<ul>
<li>\smallbold</li>
<li>\smallslanted</li>
<li>\smallboldslanted</li>
<li>\smallslantedbold</li>
<li>\smallbolditalic</li>
<li>\smallitalicbold</li>
<li>\smallbodyfont</li>
<li>\bigbodyfont</li>
</ul>
<p><strong>显式后缀的缩放权重（主字体环境）</strong></p>
<p>\showbodyfontenvironment[Font]</p>
<p><strong>为字体风格、变形、尺寸定义命令和关键词</strong></p>
<ul>
<li>\definebodyfontswitch[eight][8pt]</li>
<li>\definefontstyle[paloseco][ss]</li>
<li>\definefontstyle[paloseco, sosa, sinrebordes][ss]</li>
<li>\definealternativestyle[strong][\bf][]</li>
</ul>
<p><strong>意大利体、斜体和强调体 \it, \sl and \em</strong></p>
<ul>
<li>\setupbodyfontenvironment[default][em=italic]</li>
</ul>
<p><strong>小型大写与伪小型大写 Small caps and fake small caps</strong></p>
<ul>
<li>\cap and \Cap
*</li>
</ul>
<h2 id="_27">定义字体<a class="headerlink" href="#_27" title="Permanent link">#</a></h2>
<p>然后定义名称后使用<code>\definefont[pinyin][name:ahpinying*default at 9pt]</code>（或定义后立即自动使用<code>\definedfont</code>）。格式如下：</p>
<ul>
<li>\definefont[PublicReference][filename*featurenames scaling] % filename可以附加前缀<code>name:</code>，表示使用符号名称； <code>file:</code>表示使用文件名，可以使用后缀<code>.ttf</code>等；featurenames可以使用预制的<code>default</code>，或使用<code>\definefontfeature</code>定义</li>
<li>\definefont[PublicReference][filename:featurespecication scaling] % 仅用户XƎTEX样式的字体</li>
<li>\definefont[PublicReference][filename@virtualconstructor scaling] % 适用于虚拟字体，如数学字体，虚拟特性可参考m-punk.mkiv文件</li>
</ul>
<p>指定字号的方法：</p>
<ul>
<li>at 72pt，有赖于设计尺寸，不可靠</li>
<li>scaled 2400，硬编码缩放（以1000为零点）</li>
<li>sa 2.4，相对于body font尺寸缩放，scaled at the body font size<ul>
<li>\definefont [TitleFont] [Serif sa b]</li>
<li>\definefont [TitleFont] [Serif]，会转换为\definefont [TitleFont] [Serif sa *]，展开为当前字体尺寸</li>
</ul>
</li>
</ul>
<p>定义字体家族和后备字体：</p>
<p>https://wiki.contextgarden.net/Command/definefontfamily</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definefallbackfamily</span> [documentfont] [rm] [notoserifcjksc] [preset=range:chinese] <span class="c">% 例外，见下</span>
<span class="k">\definefallbackfamily</span> [documentfont] [ss] [Noto Sans CJK SC][preset=range:chinese]
<span class="k">\definefallbackfamily</span> [documentfont] [tt] [Noto Sans Mono CJK SC][preset=range:chinese]

<span class="k">\definefontfamily</span> [documentfont] [rm] [Noto Serif]
<span class="k">\definefontfamily</span> [documentfont] [ss] [Noto Sans]
<span class="k">\definefontfamily</span> [documentfont] [tt] [Noto Sans Mono]

<span class="k">\setupbodyfont</span> [documentfont]
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definefontfamily</span> [windows] [rm] [Times New Roman]
<span class="k">\definefontfamily</span> [windows] [ss] [Arial]
<span class="k">\definefontfamily</span> [windows] [tt] [Courier New] [features=none]
<span class="k">\definetypeface</span>   [windows] [mm] [math] [termes] <span class="c">% use \definetypeface</span>
to load a math font

<span class="k">\setupbodyfont</span><span class="na">[windows]</span>

<span class="k">\starttext</span>
<span class="k">\showbodyfont</span>
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h2 id="_28">颜色<a class="headerlink" href="#_28" title="Permanent link">#</a></h2>
<ul>
<li>\definehighlight[important][color=red]<ul>
<li>\important{Very important text}</li>
</ul>
</li>
<li>\color[ColourName]{Text to colour}<ul>
<li>\color[red]{Very important text}</li>
</ul>
</li>
<li>\colored[r=0.1, g=0.8, b=0.8]{coloured}</li>
<li>\startcolor[ColourName] ... \stopcolor</li>
<li>\setupcolors[textcolor=red]</li>
<li>\setuphead[chapter][color=blue]</li>
<li>\setupbackgrounds[page][background=color,backgroundcolor=blue]</li>
</ul>
<p><strong>预定义颜色</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Light tone</th>
<th>Medium tone</th>
<th>Dark tone</th>
</tr>
</thead>
<tbody>
<tr>
<td>black</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>white</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>gray</td>
<td>lightgray</td>
<td>middlegray</td>
<td>darkgray</td>
</tr>
<tr>
<td>red</td>
<td>lightred</td>
<td>middlered</td>
<td>darkred</td>
</tr>
<tr>
<td>green</td>
<td>lightgreen</td>
<td>middlegreen</td>
<td>darkgreen</td>
</tr>
<tr>
<td>blue</td>
<td>lightblue</td>
<td>middleblue</td>
<td>darkblue</td>
</tr>
<tr>
<td>cyan</td>
<td></td>
<td>middlecyan</td>
<td>darkcyan</td>
</tr>
<tr>
<td>magenta</td>
<td></td>
<td>middlemagenta</td>
<td>darmagenta</td>
</tr>
<tr>
<td>yellow</td>
<td></td>
<td>middleyellow</td>
<td>darkyellow</td>
</tr>
</tbody>
</table>
<p><strong>预定义色谱</strong></p>
<ul>
<li>\showcolor[CollectionName]</li>
<li>\showcolorcomponents[ColourName]<ul>
<li>\showcolorcomponents[darkgoldenrod]</li>
</ul>
</li>
<li>
<p>\usecolors[CollectionName]</p>
<ul>
<li>\usecolors[xwi]</li>
<li>\color[darkgoldenrod]{Tweedledum and Tweedledee}</li>
</ul>
</li>
<li>
<p>“crayola”, 235 colours imitating marker shades.</p>
</li>
<li>“dem”, 91 colours.</li>
<li>“ema”, 540 colour definitions based on colours used by Emacs.</li>
<li>“rainbow”, 91 colours for use in maths formulas.</li>
<li>“ral”, 213 colour definitions from the Deutsches Institut für Gütesicherung und Kennzeichnung (German Institute for Quality Assurance and Labelling).</li>
<li>“rgb”, 223 colours.</li>
<li>“solarized”, 16 colours based on the solarized scheme.</li>
<li>“svg”, 147 colours.</li>
<li>“x11”, 450 standard colours for X11.</li>
<li>“xwi”, 124 colours.</li>
</ul>
<p><strong>自定义颜色</strong></p>
<ul>
<li>\definecolor[New colour][Old colour]<ul>
<li>\definecolor[maincolour][0.6(orange)]</li>
</ul>
</li>
<li>\definecolor[ColourName][Definition]<ul>
<li>\definecolor[lime 1][r=0.75, g=1, b=0]</li>
<li>\definecolor[lime 2][x=BFFF00]</li>
<li>\definecolor[lime 3][c=0.25, m=0, y=1, k=0]</li>
<li>\definecolor[lime 4][h=75, s=1, v=1]</li>
<li>\definecolor[Azure][h=75, w=0.2, b=0.7]</li>
<li>\definecolor[light grey][s=0.65]</li>
</ul>
</li>
</ul>
<h2 id="_29">文档结构<a class="headerlink" href="#_29" title="Permanent link">#</a></h2>
<h3 id="_30">标题<a class="headerlink" href="#_30" title="Permanent link">#</a></h3>
<p>https://wiki.contextgarden.net/Titles</p>
<p>章节/题目</p>
<table>
<thead>
<tr>
<th>有编号</th>
<th>无编号</th>
</tr>
</thead>
<tbody>
<tr>
<td>\part</td>
<td>—</td>
</tr>
<tr>
<td>\chapter</td>
<td>\title</td>
</tr>
<tr>
<td>\section</td>
<td>\subject</td>
</tr>
<tr>
<td>\subsection</td>
<td>\subsubject</td>
</tr>
<tr>
<td>\subsubsection</td>
<td>\subsubsubject</td>
</tr>
<tr>
<td>\subsubsubsection</td>
<td>\subsubsubsubject</td>
</tr>
<tr>
<td>\subsubsubsubsection</td>
<td>\subsubsubsubsubject</td>
</tr>
</tbody>
</table>
<p>无编号标题不会出现在目录中（可设置）。</p>
<p>均有Start/Stop版本，方便导出为电子书。</p>
<p>以上都是\SECTION的实例，<a href="https://wiki.contextgarden.net/Command/_section">各有三种用法</a>，以及<a href="https://wiki.contextgarden.net/Command/_startsection">startstop实例</a>：
* \SECTION[reference,...]{text}
* \SECTION[reference,...]{number}{text}
* \SECTION[...=...,...]
    * title text
    * bookmark  text
    * marking   text
    * list  text
    * reference reference
    * ownnumber text
    * placeholder   text
* \startSECTION[...=...,...][...=...,...] ... \stopSECTION，第一个选项同前</p>
<p>ownnumber用于指定编号，替换本处的自动编号；他处自动编号不受影响，即可能造成编号不连续！</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 自定义计数器，遇到新section时重置（\defineresetset只能设定重置与否/连续编号，不能指定重置范围）</span>
<span class="k">\definecounter</span><span class="na">[mynumber][way=bysection]</span>
<span class="k">\incrementcounter</span><span class="na">[mynumber]</span>
<span class="c">%转换成汉字编号后应用</span>
<span class="k">\subsubsection</span><span class="na">[title=标题文本,reference=引用名, ownnumber={\convertnumber{cn}{\rawcountervalue[mynumber]</span><span class="nb">}}</span>]
</code></pre></div></td></tr></table></div>
<p>设置：</p>
<ul>
<li>\setuphead [Sections][Options]</li>
<li>\setupheads [Sections][Options]</li>
</ul>
<p>选项：</p>
<ul>
<li>placehead： whose values can be “yes”, “no” “hidden”, “empty” or “section</li>
<li>number， “yes” and “no”</li>
<li>“before” “after，标题排版前后执行的命令<ul>
<li>before=\hairline，before=\blank，before={\blank[3*big]}</li>
<li>after={\blank[0cm]},before={\blank[0cm]}</li>
<li>before={\nowhitespace},after={\nowhitespace\vskip5pt}</li>
</ul>
</li>
<li>commandbefore” and“commandafter”，<strong>标题文本</strong>排版前后执行的命令</li>
<li>continue=no</li>
<li>page，前插页</li>
<li>alignment，“align”会影响包含标题的段落的alignment。可包含“flushleft”(left), “flushright” (right), “middle” (centred), “inner” (inner margin) and “outer” (outer margin)等值。</li>
<li>Margin</li>
<li>Width</li>
<li>indentnext</li>
<li>alternative，插入时的替代版式：text paragraph normal margin inmargin top middle bottom reverse margintext</li>
<li>textdistance，标题文本距离</li>
<li>interlinespace，行间距</li>
</ul>
<p>有编号的设置会影响无编号，反之不然。
上一级的设置会可能影响下一级，反之不然。</p>
<p>用 <code>\nolist</code> or <code>\nomarking</code>在目录中排除指定字符：</p>
<p>\chapter{Influences of \nomarking{19th century} impressionism \nomarking{in
the 21st century}}</p>
<p>获取章节编号headnumber:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>first:   <span class="k">\someheadnumber</span><span class="na">[chapter][first]</span>   <span class="k">\par</span>
current: <span class="k">\someheadnumber</span><span class="na">[chapter][current]</span> <span class="k">\par</span>
last:    <span class="k">\someheadnumber</span><span class="na">[chapter][last]</span>
</code></pre></div></td></tr></table></div>
<p>必须实际有编号，否则为空。</p>
<p>https://wiki.contextgarden.net/Last_Head_Number</p>
<p>忽略文档结构的独立编号结构（比如贯穿全书的“点评”编号）的实现：<a href="https://wiki.contextgarden.net/Titles#Headings_numbered_independent_of_chapters_or_other_headings">Headings_numbered_independent_of_chapters_or_other_headings</a></p>
<h3 id="_31">目录<a class="headerlink" href="#_31" title="Permanent link">#</a></h3>
<p><a href="https://wiki.contextgarden.net/Table_of_Contents">官方文档</a></p>
<p><strong>目录是内置的联合列表(combinedlist)。</strong></p>
<ul>
<li>设置目录联合列表：\setupcombinedlist[content][list={chapter,section},alternative=c]<ul>
<li>list选项指定head级别，<strong><code>\definehead</code>自定义级别必须额外指定</strong></li>
<li>alternative选项指定版式：a...g，可通过\setuplist设置</li>
</ul>
</li>
<li>设置目录的pdf交互：\setupinteraction[state=start,focus=width]</li>
<li>放置目录：<ul>
<li><code>\completecontent</code>，会在目录前自动生成 \title{目录}，目录标题名称可以更改：<code>\setupheadtext[chinese][content=目次]</code></li>
<li><code>\placecontent</code>，根据放置位置生成其下各级目录，如放在章、节下则只能显式本章、节之下的目录<ul>
<li>criterium选项指定内容：all previous [part, chapter, section, subsection..] component</li>
</ul>
</li>
</ul>
</li>
<li>条目格式化 \setuplist[Element][Configuration]<ul>
<li>\definelistalternative定义alternative</li>
</ul>
</li>
</ul>
<p><strong>默认只加入编号的目录，</strong> 手动加入未编号head级别：<code>\setuphead[title][incrementnumber=yes]</code></p>
<p>手动加入指定head实例：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\subject</span><span class="nb">{</span>Bibliography<span class="nb">}</span>
<span class="k">\writetolist</span><span class="na">[section]</span><span class="nb">{}{</span>Bibliography<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p>条目间加入分割：</p>
<p>\writebetweenlist[section]{\hrule}</p>
<p>目录与实际标题不同：</p>
<ul>
<li>\SectionType [Options], or with \startSectionType [Options]</li>
<li>特定文字不列入列表用 <code>\nolist</code> or <code>\nomarking</code>：<ul>
<li><code>\chapter[title={An \nolist{approximate and slightly repetitive}introduction to the reality of the obvious}]</code></li>
</ul>
</li>
</ul>
<h2 id="_32">列表和联合列表<a class="headerlink" href="#_32" title="Permanent link">#</a></h2>
<p>根据列表生成列表、联合列表和目录。列表需要三个元素：</p>
<ol>
<li>The number.</li>
<li>The name or title.</li>
<li>The page where it is found.</li>
</ol>
<p>有序号的标题（无序号标题加入选项<code>incrementnumber=yes</code>）和\place...(如\placetable, \placefigure)命令生成的列表，都能满足要求。</p>
<p>生成、设置与使用列表与目录近似：</p>
<ul>
<li>\definelist[ListName][Configuration]</li>
<li>\setuplist[ListName][Configuration]</li>
<li>\placelist[ListName][Options]</li>
<li>\completelist</li>
</ul>
<p>联合列表</p>
<ul>
<li>\definecombinedlist[Name][Lists][Options]，Lists如<code>part, chapter, section, subsection</code>，会自动生成放置命令\placeName</li>
<li>\setupcombinedlist</li>
</ul>
<h2 id="_33">结构列表<a class="headerlink" href="#_33" title="Permanent link">#</a></h2>
<p>参考
* <a href="https://wiki.contextgarden.net/Command/_startitemgroup">startitemgroup</a>
* <a href="https://wiki.contextgarden.net/Enumerations">Enumerations</a>
* <a href="https://wiki.contextgarden.net/Paragraph_Enumeration">段落编号</a>
* 自定义<a href="https://wiki.contextgarden.net/Command/defineenumeration">enumeration</a></p>
<p>用于结构复杂的列表，比如练习题。</p>
<p><code>\startitemize[Options][Configuration] ... \stopitemize</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 设置结构列表，标题字体风格，标题后命令</span>
<span class="k">\setupitemize</span><span class="na">[headstyle=bold,afterhead={\blank[medium]</span><span class="nb">}</span>]

<span class="k">\startitemize</span>
  <span class="k">\starthead</span><span class="nb">{</span>标题<span class="nb">}</span>
    列表项目1正文
  <span class="k">\stophead</span>
  <span class="k">\startitem</span>
    列表项目2正文
  <span class="k">\stopitem</span>
<span class="k">\stopitemize</span>

<span class="c">% 段落编号</span>
<span class="k">\startParagraphNumbers</span>
<span class="k">\stopParagraphNumbers</span>
</code></pre></div></td></tr></table></div>
<p>自定义类似\startitemize的结构列表：</p>
<ul>
<li>\defineitemgroup[myitems]</li>
<li>\setupitemgroup [myitems] [each] [joinedup]</li>
<li>\setupitemgroup [myitems] [each] [itemalign=flushright]</li>
</ul>
<h2 id="_34">索引<a class="headerlink" href="#_34" title="Permanent link">#</a></h2>
<ul>
<li>\index[Alphabetical]{Index entry}<ul>
<li>\index{Entry 1+Entry 2+Entry 3}，多级别（最多三级）</li>
</ul>
</li>
<li>\seeindex[Alphabetical] {Entry1} {Entry2+Entry 3}，参见Entry2+Entry 3</li>
<li>\placeindex</li>
<li>\placeindex</li>
<li>\completindex</li>
<li>\setupregister[index][Configuration]</li>
</ul>
<p>生成其他索引</p>
<ul>
<li>\defineregister[IndexName] [Configuration]，自动生成命令：<ul>
<li>\IndexName</li>
<li>\placeIndexName</li>
<li>completeIndexName</li>
</ul>
</li>
<li>\setupregister[IndexName] [Configuration]</li>
</ul>
<h2 id="_35">引用和超链接<a class="headerlink" href="#_35" title="Permanent link">#</a></h2>
<p>pdf书签</p>
<ul>
<li>\placebookmarks[List of sections]<ul>
<li>\placebookmarks[all]</li>
</ul>
</li>
</ul>
<p>先设置交互，再设置书签才有效。</p>
<h3 id="_36">同义词<a class="headerlink" href="#_36" title="Permanent link">#</a></h3>
<h3 id="_37">排序<a class="headerlink" href="#_37" title="Permanent link">#</a></h3>
<h3 id="mark">mark标记<a class="headerlink" href="#mark" title="Permanent link">#</a></h3>
<ul>
<li>\marking[IDENTIFIER][CONTENT], TEX \mark</li>
<li>\getmarking[mark][page name number][...]<ul>
<li>...: first last current previous next top bottom default both all first:nocheck last:nocheck previous:nocheck next:nocheck top:nocheck bottom:nocheck</li>
</ul>
</li>
<li>\getmarking [IDENTIFIER...][first|last|previous|both|all|current]</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definemarking</span><span class="na">[words]</span>
<span class="k">\marking</span><span class="na">[words]</span><span class="nb">{</span>first<span class="nb">}</span>first word ...
<span class="k">\marking</span><span class="na">[words]</span><span class="nb">{</span>second<span class="nb">}</span>second word ...
<span class="k">\page</span>
<span class="k">\marking</span><span class="na">[words]</span><span class="nb">{</span>third<span class="nb">}</span>third word ...
<span class="k">\marking</span><span class="na">[words]</span><span class="nb">{</span>fourth<span class="nb">}</span>fourth word ...
<span class="k">\page</span>
<span class="k">\marking</span><span class="na">[words]</span><span class="nb">{</span>fifth<span class="nb">}</span>fifth word ...
<span class="k">\page</span>

<span class="k">\setupfootertexts</span>
[<span class="nb">{</span><span class="k">\getmarking</span><span class="na">[words][previous]</span><span class="nb">}</span> --
<span class="nb">{</span><span class="k">\getmarking</span><span class="na">[words][first]</span><span class="nb">}</span> --
<span class="nb">{</span><span class="k">\getmarking</span><span class="na">[words][last]</span><span class="nb">}</span>]
[]

<span class="k">\setupfootertexts</span><span class="na">[chapter][sectionnumber]</span>

<span class="k">\definehead</span><span class="na">[category][subsection]</span>
<span class="k">\setupfootertexts</span><span class="na">[chapter][category]</span>
<span class="k">\definemarking</span><span class="na">[category]</span>
<span class="k">\couplemarking</span><span class="na">[category][subsection]</span>
</code></pre></div></td></tr></table></div>
<h3 id="_38">引用<a class="headerlink" href="#_38" title="Permanent link">#</a></h3>
<p>参考： https://wiki.contextgarden.net/References</p>
<ul>
<li>交叉引用模块： https://wiki.contextgarden.net/Cross_Referencing<ul>
<li>\setupcrossreftext</li>
<li>\crossref</li>
</ul>
</li>
<li>段落引用模块： https://wiki.contextgarden.net/Paragraph_Referencing</li>
</ul>
<p>设置：</p>
<ul>
<li>\setupreferencing</li>
<li>\definereferenceformat 设置自己的引用命令</li>
<li>\setupinteraction 控制链接交互的格式</li>
<li>\setupreferencestructureprefix [default] [prefixsegments=2:2]</li>
<li>\definestructureseparatorset [default] [,,-]</li>
</ul>
<p>锚点：</p>
<ul>
<li>\reference[reference,...]{text}<ul>
<li>\chapter[reference]{text}</li>
<li>\pagereference[reference,...]</li>
<li>\textreference[reference,...]{text}</li>
</ul>
</li>
</ul>
<p><code>[reference]</code>可使用命名空间进行分类：<code>[fig:cow]</code></p>
<p>引用：</p>
<ul>
<li>\in {text}{text}[reference] 引用数字编号，只适用于编号的条目</li>
<li>\at {text}{text}[reference] 引用页码<ul>
<li>\atpage [reference]</li>
<li>\somewhere {text}{text}[reference]</li>
</ul>
</li>
<li>\about {text}[reference] 引用文本（引用的标题）<ul>
<li>\setupreferencing 改变\about的输出</li>
</ul>
</li>
<li>\ref[default| text| title| number| page| realpage][reference] 自定义用，可结合\goto</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\section</span><span class="nb">{</span>FirstSection<span class="nb">}</span>

<span class="k">\reference</span><span class="na">[ref]</span><span class="nb">{</span>Gerald Manley<span class="nb">}</span>
---Gerald Manley Hopkins

Look in <span class="k">\in</span><span class="nb">{</span>chapter<span class="nb">}</span>[hotel] on <span class="k">\at</span><span class="nb">{</span>page<span class="nb">}</span>[hotel] for a complete
overview of accommodation in <span class="k">\pagereference</span><span class="na">[accommodation]</span>Hasselt.

<span class="k">\section</span><span class="nb">{</span>SecondSection<span class="nb">}</span>

<span class="k">\starttabulate</span><span class="na">[|l|l|l|]</span>
<span class="k">\NC</span> title:       <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[title]</span>   [ref] <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[title]</span>   [sec] <span class="k">\NC</span> <span class="k">\NR</span>
<span class="k">\NC</span> number:      <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[number]</span>  [ref] <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[number]</span>  [sec] <span class="k">\NC</span> <span class="k">\NR</span>
<span class="k">\NC</span> text:        <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[text]</span>    [ref] <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[text]</span>    [sec] <span class="k">\NC</span> <span class="k">\NR</span>
<span class="k">\NC</span> realpage:    <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[realpage][ref]</span> <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[realpage][sec]</span> <span class="k">\NC</span> <span class="k">\NR</span>
<span class="k">\NC</span> page number: <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[page]</span>    [ref] <span class="k">\NC</span> <span class="k">\ref</span><span class="na">[page]</span>    [sec] <span class="k">\NC</span> <span class="k">\NR</span>
<span class="k">\stoptabulate</span>

<span class="k">\at</span><span class="nb">{</span>page<span class="nb">}</span>[accommodation].
</code></pre></div></td></tr></table></div>
<p>在校样上显示引用 <code>\showreferences</code></p>
<p>获取标签、章节标题的引用（reference）信息，如编号、页码等：</p>
<p><a href="https://tex.stackexchange.com/questions/134474/context-part-chapter-section-and-subsection-names">context-part-chapter-section-and-subsection-names</a>
by Aditya</p>
<p>The following variables give information about the current section (from strc-sec.mkiv):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code>\xdef\currentstructurename           {\structureparameter\c!name}%
\xdef\currentstructurecoupling       {\structureparameter\c!coupling}%
\xdef\currentstructureownnumber      {\structureparameter\c!ownnumber}% optional own number
\xdef\currentstructurelevel          {\structureparameter\c!level}%
\edef\currentstructureexpansion      {\structureparameter\c!expansion}%
\xdef\currentstructurexmlsetup       {\structureparameter\c!xmlsetup}%
\xdef\currentstructurecatcodes       {\structureparameter\s!catcodes}%
\xdef\currentstructurelabel          {\structureparameter\c!label}%
\xdef\currentstructurereference      {\structureparameter\c!reference}%
\xdef\currentstructurereferenceprefix{\structureparameter\c!referenceprefix}%
\xdef\currentstructurebackreference  {\structureparameter\c!backreference}%
\xdef\currentstructureshownumber     {\structureparameter\c!number}%
\xdef\currentstructuresaveinlist     {\structureparameter\c!saveinlist}%
\xdef\currentstructureincrementnumber{\structureparameter\c!incrementnumber}%
\xdef\currentstructuretitle   {\structureparameter\c!title}%
\xdef\currentstructurebookmark{\structureparameter\c!bookmark}%
\xdef\currentstructuremarking {\structureparameter\c!marking}%
\xdef\currentstructurelist    {\structureparameter\c!list}%
</code></pre></div></td></tr></table></div>
<p>其他：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>\currentstructurenumber
\currentstructurelistnumber
\currentsectioncountervalue
\previoussectioncountervalue
\structurenumber
\structuretitle
\structurevariable{ #one}
\structureuservariable{ #one}
\namedstructurevariable{ #one}{ #two}
\namedstructureuservariable{ #one}{ #two}
</code></pre></div></td></tr></table></div>
<p>用法：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>\namedstructurevariable{subsection}{title}
</code></pre></div></td></tr></table></div>
<p>黄：经实测，很多已不能用，需要根据strc-sec.mkiv更新。<strong>有时用\ref更可靠。</strong></p>
<p>另见<code>\getmarking[chapter]</code> <code>\getmarking[chapternumber]</code> <code>\getmarking[sectionnumber]</code></p>
<p>另有\label，文档较少。</p>
<h3 id="_39">预置引用<a class="headerlink" href="#_39" title="Permanent link">#</a></h3>
<h3 id="_40">注册器<a class="headerlink" href="#_40" title="Permanent link">#</a></h3>
<h2 id="_41">字符、词语、文本<a class="headerlink" href="#_41" title="Permanent link">#</a></h2>
<p><strong>大小写</strong></p>
<ul>
<li>\word{text}: 小写</li>
<li>\Word{text}: 首字母大写</li>
<li>\Words{text}: 多词语首字母大写</li>
<li>\WORD{text} or \WORDS{text}: 全部大写</li>
<li>\cap{...\nocap{...}...}  小型大写字母</li>
<li>\Cap{}  伪小型大写字母</li>
</ul>
<p><strong>上下标</strong></p>
<ul>
<li>\high{Text}</li>
<li>\low{Text}</li>
<li>\lohi{Subscript}{Superscript}</li>
<li>公式中用“_” and “^”</li>
</ul>
<p><strong>字面文本 Verbatim text</strong></p>
<p>打字文本；忠实排版；</p>
<ul>
<li>\type 第一个参数是边界符号<ul>
<li>\type {This is without curly bracket}</li>
<li>\type <em>This is a closing curly bracket: ‘}’</em></li>
<li>\type 1Tweedledum and Tweedledee1</li>
<li>\type |Tweedledum and Tweedledee|</li>
<li>\type zTweedledum and Tweedledeez</li>
<li>\type (Tweedledum and Tweedledee(</li>
</ul>
</li>
<li>\starttyping ... \stoptyping</li>
<li>\typ 断词版</li>
<li>\tex 保留字会执行</li>
</ul>
<p><strong>复合词语的连接</strong></p>
<p><strong>文本的语言设置</strong></p>
<ul>
<li>\mainlanguage</li>
<li>\language \&lt;语言代码&gt; 文档中临时改变</li>
<li>\setuplanguage[Language][Configuration]<ul>
<li>\setuplanguage[en][patterns={en, agr}] 英语和古希腊语（防止替换）</li>
</ul>
</li>
</ul>
<p>English  en, eng, english
Japanese  ja, japanese
chinese  cn, chinese</p>
<p>语言设置参考： https://www.mail-archive.com/ntg-context@ntg.nl/msg107547.html</p>
<p>会影响：</p>
<ul>
<li>断词</li>
<li>某些词语的输出格式</li>
<li>某些的排版传统</li>
</ul>
<p><strong>跟语言相关的标签文本</strong></p>
<p>比如章节中的“第”“章”。</p>
<ul>
<li>\setuplabeltext[Language][Key=Label]<ul>
<li>\setuplabeltext[es][figure=Imagen~]</li>
<li>\setuplabeltext[chapter=Chapter~]</li>
</ul>
</li>
</ul>
<p>可参考语言文件<code>lang-txt.lua</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setuplabeltext</span><span class="na">[en][section=Lesson ]</span>
<span class="k">\setuplabeltext</span><span class="na">[nl][section=Les ]</span>
<span class="k">\setuphead</span><span class="na">[section][number=yes]</span>

<span class="k">\section</span><span class="nb">{</span>First lesson<span class="nb">}</span>

<span class="k">\labeltext</span><span class="nb">{</span>section<span class="nb">}</span> 1

<span class="k">\mainlanguage</span><span class="na">[nl]</span>

<span class="k">\section</span><span class="nb">{</span>Eerste les<span class="nb">}</span>

<span class="k">\labeltext</span><span class="nb">{</span>section<span class="nb">}</span> 2
</code></pre></div></td></tr></table></div>
<p><strong>语言相关命令</strong></p>
<ul>
<li>\currentdate[month, dd, weekday]</li>
<li>\date[d=6, m=7, y=1957][weekday]</li>
<li>\month</li>
<li>\translate[es=Su carta de fecha, en=Your letter dated]  根据语言取值</li>
<li>\quote and \quotation</li>
</ul>
<h2 id="_42">水平空白/间距<a class="headerlink" href="#_42" title="Permanent link">#</a></h2>
<ul>
<li>某种字体的词语间距 \fontdimen2\font  \fontdimen2\font  \fontdimen4\font</li>
<li>\hskip and \hfill 绝对值（可以是负值）空格，\hfill可用在行头行尾</li>
<li>hskip1em plus 1em minus .5em，弹性胶</li>
<li>\kern1cm，字符硬间距</li>
<li>\mkern⟨mudimen⟩</li>
<li>\hspace[identifier]，预先定义的特定类型的空白</li>
<li>\,  千分位空格</li>
<li>\space or “\␣”  半角空格</li>
<li>\enskip, \quad and \qquad  半个em, 1 em or 2 ems</li>
</ul>
<p>使用\nobreak来限制在空白处断行。</p>
<p>spac-chr.mkiv中规定的其他空白:</p>
<p>https://tex.stackexchange.com/questions/538654/non-breaking-hspace-in-context</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\edef\nobreakspace</span>            <span class="nb">{</span><span class="k">\normalUchar</span>"00A0<span class="nb">}</span> <span class="c">% space</span>
<span class="k">\edef\softhyphen</span>              <span class="nb">{</span><span class="k">\normalUchar</span>"00AD<span class="nb">}</span> <span class="c">% softhyohen</span>
<span class="k">\edef\enquad</span>                  <span class="nb">{</span><span class="k">\normalUchar</span>"2000<span class="nb">}</span> <span class="c">% quad/2</span>
<span class="k">\edef\emquad</span>                  <span class="nb">{</span><span class="k">\normalUchar</span>"2001<span class="nb">}</span> <span class="c">% quad</span>

<span class="k">\let\ideographicspace</span>         <span class="k">\enquad</span>
<span class="k">\let\ideographichalffillspace</span> <span class="k">\emquad</span>

<span class="k">\edef\twoperemspace</span>           <span class="nb">{</span><span class="k">\normalUchar</span>"2002<span class="nb">}</span> <span class="c">% quad/2</span>
<span class="k">\edef\threeperemspace</span>         <span class="nb">{</span><span class="k">\normalUchar</span>"2004<span class="nb">}</span> <span class="c">% quad/3</span>
<span class="k">\edef\fourperemspace</span>          <span class="nb">{</span><span class="k">\normalUchar</span>"2005<span class="nb">}</span> <span class="c">% quad/4</span>
<span class="k">\edef\sixperemspace</span>           <span class="nb">{</span><span class="k">\normalUchar</span>"2006<span class="nb">}</span> <span class="c">% quad/6</span>
<span class="k">\edef\figurespace</span>             <span class="nb">{</span><span class="k">\normalUchar</span>"2007<span class="nb">}</span> <span class="c">% width of zero</span>
<span class="k">\edef\punctuationspace</span>        <span class="nb">{</span><span class="k">\normalUchar</span>"2008<span class="nb">}</span> <span class="c">% width of period</span>
<span class="k">\edef\breakablethinspace</span>      <span class="nb">{</span><span class="k">\normalUchar</span>"2009<span class="nb">}</span> <span class="c">% quad/8</span>
<span class="k">\edef\hairspace</span>               <span class="nb">{</span><span class="k">\normalUchar</span>"200A<span class="nb">}</span> <span class="c">% quad/8</span>
<span class="k">\edef\zerowidthspace</span>          <span class="nb">{</span><span class="k">\normalUchar</span>"200B<span class="nb">}</span> <span class="c">% 0</span>
<span class="k">\edef\zerowidthnonjoiner</span>      <span class="nb">{</span><span class="k">\normalUchar</span>"200C<span class="nb">}</span> <span class="c">% 0</span>
<span class="k">\edef\zerowidthjoiner</span>         <span class="nb">{</span><span class="k">\normalUchar</span>"200D<span class="nb">}</span> <span class="c">% 0</span>
<span class="k">\edef\narrownobreakspace</span>      <span class="nb">{</span><span class="k">\normalUchar</span>"202F<span class="nb">}</span> <span class="c">% quad/8</span>

<span class="k">\udef\zerowidthnobreakspace</span>   <span class="nb">{</span><span class="k">\penalty\plustenthousand\kern\zeropoint</span><span class="nb">}</span>
<span class="k">\udef\fiveperemspace</span>          <span class="nb">{</span><span class="k">\hskip\dimexpr\emwidth</span>/5<span class="k">\relax</span><span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>水平间距</strong></p>
<ul>
<li>\setupspacing[broad]</li>
<li>\setupspacing[packed]</li>
</ul>
<p><strong>字符间距</strong></p>
<p>拉伸</p>
<ul>
<li>\stretched[Configuration]{Text}<ul>
<li>\stretched[width=4cm]{\bf test text}</li>
<li>\stretched{test\text} 扩大\指定位置的间距，撑满行</li>
</ul>
</li>
<li>\setupstretched</li>
<li>\definestretched</li>
<li>\setupcharacterkerning</li>
<li>\definecharacterkerning</li>
</ul>
<h2 id="_43">垂直间距/空白<a class="headerlink" href="#_43" title="Permanent link">#</a></h2>
<p><strong>分段：</strong></p>
<ul>
<li>连续一个到多个空行</li>
<li>\par</li>
<li>\endgraf</li>
</ul>
<p><strong>插件垂直空白/空行</strong>（不建议使用<code>\vskip \vfill</code>）：</p>
<ul>
<li>优先使用\blank[Dimension]，累加无效 <a href="https://wiki.contextgarden.net/Command/blank">blank</a><ul>
<li>\blank[force]，强制空行，不可缩减，比如设置答题空间时</li>
<li>\blank[disable]，取消后面的空行</li>
<li>\blank[back]，取消前面的空行</li>
<li>\blank[overlay]，重叠，即负空行</li>
<li>\blank[samepage]，禁止分页</li>
<li>空行 \emptylines[4] 等于 \blank[4*line]</li>
</ul>
</li>
<li>\godown[Dimension]，可以累加</li>
</ul>
<p>如小标题后空一行、不分页： <code>\blank[1*line, back, disable, samepage]</code></p>
<p><strong>忽略分段和空行</strong></p>
<ul>
<li>par ... \ignorepars</li>
</ul>
<p><strong>段落首行缩进：</strong></p>
<p>\setupindenting[...,...]</p>
<p>[...,...]   [+-]small [+-]medium [+-]big none no not first next yes always never odd even normal reset toggle <code>dimension name</code></p>
<ul>
<li>always：所有段落首行缩进</li>
<li>yes：一般段落首行缩进。特点段落额外增加垂直间距，如小节起始段落；后面跟着某些环境的段落首行不缩进。</li>
<li>no, not, never, none：禁用段落首行缩进。</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupindenting</span><span class="na">[yes, 2em]</span>
</code></pre></div></td></tr></table></div>
<p><strong>窄段落/两侧缩进/扩大页边：</strong></p>
<ul>
<li>\startnarrow[...=...,...] ... \stopnarrow （接受键值对参数）</li>
<li>\startnarrower[...,...] ... \stopnarrower</li>
</ul>
<p><strong>段间距/段落间距：</strong></p>
<p><a href="https://wiki.contextgarden.net/Command/setupwhitespace">setupwhitespace</a></p>
<p>\setupwhitespace</p>
<ul>
<li>none</li>
<li>small, medium, big：相对字号而言</li>
<li>line, halfline, quarterline：相对行高而言</li>
<li>DIMENSION：指定绝对尺寸，如\setupwhitespace[5pt].</li>
</ul>
<p><strong>无段落间距</strong></p>
<p>\startpacked[Space] ... \stoppacked</p>
<p><strong>指定位置插件间距</strong>，比如标题后</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setuphead</span><span class="na">[chapter]</span>[
    page=yes,
    before=<span class="nb">{</span><span class="k">\blank</span><span class="na">[4cm, force]</span><span class="nb">}</span>,<span class="c">%强制空白，不可挤压、分页删除</span>
    after=<span class="nb">{</span><span class="k">\blank</span><span class="na">[3*medium]</span><span class="nb">}</span>
]
</code></pre></div></td></tr></table></div>
<ul>
<li>\setupblank</li>
<li>\defineblank[Name] [Configuration]</li>
</ul>
<p><strong>行间距、行距：</strong></p>
<p><a href="https://wiki.contextgarden.net/Command/setupinterlinespace">setupinterlinespace</a></p>
<p>% 设定行间距、行距
%尺寸；符号：reset、small、medium、big、on、off；或用\defineinterlinespace定义的名字；
%或命名参数：line=8ex（line, height, depth, minheight, mindepth,distance, top, bottom, stretch and shrink.）</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupinterlinespace</span><span class="na">[line=3.2ex]</span>
<span class="k">\setupinterlinespace</span><span class="na">[big]</span>
<span class="k">\setupinterlinespace</span><span class="na">[reset]</span>
</code></pre></div></td></tr></table></div>
<p><strong>断词</strong></p>
<ul>
<li>\hyphenation{union-ised, man-slaughter}</li>
<li>\unhyphenated</li>
<li>\hbox  盒子不会断开</li>
<li>\pretolerance and \tolerance</li>
<li>手动断行 \break, \crlf or \</li>
</ul>
<p><strong>手动断行</strong></p>
<p>\startlines
One-one was a race horse.
Two-two was one too.
One-one won one race.
Two-two won one too.
\stoplines</p>
<p>可配置：\startlines[indenting={yes, small, even}]...\stoplines</p>
<p>或全局配置：\setuplines[indenting={yes, small, even}]</p>
<p>带行号：</p>
<p>\startlinenumbering[Options] ... \stoplinenumbering</p>
<p><a href="https://wiki.contextgarden.net/Command/setupalign">** 水平对齐：**</a></p>
<ul>
<li>\setupalign[right] %全文设置<ul>
<li>\setupalign[horizontal, morehyphenation]</li>
<li>\setupalign[reset]
*\setupalign[lesswidows,lessclubs]%孤寡控制</li>
</ul>
</li>
<li>\startalignment[Options] ... \stopalignment % 对齐</li>
</ul>
<p>选项：</p>
<p><code>broad</code> <code>wide</code> <code>bottom</code> <code>height</code> <code>line</code> <code>high</code> <code>low</code> <code>lohi</code> <code>flushright</code> <code>flushleft</code> <code>middle</code> <code>yes</code> <code>no</code> <code>width</code> <code>normal</code> <code>reset</code> <code>inner</code> <code>outer</code> <code>flushinner</code> <code>flushouter</code> <code>left</code> <code>right</code> <code>center</code> <code>disable</code> <code>last</code> <code>end</code> <code>paragraph</code> <code>lefttoright</code> <code>righttoleft</code> <code>l2r</code> <code>r2l</code> <code>table</code> <code>lesshyphenation</code> <code>morehyphenation</code> <code>hanging</code>(标点悬挂/突出 protrusion) <code>hangingboth</code> <code>nothanging</code> <code>hz</code> <code>fullhz</code> <code>nohz</code> <code>hyphenated</code> <code>nothyphenated</code> <code>tolerant</code> <code>verytolerant</code> <code>stretch</code> <code>extremestretch</code> <code>final</code> <code>1*final</code> <code>2*final</code> <code>3*final</code> <code>4*final</code> <code>more</code> <code>1*more</code> <code>2*more</code></p>
<ul>
<li>normal or width or yes，对齐</li>
<li>middle，行居中对齐 <strong>(实测会拉伸字距，等于<code>center, wide</code>，当是与center弄反了)</strong></li>
<li>flushleft or no or right，左对齐/右填充 (<strong>right源于ragged-right，不建议用</strong>)</li>
<li>flushright or lef，右对齐/左填充（同上）</li>
<li>inner，推向内边(margin)</li>
<li>outer，推向外边</li>
<li>disable，仅用于单行段落，等于flushleft，但段末\parfillskip为0</li>
<li>last，对齐，最后一行居中</li>
</ul>
<p>怎么控制行宽</p>
<ul>
<li>wide，让ragged-right, ragged-left, and middle行更宽些(<strong>实测是保持固定宽度</strong>)</li>
<li>broad，近似，用于表格</li>
</ul>
<p>你希望末行在哪里结束</p>
<ul>
<li>bottom，底部填充</li>
<li>height，撑满高度</li>
<li>line，字下伸触及下面的边界</li>
</ul>
<p>在盒子中竖向对齐，比如在\framed或表格中</p>
<ul>
<li>high  Align to top</li>
<li>low   Align to bottom</li>
<li>lohi  Vertically centered</li>
</ul>
<p>预定义组合</p>
<ul>
<li>table，等价于flushleft,broad,high</li>
<li>reset，等价于normal.</li>
<li>center，<strong>等价于<code>middle, broad</code>（实测不然，不会增加字距，当是与middle弄反了）</strong></li>
</ul>
<p>排版/文本流方向</p>
<ul>
<li>lefttoright or l2r，"Hello, world."</li>
<li>righttoleft or r2l，".dlrow ,olleH"</li>
</ul>
<p>更好的调整和局部排版</p>
<ul>
<li>hanging，允许悬挂标点/突出(protrusion)</li>
<li>nothanging，禁止悬挂标点</li>
<li>hz，允许轻微拉伸字符/字体伸展(font expansion).</li>
<li>nohz，禁止字体伸展</li>
<li>hyphenated，允许断词</li>
<li>nothyphenated，禁止断词</li>
<li>lesshyphenation，更少断词. Not sure whether this is relative/additive, or absolute.</li>
<li>morehyphenation，更多断词. Not sure whether this is relative/additive, or absolute.</li>
<li>tolerant，放松最终段落操控(更多断词和拉伸)以避免超出盒子。</li>
<li>verytolerant，更加放松最终段落操控</li>
<li>stretch，运用空白额外拉伸，通常配合(very)tolerant使用</li>
</ul>
<p><strong>单行水平对齐：</strong></p>
<ul>
<li>\leftaligned, \midaligned or \rightaligned</li>
<li>\wordright，行内词语右移到头</li>
</ul>
<h2 id="_44">特殊结构和段落<a class="headerlink" href="#_44" title="Permanent link">#</a></h2>
<p><strong>脚注、尾注、边注、行号注、局部注</strong></p>
<ul>
<li>\definenote</li>
<li>\setupnote 设置注释代码</li>
<li>\note 放置注释代码（可构成一个条目多个注码）</li>
<li>\setupnotation 设置注释条目</li>
<li>\placenotes 放置注释条目（比如段后注）</li>
</ul>
<p>边注，如：
* \margintext
* \inmargin
* \inoutermargin</p>
<p><strong>分栏：</strong></p>
<ul>
<li>\startmixedcolumns ... \stopmixedcolumns<ul>
<li>\startitemgroupcolumns ... \stopitemgroupcolumns</li>
<li>\startboxedcolumns ... \stopboxedcolumns</li>
<li>\startcolumns[Configuration] ...\column...\stopcolumns</li>
<li>\setupcolumns[Configuration]</li>
</ul>
</li>
<li>\testcolumn[number][dimension] 分栏测试，保证此处至少有特定的空间，否则将分栏</li>
</ul>
<p><strong>并行段落</strong></p>
<p><strong>有结构列表</strong></p>
<p><strong>描述和枚举</strong></p>
<p><strong>线和框</strong></p>
<ul>
<li>\hairline 整行下画线</li>
<li>\thinrule  文中，平均撑满整行（类似\hfill）；一行可以排多组</li>
<li>\thinrules[n=2] 多行</li>
<li>\hl[3] and \vl[3] 固定长度的线，单位em</li>
<li>\fillinline[width=1cm]{Name:}， 行内填充线(填充线对齐右侧，线长可调)</li>
<li>\fillinrules[]{}{}  多行填充线(填充线对齐右侧，或居中)</li>
<li>\blackrule \blackrules 铅条，铅线<ul>
<li>\blackrule[width=12em,depth=4pt,height=-3.5pt]</li>
</ul>
</li>
<li>\startmarginrule ... \stopmarginrule 段落边缘线</li>
</ul>
<p><strong>文本装饰，与文本关联的线</strong></p>
<ul>
<li>文字两侧画线<ul>
<li>\textrule{Example text}</li>
<li>\starttextrule[Configuration]{Text on the line} ... \stoptextrule</li>
<li>\setuptextrule</li>
</ul>
</li>
<li>\setupbar 设置参数</li>
<li>\bar 预定义实例<ul>
<li>\overbar，上画线</li>
<li>\underbar，下画线，<a href="https://wiki.contextgarden.net/Command/_bar">完形填空用</a></li>
<li>\overstrike，删除线</li>
<li>\understrike，字下删除线，如马克笔效果</li>
<li>\overbars，逐词……</li>
<li>\underbars</li>
<li>\overstrikes</li>
<li>\understrikes</li>
<li>\underrandom，不规则（随机）下画线</li>
<li>\underrandoms</li>
<li>\underdash，下画断线</li>
<li>\underdashes</li>
<li>\underdot，下画点线</li>
<li>\underdots</li>
<li>\nobar</li>
<li>\hiddenbar</li>
</ul>
</li>
<li>\definebar 自定义实例</li>
<li>\resetbar 清楚</li>
</ul>
<p><strong>完形填空</strong>
% ！！！标点符号处理过程导致下画线丢失，或禁则失效
% 可能是标点模块删除标点前后的空白造成的
% 临时处理方法是只在填空前面加kern
\definebar[clozeBar][underbar][continue=yes, color=black, offset=-0.5]
\def\cloze #1{%
    \startbar[clozeBar]%
    \scratchdimen\widthofstring{ #1}\relax % 获取文本宽度
    \zwj\kern1\scratchdimen \color[black]{ #1}% \kern.5\scratchdimen\zwj % U+200D ZERO WIDTH JOINER
    \stopbar%
}%</p>
<p>也可以用\blackrule模拟：
<code>\def\b{\blackrule[width=1em,depth=4pt,height=-3.5pt]\hspace[0em]}</code></p>
<p><strong>加框文本</strong></p>
<ul>
<li>\framed 适合短文本，框底齐行<ul>
<li>\inframed 行内基线对齐的文本，等于\framed[location=low]</li>
</ul>
</li>
<li>\framedtext, 适合多段落，宽度默认为0.75\hsize<ul>
<li>\startframedtext</li>
</ul>
</li>
</ul>
<p><strong>可重用的缓存文本</strong></p>
<ul>
<li>\startbuffer[BufferName] ...\stopbuffer</li>
<li>\getbuffer[BufferName]</li>
</ul>
<p><strong>block</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\defineblock</span><span class="na">[question]</span>
<span class="k">\hideblocks</span><span class="na">[question]</span> <span class="c">% We don't want to print blocks where we define them</span>

<span class="k">\beginquestion</span><span class="na">[first]</span>
To be, or not to be? (not <span class="k">\\</span>start... and <span class="k">\\</span>stop....)
<span class="k">\endquestion</span>

<span class="k">\section</span><span class="nb">{</span>Let's see what blocks we've got.<span class="nb">}</span>
<span class="k">\useblocks</span><span class="na">[question]</span>

<span class="k">\section</span><span class="nb">{</span>We've seen what blocks we've got. Let's take another look at that first question.<span class="nb">}</span>
<span class="k">\useblocks</span><span class="na">[question][first]</span>

<span class="k">\beginquestion</span><span class="na">[last]</span>
Mais o<span class="k">\`</span>u sont les neiges d'antan?
<span class="k">\endquestion</span>
</code></pre></div></td></tr></table></div>
<p><strong>其他环境和建构</strong></p>
<ul>
<li>化学式</li>
<li>算式</li>
<li>（浮动体、图像）联合体</li>
<li>隐藏文本 \starthiding...\stophiding</li>
<li>\starteffect[hidden]...\stopeffect</li>
<li>legend 公式说明</li>
<li>行调整（比如在加框的情况下）</li>
<li>mode 编译时进行模式匹配</li>
<li>左右也相对</li>
<li>引用</li>
<li>standardmakeup标准修饰  如每页有文件名</li>
</ul>
<h2 id="_45">图像、表格和其他浮动对象<a class="headerlink" href="#_45" title="Permanent link">#</a></h2>
<ul>
<li>\externalfigure[img.jpg]</li>
<li>\placefigure[Options][Label] {Title} {Image}</li>
</ul>
<p>表格：</p>
<ul>
<li>Tabulate (tabulation, 线表，适合简单需求)</li>
<li>TABLE (适合natural tables, HTML tables)</li>
<li>xtables (extreme tables – 与natural tables更好兼容，利于分页)</li>
<li>framed tables (适合跨越几百页的简单表格)</li>
<li>database模块，可排数据表</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startxtable</span>
  <span class="k">\startxrow</span>
    <span class="k">\startxcell</span> one <span class="k">\stopxcell</span>
    <span class="k">\startxcell</span> two <span class="k">\stopxcell</span>
  <span class="k">\stopxrow</span>
  <span class="k">\startxrow</span>
    <span class="k">\startxcell</span> alpha <span class="k">\stopxcell</span>
    <span class="k">\startxcell</span> beta  <span class="k">\stopxcell</span>
  <span class="k">\stopxrow</span>
<span class="k">\stopxtable</span>
</code></pre></div></td></tr></table></div>
<p>视觉对象分组：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startcombination</span><span class="na">[mycombi][2*2]</span>
    <span class="nb">{</span><span class="k">\externalfigure</span><span class="na">[dummy][width=4cm,height=1cm]</span><span class="nb">}</span>
    <span class="nb">{</span><span class="k">\externalfigure</span><span class="na">[dummy][width=4cm,height=1cm]</span><span class="nb">}</span>
    <span class="nb">{</span><span class="k">\externalfigure</span><span class="na">[dummy][width=4cm,height=1cm]</span><span class="nb">}</span>
    <span class="nb">{</span><span class="k">\externalfigure</span><span class="na">[dummy][width=4cm,height=1cm]</span><span class="nb">}</span>
<span class="k">\stopcombination</span>
</code></pre></div></td></tr></table></div></p>
<p>文本绕图</p>
<ul>
<li><a href="https://tex.stackexchange.com/questions/135790/how-to-wrap-text-around-framed-floats-in-context">一侧放置</a></li>
<li><a href="https://tex.stackexchange.com/questions/646426/context-text-wrapping-around-images-with-complex-outline">不规则轮廓</a><ol>
<li>在图像处理软件中捕获或勾勒轮廓；或用轮廓追踪（trace）软件</li>
<li>导出轮廓，通常是svg，用<a href="https://jakearchibald.github.io/svgomg/">svgomg</a>压缩、简化轮廓</li>
<li>通过pstoedit转换为Metapost</li>
<li>用Metafun的\useMPlibrary[txt]</li>
<li>还可以考虑parshape</li>
</ol>
</li>
<li><a href="https://wiki.contextgarden.net/Command/bleed">图充满出血宽度</a></li>
</ul>
<h2 id="zhfonts">zhfonts<a class="headerlink" href="#zhfonts" title="Permanent link">#</a></h2>
<p>标点压缩和字体设置模块</p>
<p><a href="https://github.com/Fusyong/zhfonts">项目地址</a>，
<a href="http://garfileo.is-programmer.com/posts/23740">使用说明</a>，
<a href="http://liyanrui.is-programmer.com/2009/11/28/chinese-punctations-compression-with-luatex.13608.html">标点压缩说明</a>,
<a href="http://liyanrui.is-programmer.com/2009/10/21/not-just-for-chinese.12264.html">字体处理基本知识</a>。</p>
<p>安装目录：</p>
<p><code>D:\venvs\texlive\2021\texmf-dist\tex\context\third\zhfonts\</code>
使用：</p>
<p>\usemodule[zhfonts] %</p>
<p>可能造成字体找不到的情况（当时汉字码表设置问题），则禁用<code>t-zhfonts.lua</code>中的字体设置功能，只保留标点压缩功能：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kr">function</span><span class="w"> </span><span class="nc">zhfonts</span><span class="p">.</span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="nv">param</span><span class="p">)</span>
<span class="w">    </span><span class="nf">context</span><span class="w"> </span><span class="p">(</span><span class="s1">'</span><span class="se">\\</span><span class="s1">setscript[hanzi]'</span><span class="p">)</span>
<span class="w">    </span><span class="nv">zhspuncs</span><span class="p">.</span><span class="nf">opt</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="c1">-- local arg_list = string_split_and_strip (param, ',')</span>
<span class="w">    </span><span class="c1">-- if arg_list[1] ~= "none" and arg_list[2] ~= "none" then</span>
<span class="w">    </span><span class="c1">--     context ('\\definefontfeature[zh][default][' .. fontfeatures .. ']')</span>
<span class="w">    </span><span class="c1">--     context ('\\setupalign[hanging, hz]')</span>
<span class="w">    </span><span class="c1">--         zhfonts.gen_typescript ()</span>
<span class="w">    </span><span class="c1">--         if arg_list[1] ~= "hack" and arg_list[2] ~= "hack" then</span>
<span class="w">    </span><span class="c1">--             context ('\\usetypescript[zhfonts]')</span>
<span class="w">    </span><span class="c1">--             context ('\\setupbodyfont[zhfonts, ' .. param .. ']')</span>
<span class="w">    </span><span class="c1">--         end</span>
<span class="w">    </span><span class="c1">-- end</span>
<span class="kr">end</span>
</code></pre></div></td></tr></table></div>
<p><strong>或直接使用仿制的t-zhspuncs.mkiv:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% t-zhspuncs.mkiv</span>
<span class="k">\writestatus</span><span class="nb">{</span>loading<span class="nb">}{</span>ConTeXt User Module / zhspuncs<span class="nb">}</span>
<span class="k">\startmodule</span><span class="na">[zhspuncs]</span>
<span class="k">\unprotect</span>

<span class="c">% 加载lua脚本文件</span>
<span class="k">\ctxloadluafile</span><span class="nb">{</span>t-zhspuncs<span class="nb">}</span>
<span class="c">% 宏定义，运行脚本函数</span>
<span class="k">\def\zhspuncs</span><span class="nb">{</span><span class="k">\ctxlua</span><span class="nb">{</span>moduledata.zhspuncs.opt()<span class="nb">}}</span>
<span class="c">% 宏的加载点</span>
<span class="k">\appendtoks</span> <span class="k">\zhspuncs</span> <span class="k">\to</span> <span class="k">\everystarttext</span>

<span class="k">\protect</span>
<span class="k">\stopmodule</span>
<span class="k">\endinput</span>
</code></pre></div></td></tr></table></div>
<p><strong>相应更改t-zhspuncs.lua：</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">--t-zhspuncs.lua</span>
<span class="nv">moduledata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">moduledata</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">{}</span>
<span class="nv">moduledata</span><span class="p">.</span><span class="py">zhspuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">moduledata</span><span class="p">.</span><span class="py">zhspuncs</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="p">{}</span>
<span class="nv">zhspuncs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">moduledata</span><span class="p">.</span><span class="py">zhspuncs</span>
<span class="c1">-- zhspuncs = zhspuncs or {}</span>
<span class="c1">--以下保持不变</span>
</code></pre></div></td></tr></table></div>
<p>使用：</p>
<p>\usemodule[zhspuncs]</p>
<h2 id="ruby">ruby和行间标注<a class="headerlink" href="#ruby" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\usemodule</span><span class="na">[ruby]</span>

<span class="k">\starttext</span>

<span class="k">\ruby</span><span class="nb">{</span>漢字<span class="nb">}{</span>かんじ<span class="nb">}</span>

<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p>设置主体文本（base text）与ruby文本布局:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupruby</span>
    [basestyle=...,
    basecolor=...,
    textstyle=...,
    textcolor=...]
</code></pre></div></td></tr></table></div>
<p>设置ruby文本与周围文本重叠与否:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>  <span class="k">\setupruby</span>
    [overhang=auto|start|end|none] <span class="c">% default: yes</span>
</code></pre></div></td></tr></table></div>
<p>设置ruby和主体文字（base text）的间距:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>  <span class="k">\setupruby</span>
    [inbetween=...] <span class="c">% default: \blank[small]</span>
</code></pre></div></td></tr></table></div>
<p>可以只改变单个命令的设置:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>  <span class="k">\ruby</span><span class="na">[..,..=..,..]</span><span class="nb">{</span>...<span class="nb">}{</span>...<span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>叠置/重叠/左右错位/凸排</strong></p>
<ul>
<li>\clap{whatever} 居中叠置<ul>
<li>定义为<code>\def\clap#1{\hbox to 0pt{\hss\strut #1\hss} }</code></li>
</ul>
</li>
<li>\llap{whatever} 左侧叠置<ul>
<li>定义为<code>\def\llap#1{\hbox to 0pt{\hss #1} }</code></li>
</ul>
</li>
<li>\rlap{whatever} 右侧叠置<ul>
<li>定义为<code>\def\rlap#1{\hbox to 0pt{ #1\hss} }</code></li>
</ul>
</li>
</ul>
<p>\strut 能利用字体的结构深度（基线、空白等），否则只有轮廓线</p>
<p>\hss胶等于<code>\hskip 0pt plus 1fil minus 1fil</code>, 它会吸掉\llap或\rlap参数的所有宽度，无论正负。</p>
<p><strong>泡泡框</strong>：<a href="https://tex.stackexchange.com/questions/38805/simple-speech-bubbles-arrows-or-balloon-like-shapes-in-beamer/"><strong>tikz宏包</strong></a></p>
<p><strong>latex</strong></p>
<ul>
<li>\overset{\makebox[0pt]{(\scriptsize animal)}}{Bears}</li>
<li>\underset</li>
<li>\labeltext</li>
</ul>
<h2 id="_46">下画线<a class="headerlink" href="#_46" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>日本語の表記では“<span class="k">\underbar</span><span class="nb">{</span>漢字<span class="nb">}</span>”や
</code></pre></div></td></tr></table></div>
<h2 id="box">盒子 box<a class="headerlink" href="#box" title="Permanent link">#</a></h2>
<p><strong>对齐盒子</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\showboxes</span> <span class="c">% 显式盒子</span>
<span class="k">\hbox</span><span class="nb">{</span><span class="k">\hbox</span><span class="nb">{</span>one<span class="nb">}</span> <span class="k">\vbox</span><span class="nb">{</span>two<span class="k">\par</span> three<span class="nb">}</span> <span class="k">\vtop</span><span class="nb">{</span>four<span class="k">\par</span> five<span class="nb">}}</span>
</code></pre></div></td></tr></table></div>
<p><img alt="" src="../img/ConTeXt%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2021-12-21-15-55-28.png"/></p>
<p>更多盒子：</p>
<ul>
<li>\vbox 底部行对齐前面的元素</li>
<li>\vtop 头部行对齐前面的元素</li>
<li>\cbox 内容垂直居中</li>
<li>\lbox<ul>
<li>\lbox to 4cm{... text ...}</li>
</ul>
</li>
<li>\rbox</li>
<li>\sbox  具有strut的高度（字体设计的行间高度，包括留空），可以基线对齐</li>
<li>\hbox 水平盒子，对齐行基线</li>
<li>\tbox（对齐行顶线） and \bbox 表格盒子（有strut属性，对齐底地线），也用于图表</li>
</ul>
<p><strong>显式盒子</strong></p>
<ul>
<li>\ruledhbox  带线的盒子</li>
<li>\ruledvbox  带线的盒子</li>
<li>\ruledvtop  带线的盒子</li>
<li>\showboxes  显式所有盒子</li>
<li>\showmakeup  显式标记信息（包括盒子）</li>
</ul>
<p><strong>用盒子标注拼音</strong>（实际情景请用官方的ruby模块）</p>
<p>中文此间距glue处理似乎没有中文字符盒子的问题</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% 使用字体脚本`type-ahpinyin.tex`设置拼音字体</span>
<span class="c">% \usetypescriptfile[ahpinyin] % this is the 'some-name-you-like' part of the saved filename</span>
<span class="c">% \definefont[pinyin][ahpinyin]</span>
<span class="c">% 设置拼音字体</span>
<span class="k">\definefont</span><span class="na">[pinyin][name:ahpinying*default at 9pt]</span>
<span class="c">% 设置注音命令</span>
<span class="c">% \define[2]\Mypy{%TEX</span>
<span class="k">\def\Mypy</span>#1#2<span class="nb">{</span><span class="c">%ConTeXt</span>
    <span class="k">\setbox</span>1 = <span class="k">\hbox</span><span class="nb">{</span><span class="k">\strut</span>#1<span class="nb">}</span><span class="c">%</span>
    <span class="k">\setbox</span>2 = <span class="k">\hbox</span><span class="nb">{</span><span class="k">\strut\darkgray</span> <span class="k">\pinyin</span> #2<span class="nb">}</span><span class="c">% \ssxx xx号无衬线体</span>
    <span class="k">\newdimen\maxwd</span><span class="c">%</span>
    <span class="k">\ifdim</span> <span class="k">\wd</span>1&gt;<span class="k">\wd</span>2 <span class="k">\maxwd</span>=<span class="k">\wd</span>1 <span class="k">\else</span> <span class="k">\maxwd</span>=<span class="k">\wd</span>2 <span class="k">\fi</span><span class="c">%</span>
    <span class="k">\setbox</span>1 = <span class="k">\hbox</span> to <span class="k">\maxwd</span><span class="nb">{</span><span class="k">\hfill</span> <span class="k">\box</span>1 <span class="k">\hfill</span><span class="nb">}</span><span class="c">%</span>
    <span class="k">\setbox</span>2 = <span class="k">\hbox</span> to <span class="k">\maxwd</span><span class="nb">{</span><span class="k">\hfill</span> <span class="k">\box</span>2 <span class="k">\hfill</span><span class="nb">}</span><span class="c">%</span>
    <span class="k">\hskip</span>0pt plus5pt<span class="k">\vtop</span><span class="nb">{</span><span class="k">\box</span>1<span class="k">\godown</span><span class="na">[-1.1em]</span><span class="k">\box</span>2<span class="nb">}</span><span class="c">% 加入glue以便正确分行、调词间距</span>
    <span class="c">% #1\llap{\lower 3ex\box2}%</span>
<span class="nb">}</span>
<span class="k">\starttext</span>

漢字漢字漢字漢字<span class="k">\Mypy</span><span class="nb">{</span>漢字<span class="nb">}{</span>han4 zi4<span class="nb">}</span>漢字漢字

<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p>测量参考行的盒子宽度，<strong>居中排一首诗歌</strong>：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\def\startpoem</span><span class="na">[#1]</span><span class="c">%</span>
  <span class="nb">{</span><span class="k">\begingroup</span>
   <span class="k">\setbox</span>0<span class="k">\hbox</span><span class="nb">{</span> #1<span class="nb">}</span><span class="c">%</span>
   <span class="k">\setupnarrower</span><span class="na">[left=\dimexpr (\the\hsize-\the\wd0)/2\relax]</span><span class="c">%</span>
   <span class="k">\startnarrower</span><span class="na">[left]</span><span class="c">%</span>
   <span class="k">\startlines</span><span class="c">%</span>
   <span class="nb">}</span>

<span class="k">\def\stoppoem</span>
   <span class="nb">{</span><span class="k">\stoplines</span>
    <span class="k">\stopnarrower</span>
    <span class="k">\endgroup</span><span class="nb">}</span>
</code></pre></div></td></tr></table></div>
<p><code>\startlines</code>本身也可以设置后用于排版诗歌，参考<a href="https://wiki.contextgarden.net/Verse">官网的Verse主题</a>。</p>
<p>尺寸计算必须使用宏\dimexpr，如：
<code>\dimexpr 165mm * 2 + 20mm\relax</code>
（<strong>第一个元素必需是dim</strong>，参考： https://wiki.contextgarden.net/Expressions）</p>
<p>还可以结合lua函数<code>string.splitlines(str)</code> <code>buffers.getlines()</code> <code>string.strip()</code>等自动处理各行/逐行处理：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kr">for</span><span class="w"> </span><span class="nv">n</span><span class="p">,</span><span class="nv">line</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">(</span><span class="nv">string</span><span class="p">.</span><span class="nf">splitlines</span><span class="p">(</span><span class="nv">str</span><span class="p">))</span><span class="w"> </span><span class="kr">do</span>
<span class="w">    </span><span class="nb">io.write</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">"%u: %s</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="nv">line</span><span class="p">))</span>
<span class="kr">end</span>
</code></pre></div></td></tr></table></div></p>
<p>参考</p>
<ul>
<li><a href="https://www.mail-archive.com/ntg-context@ntg.nl/msg67895.html">Getting the content of source lines in a \startlines \stoplines env?</a></li>
<li><a href="https://www.mail-archive.com/ntg-context@ntg.nl/msg106781.html">using an end of line as parameter</a></li>
</ul>
<h2 id="_47">文本缩放<a class="headerlink" href="#_47" title="Permanent link">#</a></h2>
<p>参考： https://wiki.contextgarden.net/Command/scale</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\starttext</span>

<span class="k">\startlines</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello<span class="nb">}</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello World<span class="nb">}</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello World! How<span class="nb">}</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello World! How are<span class="nb">}</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello World! How are you<span class="nb">}</span>
<span class="k">\scale</span><span class="na">[maxwidth=4cm]</span><span class="nb">{</span>Hello World! How are you doing?<span class="nb">}</span>
<span class="k">\stoplines</span>

<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h2 id="_48">悬挂缩进<a class="headerlink" href="#_48" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definestartstop</span>
  [exdent]
  [before=<span class="nb">{</span><span class="k">\startnarrower</span><span class="na">[left]</span><span class="k">\setupindenting</span><span class="na">[-\leftskip,yes]</span><span class="nb">}</span>,
   after=<span class="k">\stopnarrower</span>]

<span class="k">\setuphead</span><span class="na">[section][indentnext=yes]</span>
<span class="k">\section</span><span class="nb">{</span>Test<span class="nb">}</span>
<span class="k">\startexdent</span>
<span class="k">\input</span> knuth <span class="k">\endgraf</span>
<span class="k">\stopexdent</span>
</code></pre></div></td></tr></table></div>
<h2 id="_49">缩放、镜像、剪切<a class="headerlink" href="#_49" title="Permanent link">#</a></h2>
<p>https://wiki.contextgarden.net/Scaling_Rotating_Mirroring_Clipping</p>
<h2 id="_50">视觉调试与跟踪<a class="headerlink" href="#_50" title="Permanent link">#</a></h2>
<ul>
<li><a href="https://wiki.contextgarden.net/Visual_Debugging">Visual_Debugging</a></li>
<li>
<p><a href="https://wiki.contextgarden.net/Debugging">Debugging</a></p>
</li>
<li>
<p><code>\trace...</code> 切换跟踪</p>
<ul>
<li>\tracingnodes1 %1,2</li>
</ul>
</li>
<li><code>\show...</code> 即时显示<ul>
<li>\showlayout[pt,cm,1] % 默认输出4页</li>
<li>\showsetups % 只输出设置尺寸，与上项等效</li>
<li>\showglyphs % 显示所有字模的方框</li>
<li>\showboxes%盒子</li>
<li>\showframe%框架<ul>
<li>\showframe[text]</li>
</ul>
</li>
<li>\showmakeup%额外信息</li>
<li>\showreferences</li>
</ul>
</li>
</ul>
<p><strong>跟踪</strong></p>
<p>在可能的错误附近打开所有追踪：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\enabletrackers</span>
<span class="k">\enabletrackers</span><span class="na">[script*]</span> <span class="c">%脚本跟踪，比如标点后注入罚点</span>
<span class="k">\tracingall</span>
</code></pre></div></td></tr></table></div>
<p>grep脚本(源码全文检索)：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>mtxrun<span class="w"> </span>--script<span class="w"> </span>grep
</code></pre></div></td></tr></table></div>
<p>显示跟踪器和命令列表：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\showtrackers</span>
<span class="k">\showdirectives</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>context<span class="w"> </span>--global<span class="w"> </span>m-trackers.mkiv
context<span class="w"> </span>--global<span class="w"> </span>m-directives.mkiv
</code></pre></div></td></tr></table></div>
<p><strong>缺字跟踪</strong></p>
<p>\enabletrackers[fonts.missing]</p>
<p><strong>缺字替换</strong></p>
<p><code>\replacemissingcharacters</code></p>
<p>缺字体时替换为方块，并且可以拷贝、搜索。</p>
<p>或如下设置字体确实报错信息：</p>
<p><a href="https://www.mail-archive.com/ntg-context@ntg.nl/msg106754.html">by Marco Patzer</a></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">%% alternative:</span>
<span class="c">%% context --errors='*' &lt;file&gt;</span>
<span class="k">\enabledirectives</span> [logs.errors=*]

<span class="c">%% missing font</span>
<span class="k">\definefontfamily</span> [foo] [serif] [no font here really]
<span class="k">\setupbodyfont</span> [foo]

<span class="k">\starttext</span>
  <span class="c">%% missing characters</span>
  𝒜
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<p><strong>段落与页面构成</strong></p>
<p>\showmakeup[...]</p>
<p>[...]makeup reset boxes all hbox vbox vtop kern glue penalty fontkern strut whatsit glyph simple simplehbox simplevbox simplevtop user math italic origin discretionary expansion line space depth</p>
<p>三个快捷选项：</p>
<ul>
<li>makeup，页面布局</li>
<li>boxes，盒子构成</li>
<li>all，大部分有用选项</li>
</ul>
<h2 id="_51">项目结构<a class="headerlink" href="#_51" title="Permanent link">#</a></h2>
<p><img alt="项目结构" src="https://wiki.contextgarden.net/images/5/5c/Project-structure.png"/></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>项目—产品—组件
|    |产品环境
项目环境
</code></pre></div></td></tr></table></div>
<p>提供不同类结构之间的加载控制，以免重复、循环和不必要的加载。</p>
<h2 id="_52">层/图文堆叠/图文定位<a class="headerlink" href="#_52" title="Permanent link">#</a></h2>
<ol>
<li>layer，它是ConTeXt的页面坐标定位机制，以及元素随页码变化而切换的机制等；组合多个对象为页面的一层。可用于背景/前景设置，给整页图加标签，给页面加页码，等等。未写入正式文档。<a href="https://wiki.contextgarden.net/Layers">官方web文档</a></li>
<li>overlay，在同一点上堆叠多个对象为一个小型图文对象，可用于framed类对象的前景和背景。</li>
<li>collector，相对于可以用坐标定位的overlay，组合多个对象（如图文）为一个对象；本身还可以组合（composedcollector）。参考官方文档details.pdf。也可以用MetaPost（MetaFun）的<code>thetextext[.anchor](str,pos)</code> <code>thelabel(string,pair)</code> <code>draw externalfigure "mycow.pdf" scaled 3cm</code>等实现。</li>
<li>另参见offset</li>
</ol>
<p><a href="https://wiki.contextgarden.net/Command/position">对象定位</a></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\position</span>
<span class="k">\startpositioning</span>
    <span class="k">\position</span>(1,1)<span class="nb">{</span>test1<span class="nb">}</span> <span class="c">% default unit = 1cm</span>
    <span class="k">\position</span><span class="na">[xstep=relative]</span>(1, 1)<span class="nb">{</span>test2<span class="nb">}</span>
    <span class="k">\position</span><span class="na">[ystep=relative]</span>(3,-1)<span class="nb">{</span>test3<span class="nb">}</span>
    <span class="k">\position</span>(10,10)<span class="nb">{</span>test4<span class="nb">}</span>
<span class="k">\stoppositioning</span>
</code></pre></div></td></tr></table></div>
<h2 id="pdf">在pdf文件中添加附件<a class="headerlink" href="#pdf" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupinteraction</span><span class="na">[state=start]</span>
<span class="k">\attachment</span><span class="na">[file=\jobname.tex]</span>
<span class="k">\starttext</span>
<span class="k">\input</span> zapf
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h2 id="_53">生僻字造字拼字<a class="headerlink" href="#_53" title="Permanent link">#</a></h2>
<p>\hbox{\hbox{辶}\kern-.7em\scale[sx=0.7,sy=0.9]{\raise 0.1em\hbox{頃}}}</p>
<p>压缩会导致笔画变细，且横竖向粗细不协调。在ai中，从结构一致的字中拆部件来用是最好的。</p>
<h2 id="_54">字间距/字符间距<a class="headerlink" href="#_54" title="Permanent link">#</a></h2>
<p>inter-glyph kerning, Inter-character kerning, or inter-character spacingis, 通常是在字体设计层面处理的。但也可以调整：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\definecharacterkerning</span> [extremekerning] [factor=.125]
<span class="k">\setcharacterkerning</span><span class="na">[extremekerning]</span> ... text ...
</code></pre></div></td></tr></table></div>
<p>标题拉伸（充满给定宽度）：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\setupcharacterkerning</span><span class="na">[stretched][factor=max, width=\availablehsize]</span>
<span class="c">% \setupcharacterkerning[stretched][width=] % 或这样</span>
<span class="k">\stretched</span><span class="nb">{</span><span class="k">\bfd</span> to the limit<span class="nb">}</span>

<span class="c">% 或</span>
<span class="k">\stretched</span><span class="na">[width=]</span><span class="nb">{</span><span class="k">\bfd</span> to the limit<span class="nb">}</span>

<span class="c">% 或</span>
<span class="k">\ruledhbox</span><span class="nb">{</span><span class="k">\stretched</span><span class="na">[width=10cm]</span><span class="nb">{</span><span class="k">\bfd</span> to the limit<span class="nb">}}</span>
</code></pre></div></td></tr></table></div>
<p>观察字符字间：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\usemodule</span><span class="na">[typesetting-kerning]</span>
<span class="k">\starttext</span>
    <span class="k">\showcharacterkerningsteps</span>[
        style=Bold,
        sample=how to violate a proper font design,
        text=rubish,
        first=0,
        last=45,
        step=5]
<span class="k">\stoptext</span>
</code></pre></div></td></tr></table></div>
<h2 id="extra_font_kerns">额外的字体字间（Extra font kerns）<a class="headerlink" href="#extra_font_kerns" title="Permanent link">#</a></h2>
<p>在字体设计的特定字符组合（如<code>AV</code>）间的字间基础上，再设置额外的幅度：</p>
<p>\setextrafontkerns</p>
<p>观察字体字间：</p>
<p>\showfontkerns</p>
<h2 id="_55">浮动体<a class="headerlink" href="#_55" title="Permanent link">#</a></h2>
<ul>
<li>浮动体 \definefloat<ul>
<li>\chemical</li>
<li>\figure</li>
<li>\table</li>
<li>\intermezzo</li>
<li>\graphic</li>
</ul>
</li>
<li>\startfloattext ... \stopfloattext<ul>
<li>\startchemicaltext ... \stopchemicaltext</li>
<li>\startfiguretext ... \stopfiguretext</li>
<li>\starttabletext ... \stoptabletext</li>
<li>\startintermezzotext ... \stopintermezzotext</li>
<li>\startgraphictext ... \stopgraphictext</li>
</ul>
</li>
<li>行首/首字下沉（Drop caps） \setupinitial</li>
<li>文本围绕行首浮动体悬挂 \starthanging ... \stophanging</li>
</ul>
<h2 id="_56">偏置、提高盒子<a class="headerlink" href="#_56" title="Permanent link">#</a></h2>
<ul>
<li><a href="https://wiki.contextgarden.net/Command/offset">\offset</a>
。它的offset参数会像\raise那样影响行高，而使用y参数不会（导致重叠）。
<code>\dontleavehmode 正常文本\offset[y=-3em,x=0em,width=0pt]{偏置文本}正常文本</code></li>
<li>\glyph <code>xx\glyph yoffset 3em</code>f\relax oo`</li>
<li>\raisebox <code>\dontleavehmode\raisebox{1pt}\hbox{f}oo</code></li>
</ul>
<h2 id="multi-pass">存取数据（multi-pass数据）<a class="headerlink" href="#multi-pass" title="Permanent link">#</a></h2>
<ul>
<li>\definedataset[mydataset][delay=yes] % delay能添加页码信息</li>
<li>\setdataset[mydataset][mytable][field1=text 1, ...]</li>
<li>\datasetvariable{mydataset}{mytable}{myvariable}</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c">% To define a dataset.</span>
<span class="k">\definedataset</span><span class="na">[cats]</span>

<span class="c">% 匿名键值表1</span>
<span class="k">\setdataset</span><span class="na">[cats][name=Gus, job=Theatre Cat]</span>

<span class="c">% 匿名键值表2</span>
<span class="k">\setdataset</span><span class="na">[cats][scene=crime, name=Macavity, is=not there]</span>

<span class="c">% 命名键值表</span>
<span class="k">\setdataset</span><span class="na">[cats][culprit][name=Mungojerry]</span>

<span class="c">% 覆盖命名键值表</span>
<span class="k">\setdataset</span><span class="na">[cats][culprit][name=Rumpleteaser]</span>

<span class="c">% 不能存有逗号的字符串，可以存命令（作为字符串，取回时展开）</span>
<span class="k">\def\mytitle</span><span class="nb">{</span>peanut butter<span class="nb">}</span>
<span class="k">\definedataset</span><span class="na">[looks]</span>
<span class="k">\setdataset</span><span class="na">[looks][narrower][before=\margintitle{\mytitle}]</span>
<span class="k">\def\mytitle</span><span class="nb">{</span>cheese<span class="nb">}</span>
<span class="c">% The margintitle is 'cheese', not 'peanut butter'.</span>
<span class="k">\setupnarrower</span><span class="na">[before=\datasetvariable{looks}{narrower}{before}]</span>

<span class="c">% 注意：以下用花括号，为的是生成文本</span>
The name of the culprit was <span class="k">\datasetvariable</span><span class="nb">{</span>cats<span class="nb">}{</span>culprit<span class="nb">}{</span>name<span class="nb">}</span>.

<span class="c">% 第二个匿名表中的name</span>
<span class="k">\datasetvariable</span><span class="nb">{</span>cats<span class="nb">}{</span>2<span class="nb">}{</span>name<span class="nb">}</span>.
</code></pre></div></td></tr></table></div>
<p>lua存取数据：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="err">\</span><span class="nv">startluacode</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">setdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">job</span><span class="p">.</span><span class="py">datasets</span><span class="p">.</span><span class="py">setdata</span>
<span class="w">  </span><span class="nv">setdata</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"dataset_id"</span><span class="p">,</span>
<span class="w">    </span><span class="nv">tag</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"this"</span><span class="p">,</span>
<span class="w">    </span><span class="nv">data</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"does"</span><span class="p">,</span>
<span class="w">      </span><span class="nv">work</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"splendidly"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"for"</span><span class="p">,</span>
<span class="w">        </span><span class="nv">nested</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"tables"</span><span class="p">,</span><span class="w"> </span><span class="s2">"!"</span><span class="p">,</span><span class="w"> </span><span class="p">{{}}</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>


<span class="kd">local</span><span class="w"> </span><span class="nv">getdata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">job</span><span class="p">.</span><span class="py">datasets</span><span class="p">.</span><span class="py">getdata</span>
<span class="nv">table</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="nf">getdata</span><span class="w"> </span><span class="p">(</span><span class="s2">"dataset_id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"this"</span><span class="p">),</span><span class="w"> </span><span class="s2">"this"</span><span class="p">)</span>
<span class="err">\</span><span class="nv">stopluacode</span>
</code></pre></div></td></tr></table></div>
<p>参考：
* <a href="https://wiki.contextgarden.net/Command/definedataset">definedataset</a>
* <a href="https://wiki.contextgarden.net/System_Macros/Key_Value_Assignments#Multi-pass_data">Multi-pass_data</a></p>
<h2 id="_57">交互控件<a class="headerlink" href="#_57" title="Permanent link">#</a></h2>
<p>比如可以填写的表单。</p>
<p>https://wiki.contextgarden.net/Widgets</p>
<h2 id="_58">模式<a class="headerlink" href="#_58" title="Permanent link">#</a></h2>
<p><a href="https://wiki.contextgarden.net/Modes">Modes</a></p>
<p>可自定义并开、关模式，实现按模式有条件处理。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>
</code></pre></div></td></tr></table></div>
<p>可以结合<a href="https://wiki.contextgarden.net/Setups">Setups</a>使用，实现有条件的切换设置。</p>
<p>有一些常用的系统模式可用（均以*开头）：</p>
<ul>
<li>*mkii Enabled when running MkII</li>
<li>*mkiv Enabled when running MkIV</li>
<li>*first    Enabled during the first compile run</li>
<li>*export   Enabled when \setupbackend[export=yes] is set</li>
<li>*project  Enabled when inside \startproject ... \stopproject</li>
<li>*component    Enabled when inside \startcomponent...\stopcomponent</li>
<li>*environment  Enabled when inside \startenvironment ... \stopenvironment</li>
<li>*text Enabled when inside \starttext ... \stoptext.</li>
<li>*frontpart    Enabled when inside \startfrontmatter ... \stopfrontmatter</li>
<li>*bodypart Enabled when inside \startbodymatter ... \stopbodymatter</li>
<li>*backpart Enabled when inside \startbackmatter ... \stopbackmatter</li>
<li>*list Enabled inside a list entry</li>
<li>*marking  Enabled inside a marking</li>
<li>*register Enabled inside a register</li>
<li>*chapter, *section, etc.  Enabled inside the corresponding section head.</li>
<li>*en-us, *nl, etc. Enabled when the current \language is en-us, nl, etc.</li>
<li>*<em>en-us, *</em>nl, etc.   Enabled when the \mainlanguage is en-us, nl, etc.</li>
<li>*figure   Enabled when a graphic is found</li>
<li>*interaction  Enabled when interaction is enabled</li>
<li>*grid Enabled when grid typesetting is enabled</li>
<li>*singlesided  Enabled when singlesided layout is enabled</li>
<li>*doublesided  Enabled when doublesided layout is enabled</li>
<li>*pdf  Enabled when the main output is pdf</li>
<li>*dvi  Enabled when the main output is dvi</li>
</ul>
<p>可在lua和命令行中使用模式：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">tex</span><span class="p">.</span><span class="py">modes</span><span class="p">[</span><span class="s2">"mode1"</span><span class="p">]</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">tex</span><span class="p">.</span><span class="py">modes</span><span class="p">[</span><span class="s2">"mode2"</span><span class="p">])</span><span class="w"> </span><span class="kr">then</span>
<span class="w"> </span><span class="p">...</span>
<span class="kr">end</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>context<span class="w"> </span>--mode<span class="o">=</span>palatino<span class="w"> </span>filename
</code></pre></div></td></tr></table></div>
<p>在第一遍中执行外部系统命令：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startmode</span><span class="na">[*first]</span>
   <span class="c">% external program which creates a file fig-1.ps</span>
   <span class="k">\executesystemcommand</span><span class="nb">{</span>some<span class="nb">_</span>external<span class="nb">_</span>program ...<span class="nb">}</span>
   <span class="c">% convert PS into PDF</span>
   <span class="k">\executesystemcommand</span><span class="nb">{</span>pstopdf fig-1.ps<span class="nb">}</span>
<span class="k">\stopmode</span>

<span class="c">% include the resulting PDF</span>
<span class="k">\externalfigure</span><span class="na">[fig-1]</span>
</code></pre></div></td></tr></table></div>
<h2 id="_59">所有命令的设置项的签名<a class="headerlink" href="#_59" title="Permanent link">#</a></h2>
<p>https://wiki.contextgarden.net/setting_sigs</p>
<h2 id="_60">计数器<a class="headerlink" href="#_60" title="Permanent link">#</a></h2>
<p>控制页码、序号等。</p>
<p>https://wiki.contextgarden.net/Counters</p>
<p>计数传统与转换（数字与字母等不同传统之间）：</p>
<ul>
<li><a href="https://wiki.contextgarden.net/Command/defineconversion">defineconversion</a></li>
<li><a href="https://wiki.contextgarden.net/Command/convertnumber">convertnumber</a></li>
<li><a href="https://wiki.contextgarden.net/Command/Characters">Characters</a></li>
<li><a href="https://wiki.contextgarden.net/Command/convertnumber">convertnumber</a></li>
</ul>
<p>可以通过计数器、转成字符串来生成不重复的引用名等（能否通过csname生成宏名称？？）</p>
<!-- 、csname来生成不重复/唯一的宏名称： -->
<!-- ```latex
\setupcounter[uniquename][way=bytext]
\incrementcounter[uniquename]
\expandafter\def\csname uniquename\strippedcsname\uniquename\endcsname{\someheadnumber[subsubsection][current]}%
\def\csname \abc\endcsname{\abc}
``` -->
<p>定义枚举enumeration，用于自定义多级列表，如习题、问题列表</p>
<p><a href="https://wiki.contextgarden.net/Command/defineenumeration">enumeration</a></p>
<h2 id="_61">文本背景、文本高亮<a class="headerlink" href="#_61" title="Permanent link">#</a></h2>
<p><a href="https://tex.stackexchange.com/questions/125162/rounded-box-around-placeholder-text-that-supports-line-breaking">文本背景、文本高亮</a></p>
<h2 id="_62">文本绕排<a class="headerlink" href="#_62" title="Permanent link">#</a></h2>
<p><a href="https://tex.stackexchange.com/questions/646426/context-text-wrapping-around-images-with-complex-outline">文本绕排（不规则）</a></p>
<h2 id="_63">泡泡框、对话框<a class="headerlink" href="#_63" title="Permanent link">#</a></h2>
<p><a href="https://wiki.contextgarden.net/Speech_bubble">Speech_bubble</a></p>
<h2 id="_64">脚本工具<a class="headerlink" href="#_64" title="Permanent link">#</a></h2>
<p>查找命令所在的位置（文件、行号）：<code>context --find="%\starttabulate"</code></p>
<p>获取文件名，含路径：</p>
<p>\getdocumentfilename{1}
\cldcontext{document.files[1]}</p>
<h2 id="nodes">绘制节点图nodes<a class="headerlink" href="#nodes" title="Permanent link">#</a></h2>
<p>比如思维导图。</p>
<p>参考：
* nodes.tex nodes.pdf
* meta-nod.mkiv meta-nod.lua</p>
<!-- D:\venvs\context-win64\tex\texmf-context\tex\context\base\mkiv\meta-nod.mkiv
D:\venvs\context-win64\tex\texmf-context\doc\context\sources\general\manuals\nodes\nodes.tex
 -->
<h2 id="_65">中文相关<a class="headerlink" href="#_65" title="Permanent link">#</a></h2>
<h3 id="_66">中文断行/回行<a class="headerlink" href="#_66" title="Permanent link">#</a></h3>
<p>使用： \setscript[hanzi]</p>
<p>详情参见安装文件 scrp-cjk.lua char-scr.lua， 其中对冒号设置错误导致冒号后无法断行</p>
<p>如果像限制在中文环境：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startsetups</span> [chinese]
   <span class="k">\setscript</span><span class="na">[hanzi]</span>
<span class="k">\stopsetups</span>

<span class="k">\setuplanguage</span> [cn] [setups=chinese]
</code></pre></div></td></tr></table></div>
<p>对脚注需要单独设置：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startsetups</span><span class="na">[footnote:hanzi]</span>
    <span class="k">\setscript</span><span class="na">[hanzi]</span>
<span class="k">\stopsetups</span>

<span class="k">\setupnote</span><span class="na">[footnote]</span>[<span class="c">%</span>
    setups=<span class="nb">{</span>footnote:hanzi<span class="nb">}</span>,
    ]
</code></pre></div></td></tr></table></div>
<h3 id="_67">切换字体<a class="headerlink" href="#_67" title="Permanent link">#</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">\startsetups</span> [language:cn]
   <span class="k">\switchtobodyfont</span><span class="na">[pagella]</span>
<span class="k">\stopsetups</span>

<span class="k">\setuplanguage</span><span class="na">[cn][setups=language:cn]</span>
</code></pre></div></td></tr></table></div>
<form class="md-feedback" hidden="" name="feedback">
<fieldset>
<legend class="md-feedback__title">
        这篇怎么样啊？
      </legend>
<div class="md-feedback__inner">
<div class="md-feedback__list">
<button class="md-feedback__icon md-icon" data-md-value="1" title="这篇有用" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg>
</button>
<button class="md-feedback__icon md-icon" data-md-value="0" title="需要改进" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg>
</button>
</div>
<div class="md-feedback__note">
<div data-md-value="1" hidden="">
              
              
                
              
              
              
                
                
              
              多谢反馈!
            </div>
<div data-md-value="0" hidden="">
              
              
                
              
              
              
                
                
              
              多谢反馈!
            </div>
</div>
</div>
</fieldset>
</form>
<!-- Giscus -->
<h2 id="__comments">评论</h2>
<!-- Replace with generated snippet -->
<script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOCR9S684CPp2T" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="Fusyong/Fusyong.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkxNTMwNDc3ODc=" data-theme="light" src="https://giscus.app/client.js">
</script>
<!-- Reload on palette change -->
<script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
      if (palette.color.scheme === "slate") {
        var giscus = document.querySelector("script[src*=giscus]")
        giscus.setAttribute("data-theme", "dark") 
      }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<nav aria-label="页脚" class="md-footer__inner md-grid">
<a aria-label="上一页: LuaTeX-LMTX-CLD学习笔记" class="md-footer__link md-footer__link--prev" href="../2022-01-10-LuaTeX-CLD-TEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                上一页
              </span>
<div class="md-ellipsis">
                LuaTeX-LMTX-CLD学习笔记
              </div>
</div>
</a>
<a aria-label="下一页: latex-CTEX学习笔记" class="md-footer__link md-footer__link--next" href="../2022-01-10-latex-CTEX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
<div class="md-footer__title">
<span class="md-footer__direction">
                下一页
              </span>
<div class="md-ellipsis">
                latex-CTEX学习笔记
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2018 - 2023 黄复雄
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/Fusyong" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://www.facebook.com/Aahuaang/" rel="noopener" target="_blank" title="www.facebook.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256" fill="currentColor"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/fusyong" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3" fill="currentColor"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "navigation.instant", "navigation.footer", "navigation.tracking", "toc.follow", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
</body>
</html>