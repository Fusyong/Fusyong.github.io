<!DOCTYPE html>
<html lang="chinese (simplified)">
<head>
    <meta charset="utf-8">
    <title>嬉戏实验室 - 拼字</title>
    <meta name="description" content="">
    <meta name="author" content="黄复雄">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/theme/local.css" rel="stylesheet">
    <link href="/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="/">嬉戏实验室</a>
        <div class="nav-collapse">
        <ul class="nav">

            <li><a href="http://www.xiiigame.com">XiiiGame</a></li>
            
            <li><a href="/pages/about.html">About</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="/pin-zi-you-xi-ruan-jian-shuo-ming-wen-dang.html"><h1>《拼字》游戏软件说明文档</h1></a>
2018-09-17 周一

	by 		<a class="url fn" href="/author/huang-fu-xiong.html">黄复雄</a>
 


 
        </div>
        
        <div><p><em>说明：此文档本为<a href="http://www.xiiigame.com/example">《拼字》游戏</a>软件著作权登记准备，今暂作软件简介之用。</em></p>

<h2 id="_1">宗旨</h2>
<p>这是针对汉字爱好者的，有汉字知识普及作用的益智休闲游戏，把通用规范汉字的字形结构、字理、字源、古字形、字音等知识融入游戏中，以寓学于乐。</p>
<h2 id="_2">功能与操作</h2>
<h3 id="_3">开局逻辑</h3>
<p>软件启动时，根据用户的历史数据(最初一局预设难度系数/取字范围是2000)自动开局。</p>
<p>根据自适应规则计算得出的难度值确定取字范围，在此范围内随机取出4个字分拆成部件，去除重复者；在《通用规范汉字》范围内计算这些部件能拼成哪些字，每拼成一个字即作为可用的部件，再重新计算，如此穷尽地算出所有能拼成的字。</p>
<h3 id="_4">游戏场景</h3>
<p>在游戏场景中把最初的部件显示出来，即部件/字头精灵；某个部件能拼成的字则用图片在此部件后预先占位留空（每个字只在它的一个部件后留空），以便给用户提供线索，降低难度。开局时的场景布局如下：</p>
<ul>
<li>开局时的游戏场景</li>
</ul>
<p><img alt="开局" src="/images/开局.png"/></p>
<p>①软件标识
②部件/字头精灵
③字头占位留空
④文字显示区域
⑤综合控制场景按钮
⑥提示按钮
⑦本局分数或网络状态显示区域</p>
<ul>
<li>微信版开局（启动后第一局）</li>
</ul>
<p><img alt="微信版开局（启动后第一局）" src="/images/开局（微信、初始化）.png"/></p>
<h3 id="_5">拼字动作</h3>
<p>显示出来的所有部件/字头精灵，点击时以动画形式掉落到场景下边中部的拼字区域；拼字区域有两个以上部件时计算能否拼字，能则在预设的占位图片上方显示拼成的字，这个字也可以用于拼字。</p>
<ul>
<li>拼字成功</li>
</ul>
<p><img alt="拼字成功" src="/images/拼字成功.png"/></p>
<p>拼字成功则显示新字的拼音、变体、繁体、异体等简单信息，更新得分信息，显示粒子效果和音效（须用户主动开启）。</p>
<p>同一组部件可拼成多个字时，会自动生成所有字。</p>
<ul>
<li>拼字失败</li>
</ul>
<p><img alt="拼字失败" src="/images/拼字失败.png"/></p>
<p>拼字失败则显示文字提示，显示火焰效果，播放音效（须用户主动开启）。</p>
<ul>
<li>等待状态</li>
</ul>
<p><img alt="等待状态" src="/images/等待状态.png"/></p>
<p>三个以上部件能拼字时，全部部件掉落到拼字区域前为等待状态，并有文字提示。</p>
<h3 id="_6">使用提示</h3>
<p>点击场景右下角的提示按钮，软件将模仿用户点击部件/字头精灵的动作，把余下可能拼成的字逐个拼出。</p>
<h3 id="_7">查看汉字信息</h3>
<ul>
<li>汉字信息</li>
</ul>
<p><img alt="汉字信息" src="/images/汉字信息.png"/></p>
<p>在字头/部件精灵上划动（动作起止都要在字头图片范围内），则可查看汉字信息，包括拼音/部件名称、变体、繁体、异体等，以及清段玉裁《说文解字注》、或汉许慎《说文解字》、或清《康熙字典》对本字及其变体、繁体、异体的解释和今人根据它们的字音折算而成的汉语拼音。</p>
<p>没有信息则留空。</p>
<h3 id="-">终局-新开局</h3>
<p>使用者可随时结束一局，同时即新开一局。方法是点击游戏场景左下角的按钮，打开综合控制场景，再点击“新”字按钮。</p>
<p>只要本局有拼字动作，终局-新开局时将统计本局数据，并计入历史数据。</p>
<p>如果本局没有拼字动作，则忽略不计。</p>
<h3 id="_8">综合控制场景</h3>
<ul>
<li>综合控制场景</li>
</ul>
<p><img alt="综合控制场景（非微信版）" src="/images/开局结局设置页（H5）.png"/></p>
<p>综合控制场景包括数据统计、声音设置、终局-开局等功能。</p>
<ul>
<li>综合控制场景（微信版）</li>
</ul>
<p><img alt="综合控制场景（微信版）" src="/images/开局结局设置页（微信小游戏）.png"/></p>
<p>微信版的综合控制场景另有转发、排行榜、游戏圈等社交功能</p>
<h4>计分逻辑和数据统计</h4>
<p>当场游戏得分即时、简单地显示在游戏场景下部。游戏中可随时打开综合控制场景，其中有更详细的统计数据，包括得分、拼字错误次数、提示按钮使用次数。</p>
<ul>
<li>字面得分</li>
</ul>
<p>拼成一个字的字面得分是根据这个字的部件数量n计算的，公式为2^n。比如“品”字由3个“口”拼成，所以拼成“品”得分为2^3 = 8。</p>
<ul>
<li>字面得分的分数形式</li>
</ul>
<p>字面得分与全局最大的可能得分的比值，则是字面得分的分数形式。</p>
<ul>
<li>综合得分</li>
</ul>
<p>综合得分是字面得分的分数形式与取字范围（难度系数）的乘积。</p>
<ul>
<li>取字范围（难度系数）</li>
</ul>
<p>综合考虑社会上流行的各种字表和字频统计数据，把《通用规范汉字表》由常用到不常用排序。开局时从字表前n个字中随机提取4个字供部件拆分，n即取字范围（难度系数）。实际拼成的字很可能超出此范围，难度系数暂未考虑此一因素。</p>
<ul>
<li>历史平均数据</li>
</ul>
<p>综合控制场景中另有此前所有各局平均的得分、取字范围（难度系数）。</p>
<ul>
<li>错误数</li>
</ul>
<p>拼字错误次数不影响得分，但影响下一局的取字范围（难度系数）。</p>
<h4>自适应调整难度</h4>
<p>软件根据本局的取字范围（难度系数）、得分、拼字错误次数，综合计算，自适应地调整下一局的取字范围（难度系数），从而使使用者能尽快地获得难易适中局面，然后保持稳健的前进或后退步伐。</p>
<p>目前的规则是：每个拼字错误计-2分，拼字错误负分与成功分合计后换算成分数，此值在大于等于0.6与小于0.8时之间时，步进取基本值50字；同一方向连续第n次步进，则下一个步进量为当前步进量的n倍。</p>
<p>本计算方法经后会有根本调整。</p>
<h3 id="_9">声音控制</h3>
<p>本游戏备有两组背景音乐和动作音效。使用者必须主动选择一组背景音乐，才能开始播放。</p>
<p>动作音效开关是对最近一次选择的背景音乐之配套音效的控制，所以必须事先选择过一次背景音乐才能生效。</p>
<h3 id="_10">微信版的社交功能</h3>
<ul>
<li>“转”字按钮，可打开微信的转发功能</li>
<li>“榜”字按钮，可打开排行榜场景</li>
</ul>
<p><img alt="排行榜（微信小游戏）" src="/images/排行榜（微信小游戏）.png"/></p>
<ul>
<li>微信游戏圈按钮，可打开微信游戏圈</li>
</ul>
<h2 id="_11">材料</h2>
<h3 id="_12">字表依据</h3>
<ul>
<li>字表以国务院《通用规范汉字表》（2013）为基础，并参考教育部《义务教育语文课程标准（2011）》附录4、5《识字、写字教学基本字表》《义务教育语文课程常用字表》，国家语委、国家教委《现代汉语常用字表》（1988）。</li>
<li>此外加入了30多个趣味性较强的同部件堆叠而成的字，如“吅、𠱠、㗊”。</li>
<li>字表排序先据参考字表的难易定性先后分组，然后各组根据多种字频统计数据排序。</li>
</ul>
<h3 id="_13">部件规则</h3>
<ul>
<li>部件拆分规则主要参考国家语委《基础教学用现代汉语常用字部件规范（征求意见稿）》（2003）。</li>
<li>部件拆分在“合于字理”“字形显明”“局部统一”三条原则之间争取平衡。</li>
<li>“合于字理”：如“必”拆为“八弋”。有个别为合于字理而违反字形结构的，如“卡”拆为“上下”，“甩”拆为“用乚”，“周”拆为“用口”，“丝”拆为“纟纟”，“所”拆为“户斤”。</li>
<li>“字形显然”：如“犬”拆为“大丶”，“令”拆为“今丶”。</li>
<li>“局部统一”：“比”拆为“匕匕”，则“切”拆为“七刀”。</li>
<li>明显的变形只以正体为代表，如“土”和提土旁，“有”分成“月”；结构变化较大的变体则分立，如“钅”与“金”。</li>
<li>涉及常用字、常用部件时更偏向有字理根据一边，比如“族、旌、旗、旒、施”等都拆分出“㫃”；不常用部件则偏向字形一边，如“善”拆分为“羊、䒑、口”而不是“羊、言”。</li>
<li>尽量采用二分法，如“器”分为“㗊、犬”，“㗊”分为“吅、吅”，以增加拼字的层次（避免多字一次拼成），或降低判断的难度；但涉及常用字、常用部件时仍优先考虑字理，如“品”字分为“口、口、口”，而不是“口、吅”。目前三拼以上的有110多字。</li>
<li>最终部件尽量成字，不能成字时则在符合字理、尽量减少不成字部件总量、尽量避免三个以上部件拼合三个原则之间争取平衡。如“皮”不再分拆。本软件实际使用500余个字表外的成字部件，150余个不成字部件。</li>
</ul>
<h3 id="_14">文字信息</h3>
<ul>
<li>相关字（变体、繁体、异体）数据依据国务院《通用规范汉字表》（2013），并有相当补充。</li>
<li>字典信息优先取《说文解字注》，其次取《说文解字》，再次取《康熙字典》。三种文本均据网络资料整理而成。</li>
<li>《说文》的小篆字形根据北京师范大学小篆字体整理而成。小篆字形在文本中的位置暂为标出，除第一个是字头外，其余需根据上下文判断。</li>
</ul>
<h3 id="_15">背景音乐和音效</h3>
<ul>
<li>第一组是软件著作权人约请艺术家创作的，自有版权</li>
<li>第二组是根据公版作品管平湖的《广陵散》制作而成</li>
</ul>
<h3 id="_16">美术设计</h3>
<ul>
<li>界面美术元素和整体设计均为自有版权。</li>
</ul>
<h2 id="_17">技术实现</h2>
<h3 id="_18">客户端</h3>
<ul>
<li>本软件客户端使用Typescript、JavaScript语言；</li>
<li>基于Egret（白鹭）游戏引擎开发；</li>
<li>可发布为微信小游戏、浏览器H5游戏、安卓APP、苹果iOS系统APP、Facebook游戏等多种平台形式。</li>
</ul>
<h3 id="_19">服务器端</h3>
<ul>
<li>服务器端使用Python语言和Flask框架，uWSGI和Nginx服务；</li>
<li>字表、部件、文字信息等在服务端预制，游戏时请求获取；</li>
<li>浏览器H5版和其他静态图文资料，在服务器端由Nginx提供服务。</li>
</ul></div>
        <hr />
    </div>

<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="/tag/pin-zi.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>       

 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/archives.html">Archives</a>
                <li><a href="/tags.html">Tags</a>




            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="/category/qiao-ji.html">巧技</a></li>
                <li><a href="/category/wen-yi.html">文艺</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://www.xiiigame.com">XiiiGame</a></li>
                <li><a href="http://www.xiiigame.com/example">拼字游戏</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/Fusyong">GitHub</a></li>
                <li><a href="https://www.facebook.com/Aahuaang">Facebook</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="">嬉戏实验室</a> &copy; 黄复雄 2018, Powered by <a href="http://getpelican.com/">Pelican</a></p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="/theme/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-105243279-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
<a href="https://github.com/Fusyong"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
 
</body>
</html>